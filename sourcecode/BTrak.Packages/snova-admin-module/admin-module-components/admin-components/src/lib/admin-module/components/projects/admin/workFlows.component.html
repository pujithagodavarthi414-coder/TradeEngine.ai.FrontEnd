<div class="p-0 workFlow">
    <mat-card class="p-0 canteen-manage m-0 mt-05">
        <mat-card-title class="full-width data-table-header drag-handler">
            <div fxLayout="row wrap" fxLayoutAlign="start center">
                <div class="card-title-text p-05 full-width ml-05" fxFlex fxLayoutAlign="start center">
                    <span fxFlex="100" class="hide-content-overflow">
                        {{'Work flows'  | titlecase}}</span>
                </div>
                <button mat-icon-button matTooltip="{{'WORKFLOWMANAGEMENT.CLICKHERETOADDWORKFLOW'  | translate}}"
                    [satPopoverAnchorFor]="addWorkflowPopover" (click)="addWorkflowPopover.open();clearForm() ">
                    <fa-icon icon="plus" class="mat-color-accent">
                    </fa-icon>
                </button>
            </div>
            <mat-divider></mat-divider>
        </mat-card-title>
    </mat-card>
    <mat-card-content class="p-0 workflows-sec" id="style-1">
        <mat-list class="compact-list" style="width: 250px">
            <div fxLayout="row wrap" fxLayout.sm="column" fxLayoutGap="2px" (click)="GetWorkFlow(workFlowRecord)"
                *ngFor="let workFlowRecord of allWorkFlowRecords"
                [ngStyle]="{ 'background-color':  workFlowRecord.workFlowId === workflowId ? '#e6f5ff' : '' }"
                class="configuration-list">
                <div fxFlex="15" fxFlex.lt-md="19">
                    <app-avatar fxHide fxHide.gt-lg="false"
                        [name]=" workFlowRecord.workFlowName| removeSpecialCharacters" [isRound]="false" size="30">
                    </app-avatar>
                </div>
                <div fxFlex="75" fxFlex.md="55">
                    <p class="mat-body-2" matTooltip="{{ workFlowRecord.workFlowName }}">
                        {{ workFlowRecord.workFlowName }}
                    </p>
                </div>
            </div>

        </mat-list>
    </mat-card-content>
</div>

<sat-popover #addWorkflowPopover verticalAlign="below" hasBackdrop [autoFocus]="false" horizontalAlign="start"
    backdropClass="backdrop-color">
    <mat-card class="filter-data p-0">
        <div>
            <mat-card-title class="text-center">
                <div class="card-title-text mat-bg-primary p-05">{{'WORKFLOWMANAGEMENT.ADDWORKFLOW'  | translate}}</div>
            </mat-card-title>
            <form [formGroup]="workFlowForm" novalidate #formDirective="ngForm"
                (submit)="workFlowForm.valid && saveWorkFlowData()">
                <div class="card-content p-05">
                    <mat-form-field class="full-width">
                        <input formControlName="WorkFlowName" matInput
                            placeholder="{{'WORKFLOWMANAGEMENT.WORKFLOWNAME'  | translate}}" (keyup)="onKey()"
                            required />
                        <mat-error>
                            <span
                                *ngIf="workFlowForm.get('WorkFlowName').hasError('required') && workFlowForm.get('WorkFlowName').touched">{{'WORKFLOWMANAGEMENT.PLEASEENTERNAME'  | translate}}</span>
                            <span
                                *ngIf="workFlowForm.get('WorkFlowName').hasError('maxlength')">{{'WORKFLOWMANAGEMENT.WORKFLOWERROR'  | translate}}</span>

                        </mat-error>
                    </mat-form-field>
                    <mat-error *ngIf="isThereAnError">{{ validationmessage }}</mat-error>
                    <div class="text-center mt-1-05">
                        <button mat-raised-button color="primary" class="mr-05" type="submit"
                            [disabled]="!workFlowForm.valid || showSpinner">
                            <mat-progress-bar color="primary" mode="indeterminate" *ngIf="showSpinner">
                            </mat-progress-bar>
                            <fa-icon icon="plus" class="mr-05"></fa-icon>
                            {{'WORKFLOWMANAGEMENT.ADD' | translate }}
                        </button>
                        <button mat-raised-button (click)="closeWorkflowForm()" type="button">
                            <fa-icon icon="times" class="mr-05"></fa-icon>{{ 'CANCEL' | translate }}
                        </button>
                    </div>
                </div>
            </form>
        </div>
    </mat-card>
</sat-popover>