<div *ngIf="(canAccess_feature_ViewHistoricalTimesheet)">
  <mat-card class="time_sheet_audit_padding">
    <div fxLayout="row wrap" fxLayout.xs="column" fxLayoutGap.xs="0px" fxLayoutGap="15px">
      <div id="ta-2">
      <mat-form-field>
        <mat-label>{{'MYPROFILE.FROMDATE' | translate}}</mat-label>
        <input matInput [matDatepicker]="picker1" [max]="maxDate" (click)="picker1.open()" autocomplete="off"
          (dateChange)="onDateFromChange($event)" class="date-picker" [(ngModel)]="DateFrom" [readonly]="true">
        <mat-datepicker-toggle matSuffix [for]="picker1"></mat-datepicker-toggle>
        <mat-datepicker #picker1></mat-datepicker>
      </mat-form-field>
      <mat-form-field>
        <mat-label>{{'MYPROFILE.TODATE' | translate}}</mat-label>
        <input matInput [matDatepicker]="picker2" [min]="minDate" [max]="maxDate" (click)="picker2.open()"
          autocomplete="off" (dateChange)="onDateToChange($event)" class="date-picker" [(ngModel)]="DateTo"
          [readonly]="true">
        <mat-datepicker-toggle matSuffix [for]="picker2"></mat-datepicker-toggle>
        <mat-datepicker #picker2></mat-datepicker>
      </mat-form-field>
    </div>
    </div>
  </mat-card>

  <div id="ta-1">
    <mat-card class="p-0">
      <mat-card-content class="p-0" fxLayout="column">
        <div class="activity-data pagination-move-left my-assets-scroll">
          <ngx-datatable class="btrak" [columnMode]="'force'" [headerHeight]="35" [footerHeight]="50" [rowHeight]="50"
            [rows]="timeSheetAudit" [externalPaging]="true" [count]="page.totalElements" (page)='setPage($event)'
            (sort)="onSort($event)" [offset]="page.pageNumber" [limit]="page.size" [externalSorting]="true"
            [messages]="{emptyMessage:('NODATATODISPLAY' | translate), totalMessage: 'TOTAL' | translate}">
            <ngx-datatable-column name="{{'MYPROFILE.DESCRIPTION' | translate}}" [flexGrow]="1" sortable="true"
              prop="Description">
              <ng-template let-row="row" ngx-datatable-cell-template>
                {{ row?.userName }} {{ row?.fieldName | language }} {{ row?.punchTime | utcToLocalTime | timeago :
                'live'}}
              </ng-template>
            </ngx-datatable-column>
            <ngx-datatable-column name="{{'MYPROFILE.UPDATEDDATE' | translate}}" [flexGrow]="1" sortable="true"
              prop="UpdatedDateTime">
              <ng-template let-row="row" ngx-datatable-cell-template>
                <span> {{ row?.createdDateTime | utcToLocalTime | date: "dd-MMM-yyyy"}} </span>
              </ng-template>
            </ngx-datatable-column>
          </ngx-datatable>
        </div>
      </mat-card-content>
    </mat-card>
  </div>
</div>

<app-common-message-box *ngIf="!(canAccess_feature_ViewHistoricalTimesheet)"
  textToDisplay="{{ 'MYPROFILE.ALERTMESSAGE' | translate }}">
</app-common-message-box>
