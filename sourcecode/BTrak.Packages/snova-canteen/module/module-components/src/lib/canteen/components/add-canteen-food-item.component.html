<mat-card-title class="text-center">
  <div class="card-title-text  mat-bg-primary p-05">{{'CANTEEN.ADDFOODITEM' | translate}}
  </div>
</mat-card-title>
<form [formGroup]="addFoodItemForm" #formDirective="ngForm" novalidate (submit)="addFoodItemForm.valid && UpsertFoodItem(formDirective)">
  <div class="card-content p-05">
    <div fxLayout="row" fxLayoutGap="10px" class="p-05" fxLayoutGap.xs="0px" fxLayout.xs="column">
      <div fxFlex="49" fxFlex.xs="100">
        <mat-form-field class="full-width">
          <input matInput formControlName="foodItemName" placeholder="{{'CANTEEN.NEWITEMNAME' | translate}}" required>
          <mat-error>
            <span
              *ngIf="addFoodItemForm.get('foodItemName').hasError('required') && addFoodItemForm.get('foodItemName').touched">{{'CANTEEN.PLEASEENTERFOODITEMNAME' | translate}}</span>
            <span
              *ngIf="addFoodItemForm.get('foodItemName').hasError('maxlength')">{{'CANTEEN.FOODITEMNAMESHOULDNOTEXCEEDLIMITEDCHARACTERS' | translate}}</span>
          </mat-error>
        </mat-form-field>
      </div>
      <div fxFlex="49" fxFlex.xs="100">
        <mat-form-field class="full-width">
          <input type="text" matInput formControlName="price" (keypress)="numberOnly($event)" BlockPaste
            placeholder="{{'CANTEEN.ITEMPRICE' | translate}}" required/>
          <mat-error>
            <span
              *ngIf="addFoodItemForm.get('price').hasError('required') && addFoodItemForm.get('price').touched">{{'CANTEEN.PLEASEENTERPRICEOFTHEFOODITEM' | translate}}</span>
            <span
              *ngIf="addFoodItemForm.get('price').hasError('min')">{{'CANTEEN.PRICESHOULDBEGREATERTHANOREQUALTOZERO' | translate}}</span>
            <span
              *ngIf="addFoodItemForm.get('price').hasError('max')">{{'CANTEEN.ORDERAMOUNTMAXVALIDATIONMESSAGE' | translate}}</span>
            <span *ngIf="addFoodItemForm.get('price').hasError('pattern')">{{'HRMANAGAMENT.ENTERCORRECTNUMBERFORMAT' | translate}}
            </span>
          </mat-error>
        </mat-form-field>
  
      </div>
    </div>
    <div fxLayout="row" fxLayoutGap="10px" class="p-05" fxLayoutGap.xs="0px" fxLayout.xs="column">
      <div fxFlex="49" fxFlex.xs="100">
        <mat-form-field class="full-width">
          <mat-select formControlName="branchId" placeholder="{{'CANTEEN.SELECTBRANCH' | translate}}" required>
            <mat-option *ngFor="let branch of branchList$ | async" [value]="branch.branchId">{{branch.branchName}}
            </mat-option>
          </mat-select>
          <mat-error>
            <span
              *ngIf="addFoodItemForm.get('branchId').hasError('required') && addFoodItemForm.get('branchId').touched">{{'CANTEEN.PLEASESELECTBRANCHDETAILS' | translate}}</span>
          </mat-error>
        </mat-form-field>
      </div>
    </div>
    <div class="text-center mb-05">
      <button mat-button mat-raised-button type="submit" color="primary" class="mr-1"
        [disabled]="!addFoodItemForm.valid || (upsertFoodItemInProgress$ | async)">
        <mat-progress-bar color="primary" mode="indeterminate" *ngIf="upsertFoodItemInProgress$ | async">
        </mat-progress-bar>
        <fa-icon class="mr-05" icon="check"></fa-icon>{{'CANTEEN.SAVE' | translate}}
      </button>
      <button mat-button mat-raised-button
        [disabled]="upsertFoodItemInProgress$ | async" (click)="closeAddFoodItemForm();false">
        <fa-icon class="mr-05" icon="times"></fa-icon>{{'CANTEEN.CANCEL' | translate}}
      </button>
    </div>
  </div>
</form>