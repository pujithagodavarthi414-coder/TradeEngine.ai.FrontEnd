<!doctype html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <title>ElementApp</title>
  <base href="/">

  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="icon" type="image/x-icon" href="favicon.ico">
  <link href="https://fonts.googleapis.com/css?family=Roboto:300,400,500" rel="stylesheet">
  <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
  <link rel="stylesheet" href="https://unpkg.com/@progress/kendo-theme-default@latest/dist/all.css" />
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css">
  <link rel="stylesheet" href="https://unpkg.com/formiojs@latest/dist/formio.full.min.css">
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.8.3/jquery.min.js"></script>
  <script src="https://html2canvas.hertzen.com/dist/html2canvas.js"></script>
  <script src="https://unpkg.com/formiojs@latest/dist/formio.full.min.js"></script>
  <link rel="stylesheet" href="https://kendo.cdn.telerik.com/themes/4.41.2/bootstrap/bootstrap-main.css">
 
  <script>
    var global = global || window;
    var process = process || {
      env: { DEBUG: undefined },
      version: []
    };
  </script>

  <script type="text/javascript">
    async function downloadimageTs(id) {
      /*var container = document.getElementById("image-wrap");*/ /*specific element on page*/
      window.scrollTo(0, 0);
      id = localStorage.getItem("customApplicationId");
      var container = document.getElementById(id); /* full page */
      container.style.height = 'auto';
      container.style.width = 'auto';
      container.style.overflow = 'visible';
      var appName = localStorage.getItem("appName");

      console.log(container);
      let canvas = await html2canvas(container);
      if (canvas) {
        var link = document.createElement("a");
        document.body.appendChild(link);
        link.download = appName + ".jpeg";
        link.href = canvas.toDataURL();
        link.target = '_blank';
        link.click();
      }
    }


    function downloadImageJquery(e) {
      console.log('success');
      $my_view = $('#ohhi');
      var useHeight = $('#ohhi').prop('scrollHeight');
      html2canvas($my_view[0], {
        height: useHeight,
        useCORS: true,
        allowTaint: true,
        // proxy: "your proxy url",
        onrendered: function (canvas) {
          var imgSrc = canvas.toDataURL();
          var popup = window.open(imgSrc);
          // $('.element').css('position', 'absolute');
        }
      });

    }
  </script>

</head>

<body class="egret-btrak">
  <app-root></app-root>
</body>

</html>