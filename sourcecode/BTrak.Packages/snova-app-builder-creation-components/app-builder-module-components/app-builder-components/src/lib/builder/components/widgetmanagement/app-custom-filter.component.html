<div fxLayout="row">
    <div fxFlex *ngIf="displayLocation == 1">
        <mat-chip disableRipple matRipple class="mr-08 pull-right" *ngIf="selectedFormName">
            {{ 'RESIDENT.FORMNAME' | translate }} :
            {{ selectedFormName }}
        </mat-chip>
        {{dynamicFilters |json}}
        <span *ngFor="let filters of dynamicFilters">
            <mat-chip disableRipple matRipple class="mr-08 pull-right"
                *ngIf="(filters.filterKey == 'Project' && filters.isSystemFilter == true && filters.filterValue)">
                <b>{{ filters.filterName }}</b> :
                {{ selectedProjectName }}
                <fa-icon icon="times" class="ml-05 mat-color-accent cursor-pointer"
                    (click)="removedynamicfilter(filters,'Project')">
                </fa-icon>
            </mat-chip>
            <mat-chip disableRipple matRipple class="mr-08 pull-right"
                *ngIf="(filters.filterKey == 'TestSuite' && filters.isSystemFilter == true && filters.filterValue)">
                <b>{{ filters.filterName }}</b> :
                {{ selectedTestSuiteName }}
                <fa-icon icon="times" class="ml-05 mat-color-accent cursor-pointer"
                    (click)="removedynamicfilter(filters,'TestSuite')">
                </fa-icon>
            </mat-chip>

            <mat-chip disableRipple matRipple class="mr-08 pull-right"
                *ngIf="(filters.filterKey == 'Audit' && filters.isSystemFilter == true && filters.filterValue)">
                <b>{{ filters.filterName }}</b> :
                {{ selectedAuditName }}
                <fa-icon icon="times" class="ml-05 mat-color-accent cursor-pointer"
                    (click)="removedynamicfilter(filters,'Audit')">
                </fa-icon>
            </mat-chip>
            <mat-chip disableRipple matRipple class="mr-08 pull-right"
            *ngIf="(filters.filterKey == 'BusinessUnit' && filters.isSystemFilter == true && filters.filterValue)">
            <b>{{ filters.filterName }}</b> :
            {{ selectedBusinessUnit }}
            <fa-icon icon="times" class="ml-05 mat-color-accent cursor-pointer"
                (click)="removedynamicfilter(filters,'BusinessUnit')">
            </fa-icon>
            </mat-chip>
            <mat-chip disableRipple matRipple class="mr-08 pull-right"
                *ngIf="(filters.filterKey == 'User' && filters.isSystemFilter == true && filters.filterValue)">
                <b>{{ filters.filterName }}</b> :
                {{ selectedUserName }}
                <fa-icon icon="times" class="ml-05 mat-color-accent cursor-pointer"
                    (click)="removedynamicfilter(filters,'User')">
                </fa-icon>
            </mat-chip>
            <mat-chip disableRipple matRipple class="mr-08 pull-right"
                *ngIf="(filters.filterKey == 'Entity' && filters.isSystemFilter == true && filters.filterValue)">
                <b>{{ filters.filterName }}</b> :
                {{ selectedEntityName }}
                <fa-icon icon="times" class="ml-05 mat-color-accent cursor-pointer"
                    (click)="removedynamicfilter(filters,'Entity')">
                </fa-icon>
            </mat-chip>
            <mat-chip disableRipple matRipple class="mr-08 pull-right"
                *ngIf="(filters.filterKey == 'Branch' && filters.isSystemFilter == true && filters.filterValue)">
                <b>{{ filters.filterName }}</b> :
                {{ selectedBranchName }}
                <fa-icon icon="times" class="ml-05 mat-color-accent cursor-pointer"
                    (click)="removedynamicfilter(filters,'Branch')">
                </fa-icon>
            </mat-chip>
            <mat-chip disableRipple matRipple class="mr-08 pull-right"
                *ngIf="(filters.filterKey == 'Designation' && filters.isSystemFilter == true && filters.filterValue)">
                <b>{{ filters.filterName }}</b> :
                {{ selectedDesignationName }}
                <fa-icon icon="times" class="ml-05 mat-color-accent cursor-pointer"
                    (click)="removedynamicfilter(filters,'Designation')">
                </fa-icon>
            </mat-chip>
            <mat-chip disableRipple matRipple class="mr-08 pull-right"
                *ngIf="(filters.filterKey == 'Role' && filters.isSystemFilter == true && filters.filterValue)">
                <b>{{ filters.filterName }}</b> :
                {{ selectedRoleName }}
                <fa-icon icon="times" class="ml-05 mat-color-accent cursor-pointer"
                    (click)="removedynamicfilter(filters,'Role')">
                </fa-icon>
            </mat-chip>
            <mat-chip disableRipple matRipple class="mr-08 pull-right"
                *ngIf="(filters.filterKey == 'Department' && filters.isSystemFilter == true && filters.filterValue)">
                <b>{{ filters.filterName }}</b> :
                {{ selectedDepartmentName }}
                <fa-icon icon="times" class="ml-05 mat-color-accent cursor-pointer"
                    (click)="removedynamicfilter(filters,'Department')">
                </fa-icon>
            </mat-chip>
            <mat-chip disableRipple matRipple class="mr-08 pull-right"
                *ngIf="(filters.filterKey == 'EmploymentStatus' && filters.isSystemFilter == true && filters.filterValue)">
                <b>{{ filters.filterName }}</b> :
                {{ selectedEmploymentStatus }}
                <fa-icon icon="times" class="ml-05 mat-color-accent cursor-pointer"
                    (click)="removedynamicfilter(filters,'EmploymentStatus')">
                </fa-icon>
            </mat-chip>
            <mat-chip disableRipple matRipple class="mr-08 pull-right"
                *ngIf="(filters.filterKey == 'Source' && filters.isSystemFilter == true && filters.filterValue)">
                <b>{{ filters.filterName }}</b> :
                {{ selectedSource }}
                <fa-icon icon="times" class="ml-05 mat-color-accent cursor-pointer"
                    (click)="removedynamicfilter(filters,'Source')">
                </fa-icon>
            </mat-chip>
            <mat-chip disableRipple matRipple class="mr-08 pull-right"
                *ngIf="(filters.filterKey == 'JobOpeningStatus' && filters.isSystemFilter == true && filters.filterValue)">
                <b>{{ filters.filterName }}</b> :
                {{ selectedJobOpeningStatus }}
                <fa-icon icon="times" class="ml-05 mat-color-accent cursor-pointer"
                    (click)="removedynamicfilter(filters,'JobOpeningStatus')">
                </fa-icon>
            </mat-chip>
            <mat-chip disableRipple matRipple class="mr-08 pull-right"
                *ngIf="(filters.filterKey == 'HiringStatus' && filters.isSystemFilter == true && filters.filterValue)">
                <b>{{ filters.filterName }}</b> :
                {{ selectedHiringStatus }}
                <fa-icon icon="times" class="ml-05 mat-color-accent cursor-pointer"
                    (click)="removedynamicfilter(filters,'HiringStatus')">
                </fa-icon>
            </mat-chip>
            <mat-chip disableRipple matRipple class="mr-08 pull-right"
              *ngIf="(filters.filterKey == 'Candidate' && filters.isSystemFilter == true && filters.filterValue)">
              <b>{{ filters.filterName }}</b> :
              {{ selectedCandidate }}
             <fa-icon icon="times" class="ml-05 mat-color-accent cursor-pointer"
                (click)="removedynamicfilter(filters,'Candidate')">
            </fa-icon>
           </mat-chip>
            <mat-chip disableRipple matRipple class="mr-08 pull-right"
                *ngIf="(filters.filterKey == 'FinancialYear' && filters.isSystemFilter == true && filters.filterValue)">
                <b>{{ filters.filterName }}</b> :
                {{ tempSelectedFinancial }}
                <fa-icon icon="times" class="ml-05 mat-color-accent cursor-pointer"
                    (click)="removedynamicfilter(filters,'FinancialYear')">
                </fa-icon>
            </mat-chip>
            <mat-chip disableRipple matRipple class="mr-08 pull-right"
                *ngIf="(filters.filterKey == 'ActiveEmployees' && filters.isSystemFilter == true && filters.filterValue)">
                <b>{{ filters.filterName }}</b> :
                {{ tempSelectedActiveEmployee }}
                <fa-icon icon="times" class="ml-05 mat-color-accent cursor-pointer"
                    (click)="removedynamicfilter(filters,'ActiveEmployees')">
                </fa-icon>
            </mat-chip>
            <mat-chip disableRipple matRipple class="mr-08 pull-right"
                *ngIf="(filters.filterKey == 'Month' && filters.isSystemFilter == true && filters.filterValue)">
                <b>{{ filters.filterName }}</b> :
                {{ tempMonthDate }}
                <fa-icon icon="times" class="ml-05 mat-color-accent cursor-pointer"
                    (click)="removedynamicfilter(filters,'Month')">
                </fa-icon>
            </mat-chip>
            <mat-chip disableRipple matRipple class="mr-08 pull-right"
                *ngIf="(filters.filterKey == 'Year' && filters.isSystemFilter == true && filters.filterValue)">
                <b>{{ filters.filterName }}</b> :
                {{ tempYearDate }}
                <fa-icon icon="times" class="ml-05 mat-color-accent cursor-pointer"
                    (click)="removedynamicfilter(filters,'Year')">
                </fa-icon>
            </mat-chip>
            <mat-chip disableRipple matRipple class="mr-08 pull-right"
                *ngIf="(filters.filterKey == 'Date' && filters.isSystemFilter == true && filters.filterValue)">
                <b>{{ filters.filterName }}</b> :
                <span *ngIf="tempDateFrom && tempDateTo">
                    {{tempDateFrom | date: "dd-MMM-yyyy"}} {{ 'TESTMANAGEMENT.TO' | translate }}
                    {{tempDateTo | date: "dd-MMM-yyyy"}}
                </span>
                <span *ngIf="tempSingleDate">
                    {{tempSingleDate | date: "dd-MMM-yyyy"}}
                </span>
                <fa-icon icon="times" class="ml-05 mat-color-accent cursor-pointer"
                    (click)="removedynamicfilter(filters,'Date')">
                </fa-icon>
            </mat-chip>
            <mat-chip disableRipple matRipple class="mr-08 pull-right"
                *ngIf="(filters.isSystemFilter == false && filters.filterValue)">
                <b>{{ filters.filterName }}</b> :
                {{ filters.filterValue }}
                <fa-icon icon="times" class="ml-05 mat-color-accent cursor-pointer"
                    (click)="removedynamicfilter(filters,null)">
                </fa-icon>
            </mat-chip>
        </span>
    </div>
    <div fxFlex="{{ (displayLocation == 1) ? '25px' : '100' }}" fxLayoutAlign="center center"
        class="mr-05 dashboard-options custom-app-padding"
        [ngClass]="{ 'icons-visible' : (displayLocation == 2) && activeFiltersCount == 0 }">
        <fa-icon icon="filter"
            [matTooltip]="(activeFiltersCount > 0 && displayLocation == 2) ? filterAppliedToolTip : filterToolTip"
            [satPopoverAnchorFor]="userFilter" #userFilterPopover="satPopoverAnchor"
            (click)="openFilterPopover(userFilterPopover)" class="mat-color-accent cursor-pointer"></fa-icon>
    </div>
</div>

<sat-popover #userFilter hasBackdrop verticalAlign="below" [interactiveClose]="true" backdropClass="backdrop-color">
    <mat-card class="p-0">
        <mat-card-content class="pl-05 custom-app-filter-key" style="width: 250px;">
            <mat-form-field fxLayoutAlign="start center">
                <input name="search" class="search_goal" matInput (input)="searchFilter()"
                    [(ngModel)]="filterSearchText" [matAutocomplete]="auto" autocomplete="on"
                    placeholder="{{'APP.SELECTAFILTER' | translate}}" trim>
                <i class="fa fa-spin fa-spinner custom-auto-spinner-timesheet" *ngIf="tagsLoadingInProgress"></i>
                <span class="linked-userstory-close">
                    <span *ngIf="!filterSearchText">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>
                </span>
                <mat-autocomplete #auto="matAutocomplete" [displayWith]="displayFn.bind(this)" class="auto-width"
                    (optionSelected)="onChangeTag($event.option.value)">
                    <mat-option *ngFor="let tag of filteredTags" [value]="tag">
                        {{tag.filterName}}
                    </mat-option>
                </mat-autocomplete>
            </mat-form-field>
            <div fxLayout="row">
                <div fxFlex *ngIf="selectedFilterValue == '0'">
                    <mat-form-field class="full-width">
                        <mat-select placeholder="{{'APP.SELECTAPROJECT' | translate}}"
                            (selectionChange)="projectselected($event.value)">
                            <mat-option *ngFor="let project of projectsList" [value]="project.projectId">
                                {{project.projectName}}
                            </mat-option>
                        </mat-select>
                    </mat-form-field>
                    <mat-error *ngIf="filterValueRequired">
                        {{ 'APP.PROJECTISREQUIRED' | translate }}
                    </mat-error>
                </div>
                <div fxFlex *ngIf="selectedFilterValue == '13'">
                    <mat-form-field class="full-width">
                        <mat-select placeholder="Select an audit" (selectionChange)="auditSelected($event.value)">
                            <mat-option *ngFor="let audit of auditList" [value]="audit.auditId">
                                {{audit.auditName}}
                            </mat-option>
                        </mat-select>
                    </mat-form-field>
                    <mat-error *ngIf="filterValueRequired">
                        Audit is required
                    </mat-error>
                </div>                
                <div fxFlex *ngIf="selectedFilterValue == '15'">
                    <mat-form-field class="full-width">
                        <mat-select placeholder="{{'BUSINESSUNIT.SELECTBUSINESSUNIT' | translate}}"
                        (selectionChange)="businessUnitSelected($event.value)">
                          <mat-option *ngFor="let businessUnit of businessUnitsList" [value]="businessUnit.businessUnitId">
                            {{businessUnit.businessUnitName}}
                          </mat-option>
                        </mat-select>
                      </mat-form-field>
                    <mat-error *ngIf="filterValueRequired">
                        {{ 'BUSINESSUNIT.BUSINESSUNITISREQUIRED' | translate }}
                    </mat-error>
                </div>
                <div fxFlex *ngIf="selectedFilterValue == '14'">
                    <mat-form-field class="full-width">
                        <mat-select placeholder="{{'TESTMANAGEMENT.TESTSUITE' | translate | softLabelsPipe : softLabels}}" (selectionChange)="testSuiteselected($event.value)">
                            <mat-option *ngFor="let testSuite of testSuiteList" [value]="testSuite.testSuiteId">
                                {{testSuite.testSuiteName}}
                            </mat-option>
                        </mat-select>
                    </mat-form-field>
                    <mat-error *ngIf="filterValueRequired">
                        Test suite is required
                    </mat-error>
                </div>
                
                <div fxFlex *ngIf="selectedFilterValue == '1'">
                    <mat-form-field class="full-width">
                        <mat-select class="full-width" placeholder="{{'APP.SELECTAUSER' | translate}}"
                            (selectionChange)="userselected($event.value)">
                            <mat-select-trigger>
                                {{tempSelectedUserName}}
                            </mat-select-trigger>
                            <mat-option [value]="user.teamMemberId" *ngFor="let user of usersList">
                                <div fxLayout="row wrap" fxLayoutGap="5px">
                                    <div fxFlex="35px">
                                        <app-avatar [name]="user.teamMemberName"
                                            [src]="user.profileImage" [isRound]="true" size="30">
                                        </app-avatar>
                                    </div>
                                    <div fxFlex="75">
                                        <p class="mat-body-2">
                                            {{ user.teamMemberName }}
                                        </p>
                                    </div>
                                </div>
                            </mat-option>
                        </mat-select>
                    </mat-form-field>
                    <mat-error *ngIf="filterValueRequired">
                        {{ 'APP.USERISREQUIRED' | translate }}
                    </mat-error>
                </div>
                <div fxFlex *ngIf="selectedFilterValue == '2'">
                    <mat-radio-group aria-label="Select an option" [(ngModel)]="dateType" (change)="onDateTypeChange()">
                        <mat-radio-button value="date" class="pr-05">Date</mat-radio-button>
                        <mat-radio-button value="dateRange">Date range</mat-radio-button>
                    </mat-radio-group>
                    <div *ngIf="dateType == 'date'">
                        <mat-form-field class="full-width">
                            <input matInput [matDatepicker]="picker3" (click)="picker.open()" placeholder="Date"
                                required autocomplete="off" [(ngModel)]="singleDate" (dateChange)="dateChanged()">
                            <mat-datepicker-toggle matSuffix [for]="picker3"></mat-datepicker-toggle>
                            <mat-datepicker #picker3></mat-datepicker>
                        </mat-form-field>
                    </div>
                    <div *ngIf="dateType == 'dateRange'">
                        <mat-form-field class="full-width">
                            <input matInput [matDatepicker]="picker" (click)="picker.open()"
                                placeholder="{{ 'TESTMANAGEMENT.DATEFROM' | translate}}" required autocomplete="off"
                                [(ngModel)]="dateFrom" (dateChange)="dateChanged();startDate()" (input)="startDate()"
                                [max]="maxDate" [min]="minDate">
                            <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
                            <mat-datepicker #picker></mat-datepicker>
                        </mat-form-field>
                        <mat-form-field class="full-width">
                            <input matInput [matDatepicker]="picker1" (click)="picker1.open()"
                                placeholder="{{ 'TESTMANAGEMENT.TODATE' | translate}}" required autocomplete="off"
                                [(ngModel)]="dateTo" (dateChange)="dateChanged()" [min]="minDateForEndDate"
                                disabled={{endDateBool}} [readonly]="true" autocomplete="off">
                            <mat-datepicker-toggle matSuffix [for]="picker1"></mat-datepicker-toggle>
                            <mat-datepicker #picker1></mat-datepicker>
                        </mat-form-field>
                        <mat-radio-group aria-label="Select an option" [(ngModel)]="dateValue" (change)="onChange()">
                            <mat-radio-button value="lastWeek" class="pr-05">{{ 'TESTMANAGEMENT.LASTWEEK' | translate}}
                            </mat-radio-button>
                            <mat-radio-button value="nextWeek">{{ 'TESTMANAGEMENT.NEXTWEEK' | translate}}
                            </mat-radio-button>
                            <mat-radio-button value="thisMonth" class="pr-05">
                                {{ 'TESTMANAGEMENT.THISMONTH' | translate}}</mat-radio-button>
                            <mat-radio-button value="lastMonth">{{ 'TESTMANAGEMENT.LASTMONTH' | translate}}
                            </mat-radio-button>
                        </mat-radio-group>
                    </div>
                </div>
                <div fxFlex *ngIf="selectedFilterValue == '3'">
                    <mat-form-field class="full-width">
                        <mat-select placeholder="{{ 'WIDGETS.SELECTBRANCH' | translate }}"
                            [(ngModel)]="selectedEntityId" (selectionChange)="entitySelected($event.value)">
                            <mat-option *ngFor="let entity of entities" [value]="entity.id">
                                {{entity.name}}
                            </mat-option>
                        </mat-select>
                    </mat-form-field>
                    <mat-error *ngIf="filterValueRequired">
                        {{ 'APP.ENTITYISREQUIRED' | translate }}
                    </mat-error>
                </div>
                <div fxFlex *ngIf="selectedFilterValue == '4'">
                    <mat-form-field class="full-width">
                        <mat-select placeholder="Select branch" [(ngModel)]="selectedBranchId"
                            (selectionChange)="branchSelected($event.value)">
                            <mat-option *ngFor="let branch of branches" [value]="branch.branchId">
                                {{branch.branchName}}
                            </mat-option>
                        </mat-select>
                    </mat-form-field>
                    <mat-error *ngIf="filterValueRequired">
                        {{ 'APP.BRANCHREQUIRED' | translate }}
                    </mat-error>
                </div>
                <div fxFlex *ngIf="selectedFilterValue == '17'">
                    <mat-form-field class="full-width">
                        <mat-select placeholder="Select EmploymentStatus" [(ngModel)]="selectedEmploymentStatusId"
                            (selectionChange)="EmploymentStatusSelected($event.value)">
                            <mat-option *ngFor="let employmentStatus of EmploymentStatus" [value]="employmentStatus.employmentStatusId">
                                {{employmentStatus.employmentStatusName}}
                            </mat-option>
                        </mat-select>
                    </mat-form-field>
                    <mat-error *ngIf="filterValueRequired">
                        {{ 'APP.EMPLOYMENTSTATUSREQUIRED' | translate }}
                    </mat-error>
                </div>
                
                <div fxFlex *ngIf="selectedFilterValue == '18'">
                    <mat-form-field class="full-width">
                        <mat-select placeholder="Select Source" [(ngModel)]="selectedSourceId"
                            (selectionChange)="SourceSelected($event.value)">
                            <mat-option *ngFor="let source of Sources" [value]="source.sourceId">
                                {{source.name}}
                            </mat-option>
                        </mat-select>
                    </mat-form-field>
                    <mat-error *ngIf="filterValueRequired">
                        {{ 'APP.SOURCEREQUIRED' | translate }}
                    </mat-error>
                </div>
                <div fxFlex *ngIf="selectedFilterValue == '19'">
                    <mat-form-field class="full-width">
                        <mat-select placeholder="Select JobOpeningStatus" [(ngModel)]="selectedJobOpeningStatusId"
                            (selectionChange)="JobOpeningStatusSelected($event.value)">
                            <mat-option *ngFor="let jobOpeningStatus of JobOpeningStatus" [value]="jobOpeningStatus.jobOpeningStatusId">
                                {{jobOpeningStatus.status}}
                            </mat-option>
                        </mat-select>
                    </mat-form-field>
                    <mat-error *ngIf="filterValueRequired">
                        {{ 'APP.JOBOPENINGSTATUSREQUIRED' | translate }}
                    </mat-error>
                </div>
                <div fxFlex *ngIf="selectedFilterValue == '16'">
                    <mat-form-field class="full-width">
                        <mat-select placeholder="Select HiringStatus" [(ngModel)]="selectedHiringStatusId"
                            (selectionChange)="HiringStatusSelected($event.value)">
                            <mat-option *ngFor="let hiringStatus of HiringStatus" [value]="hiringStatus.hiringStatusId">
                                {{hiringStatus.status}}
                            </mat-option>
                        </mat-select>
                    </mat-form-field>
                    <mat-error *ngIf="filterValueRequired">
                        {{ 'APP.HIRINGSTATUSREQUIRED' | translate }}
                    </mat-error>
                </div>
                <div fxFlex *ngIf="selectedFilterValue == '20'">
                    <mat-form-field class="full-width">
                        <mat-select placeholder="Select Candidate" [(ngModel)]="selectedCandidateId"
                            (selectionChange)="CandidateSelected($event.value)">
                            <mat-option *ngFor="let candidate of Candidates" [value]="candidate.candidateId">
                                {{candidate.firstName}}
                                {{candidate.lastName}}
                            </mat-option>
                        </mat-select>
                    </mat-form-field>
                    <mat-error *ngIf="filterValueRequired">
                        {{ 'APP.CANDIDATEREQUIRED' | translate }}
                    </mat-error>
                </div>
                <div fxFlex *ngIf="selectedFilterValue == '5'">
                    <mat-form-field class="full-width">
                        <mat-select placeholder="Select designation" [(ngModel)]="selectedDesignationId"
                            (selectionChange)="designationSelected($event.value)">
                            <mat-option *ngFor="let designation of designationList" [value]="designation.designationId">
                                {{designation.designationName}}
                            </mat-option>
                        </mat-select>
                    </mat-form-field>
                    <mat-error *ngIf="filterValueRequired">
                        {{ 'APP.DESIGNATIONREQUIRED' | translate }}
                    </mat-error>
                </div>
                <div fxFlex *ngIf="selectedFilterValue == '6'">
                    <mat-form-field class="full-width">
                        <mat-select placeholder="Select role" [(ngModel)]="selectedRoleId"
                            (selectionChange)="roleSelected($event.value)">
                            <mat-option *ngFor="let role of rolesList" [value]="role.roleId">
                                {{role.roleName}}
                            </mat-option>
                        </mat-select>
                    </mat-form-field>
                    <mat-error *ngIf="filterValueRequired">
                        {{ 'APP.ROLEREQUIRED' | translate }}
                    </mat-error>
                </div>
                <div fxFlex *ngIf="selectedFilterValue == '8'">
                    <mat-form-field class="full-width">
                        <mat-select placeholder="Select department" [(ngModel)]="selectedDepartmentId"
                            (selectionChange)="departmentSelected($event.value)">
                            <mat-option *ngFor="let department of departmentList" [value]="department.departmentId">
                                {{department.departmentName}}
                            </mat-option>
                        </mat-select>
                    </mat-form-field>
                    <mat-error *ngIf="filterValueRequired">
                        {{ 'APP.DEPARTMENTREQUIRED' | translate }}
                    </mat-error>
                </div>
                <div fxFlex *ngIf="selectedFilterValue == '9'">
                    <span class="mr-1">Is fianancial year</span>
                    <mat-slide-toggle class="mr-1 archive-switch" [(ngModel)]="isFinancialYear"
                        (change)="financialSelected()"></mat-slide-toggle>
                </div>
                <div fxFlex *ngIf="selectedFilterValue == '10'">
                    <mat-form-field class="full-width">
                        <mat-select placeholder="Select active filter" [(ngModel)]="isActiveEmployeesOnly"
                            (selectionChange)="activeEmployeeSelected($event.value)">
                            <mat-option *ngFor="let employee of activeList" [value]="employee.value">
                                {{employee.name}}
                            </mat-option>
                        </mat-select>
                    </mat-form-field>
                    <!-- <mat-slide-toggle class="mr-1 archive-switch" [(ngModel)]="isActiveEmployeesOnly"
                        (change)="activeEmployeeSelected()"></mat-slide-toggle> -->
                </div>
                <div fxFlex *ngIf="selectedFilterValue == '11'">
                    <mat-form-field class="full-width">
                        <input matInput [matDatepicker]="picker" placeholder="Choose a month" [formControl]="dateForm"
                            readonly='true'>
                        <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
                        <mat-datepicker #picker (monthSelected)="monthSelected($event)" startView="multi-year">
                        </mat-datepicker>
                    </mat-form-field>
                    <mat-error *ngIf="filterValueRequired">
                        {{ 'APP.DEPARTMENTREQUIRED' | translate }}
                    </mat-error>
                </div>
                <div fxFlex *ngIf="selectedFilterValue == '12'">
                    <div fxFlex="180px" fxLayoutAlign="center center" class="ml-05 mr-05 full-width">
                        <div>
                            <fa-icon (click)="getYearDate('left')" icon="chevron-left"></fa-icon>
                            <b>&nbsp;{{year}}&nbsp;</b>
                            <fa-icon (click)="getYearDate('right')" icon="chevron-right"></fa-icon>
                        </div>
                    </div>
                </div>
                <div fxFlex *ngIf="selectedFilterValue == '7'">
                    <mat-form-field class="full-width">
                        <input matInput placeholder="{{ 'APP.FILTERVALUE' | translate}}" [(ngModel)]="customFilterValue"
                            required />
                    </mat-form-field>
                    <mat-error *ngIf="filterValueRequired">
                        {{ 'APP.FILTERVALUEREQUIRED' | translate }}
                    </mat-error>
                </div>
                <div fxFlex="25px" class="card-content" fxLayoutAlign="start center" *ngIf="selectedFilterValue == '0' || selectedFilterValue == '1' 
                    || selectedFilterValue == '2' || selectedFilterValue == '3' 
                    || selectedFilterValue == '4' || selectedFilterValue == '5' 
                    || selectedFilterValue == '6' || selectedFilterValue == '7'
                    || selectedFilterValue == '8' || selectedFilterValue == '9' 
                    || selectedFilterValue == '10' || selectedFilterValue == '11' 
                    || selectedFilterValue == '12' || selectedFilterValue == '13'
                    || selectedFilterValue == '14' || selectedFilterValue == '15'
                    || selectedFilterValue == '16' || selectedFilterValue == '17' 
                    || selectedFilterValue == '18' || selectedFilterValue == '19'
                    || selectedFilterValue == '20'">
                    <fa-icon icon="plus-circle" matTooltip="{{ 'APP.ADDFILTER' | translate }}"
                        class="ml-08 mat-color-accent cursor-pointer" (click)="applyDashboardFilters()">
                    </fa-icon>
                    <!-- <div class="p-0 m-0">
                        <div class="text-center mb-1">
                           
                            <button type="submit" mat-button mat-raised-button color="primary"
                                (click)="applyDashboardFilters(true)" class="mr-1">
                                {{ 'APP.APPLYFILTERS' | translate }}
                            </button>
                        </div>
                    </div> -->
                </div>
            </div>
            <div fxLayout="row" *ngIf="displayLocation == 2">
                <div fxFlex>
                    <span *ngFor="let filters of dynamicFilters">
                        <span
                            *ngIf="(filters.filterKey == 'Project' && filters.isSystemFilter == true && filters.filterValue)"
                            class="custom-filter-chips">
                            <b>{{ filters.filterName }}</b> :
                            {{ selectedProjectName }}
                            <fa-icon icon="times" class="ml-05 mr-05 mat-color-accent cursor-pointer"
                                (click)="removedynamicfilter(filters,'Project')">
                            </fa-icon>
                        </span>
                        <span
                            *ngIf="(filters.filterKey == 'Audit' && filters.isSystemFilter == true && filters.filterValue)"
                            class="custom-filter-chips">
                            <b>{{ filters.filterName }}</b> :
                            {{ selectedAuditName }}
                            <fa-icon icon="times" class="ml-05 mr-05 mat-color-accent cursor-pointer"
                                (click)="removedynamicfilter(filters,'Audit')">
                            </fa-icon>
                        </span>
                        <span
                        *ngIf="(filters.filterKey == 'BusinessUnit' && filters.isSystemFilter == true && filters.filterValue)"
                        class="custom-filter-chips">
                        <b>{{ filters.filterName }}</b> :
                        {{ selectedBusinessUnit }}
                        <fa-icon icon="times" class="ml-05 mr-05 mat-color-accent cursor-pointer"
                            (click)="removedynamicfilter(filters,'BusinessUnit')">
                        </fa-icon>
                       </span>
                        <span
                            *ngIf="(filters.filterKey == 'User' && filters.isSystemFilter == true && filters.filterValue)"
                            class="custom-filter-chips">
                            <b>{{ filters.filterName }}</b> :
                            {{ selectedUserName }}
                            <fa-icon icon="times" class="ml-05 mr-05 mat-color-accent cursor-pointer"
                                (click)="removedynamicfilter(filters,'User')">
                            </fa-icon>
                        </span>
                        <span                       
                            *ngIf="(filters.filterKey == 'Date' && filters.isSystemFilter == true && filters.filterValue)"
                            class="custom-filter-chips">
                            <b>{{ filters.filterName }}</b> :
                            <span *ngIf="tempDateFrom && tempDateTo">
                                {{tempDateFrom | date: "dd-MMM-yyyy"}} {{ 'TESTMANAGEMENT.TO' | translate }}
                                {{tempDateTo | date: "dd-MMM-yyyy"}}
                            </span>
                            <span *ngIf="tempSingleDate">
                                {{tempSingleDate | date: "dd-MMM-yyyy"}}
                            </span>
                            <fa-icon icon="times" class="ml-05 mr-05 mat-color-accent cursor-pointer"
                                (click)="removedynamicfilter(filters,'Date')">
                            </fa-icon>
                        </span>
                        <span
                            *ngIf="(filters.filterKey == 'Entity' && filters.isSystemFilter == true && filters.filterValue)"
                            class="custom-filter-chips">
                            <b>{{ filters.filterName }}</b> :
                            {{ selectedEntityName }}
                            <fa-icon icon="times" class="ml-05 mr-05 mat-color-accent cursor-pointer"
                                (click)="removedynamicfilter(filters,'Entity')">
                            </fa-icon>
                        </span>
                        <span
                            *ngIf="(filters.filterKey == 'Branch' && filters.isSystemFilter == true && filters.filterValue)"
                            class="custom-filter-chips">
                            <b>{{ filters.filterName }}</b> :
                            {{ selectedBranchName }}
                            <fa-icon icon="times" class="ml-05 mr-05 mat-color-accent cursor-pointer"
                                (click)="removedynamicfilter(filters,'Branch')">
                            </fa-icon>
                        </span>
                        <span
                            *ngIf="(filters.filterKey == 'Designation' && filters.isSystemFilter == true && filters.filterValue)"
                            class="custom-filter-chips">
                            <b>{{ filters.filterName }}</b> :
                            {{ selectedDesignationName }}
                            <fa-icon icon="times" class="ml-05 mr-05 mat-color-accent cursor-pointer"
                                (click)="removedynamicfilter(filters,'Designation')">
                            </fa-icon>
                        </span>
                        <span
                            *ngIf="(filters.filterKey == 'Role' && filters.isSystemFilter == true && filters.filterValue)"
                            class="custom-filter-chips">
                            <b>{{ filters.filterName }}</b> :
                            {{ selectedRoleName }}
                            <fa-icon icon="times" class="ml-05 mr-05 mat-color-accent cursor-pointer"
                                (click)="removedynamicfilter(filters,'Role')">
                            </fa-icon>
                        </span>
                        <span
                            *ngIf="(filters.filterKey == 'Department' && filters.isSystemFilter == true && filters.filterValue)"
                            class="custom-filter-chips">
                            <b>{{ filters.filterName }}</b> :
                            {{ selectedDepartmentName }}
                            <fa-icon icon="times" class="ml-05 mr-05 mat-color-accent cursor-pointer"
                                (click)="removedynamicfilter(filters,'Department')">
                            </fa-icon>
                        </span>
                        <span
                            *ngIf="(filters.filterKey == 'FinancialYear' && filters.isSystemFilter == true && filters.filterValue)"
                            class="custom-filter-chips">
                            <b>{{ filters.filterName }}</b> :
                            {{ tempSelectedFinancial }}
                            <fa-icon icon="times" class="ml-05 mr-05 mat-color-accent cursor-pointer"
                                (click)="removedynamicfilter(filters,'FinancialYear')">
                            </fa-icon>
                        </span>
                        <span
                        *ngIf="(filters.filterKey == 'ActiveEmployees' && filters.isSystemFilter == true && filters.filterValue)"
                        class="custom-filter-chips">
                        <b>{{ filters.filterName }}</b> :
                        {{ tempSelectedActiveEmployee }}
                        <fa-icon icon="times" class="ml-05 mr-05 mat-color-accent cursor-pointer"
                            (click)="removedynamicfilter(filters,'ActiveEmployees')">
                        </fa-icon>
                    </span>
                        
                        <span
                            *ngIf="(filters.filterKey == 'Month' && filters.isSystemFilter == true && filters.filterValue)"
                            class="custom-filter-chips">
                            <b>{{ filters.filterName }}</b> :
                            {{ tempMonthDate }}
                            <fa-icon icon="times" class="ml-05 mr-05 mat-color-accent cursor-pointer"
                                (click)="removedynamicfilter(filters,'Month')">
                            </fa-icon>
                        </span>
                        <span
                            *ngIf="(filters.filterKey == 'Year' && filters.isSystemFilter == true && filters.filterValue)"
                            class="custom-filter-chips">
                            <b>{{ filters.filterName }}</b> :
                            {{ tempYearDate }}
                            <fa-icon icon="times" class="ml-05 mr-05 mat-color-accent cursor-pointer"
                                (click)="removedynamicfilter(filters,'Year')">
                            </fa-icon>
                        </span>
                        <span *ngIf="(filters.isSystemFilter == false && filters.filterValue)"
                            class="custom-filter-chips">
                            <b>{{ filters.filterName }}</b> :
                            {{ filters.filterValue }}
                            <fa-icon icon="times" class="ml-05 mr-05 mat-color-accent cursor-pointer"
                                (click)="removedynamicfilter(filters,null)">
                            </fa-icon>
                        </span>

                        <span
                            *ngIf="(filters.filterKey =='Source' && filters.isSystemFilter == true && filters.filterValue)"
                            class="custom-filter-chips">
                            <b>{{ filters.filterName }}</b> :
                            {{ selectedSource }}
                            <fa-icon icon="times" class="ml-05 mr-05 mat-color-accent cursor-pointer"
                                (click)="removedynamicfilter(filters,'Source')">
                            </fa-icon>
                        </span>

                         <span
                            *ngIf="(filters.filterKey =='EmploymentStatus' && filters.isSystemFilter == true && filters.filterValue)"
                            class="custom-filter-chips">
                            <b>{{ filters.filterName }}</b> :
                            {{ selectedEmploymentStatus }}
                            <fa-icon icon="times" class="ml-05 mr-05 mat-color-accent cursor-pointer"
                                (click)="removedynamicfilter(filters,'EmploymentStatus')">
                            </fa-icon>
                        </span>

                        <span
                           *ngIf="(filters.filterKey =='JobOpeningStatus' && filters.isSystemFilter == true && filters.filterValue)"
                           class="custom-filter-chips">
                           <b>{{ filters.filterName }}</b> :
                            {{ selectedJobOpeningStatus }}
                           <fa-icon icon="times" class="ml-05 mr-05 mat-color-accent cursor-pointer"
                              (click)="removedynamicfilter(filters,'JobOpeningStatus')">
                           </fa-icon>
                        </span>

                      <span
                         *ngIf="(filters.filterKey =='Candidate' && filters.isSystemFilter == true && filters.filterValue)"
                         class="custom-filter-chips">
                         <b>{{ filters.filterName }}</b> :
                          {{ selectedCandidate }}
                         <fa-icon icon="times" class="ml-05 mr-05 mat-color-accent cursor-pointer"
                          (click)="removedynamicfilter(filters,'Candidate')">
                         </fa-icon>
                     </span>

                    <span
                       *ngIf="(filters.filterKey == 'HiringStatus' && filters.isSystemFilter == true && filters.filterValue)"
                        class="custom-filter-chips">
                        <b>{{ filters.filterName }}</b> :
                         {{ selectedHiringStatus }}
                         <fa-icon icon="times" class="ml-05 mr-05 mat-color-accent cursor-pointer"
                           (click)="removedynamicfilter(filters,'HiringStatus')">
                         </fa-icon>
                     </span>





                    </span>
                </div>
            </div>
        </mat-card-content>
    </mat-card>
</sat-popover>