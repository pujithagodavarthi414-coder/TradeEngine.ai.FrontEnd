<div class="full-height" *ngIf="canAccess_feature_ViewApplications">
    <mat-card class="p-0 canteen-manage m-0 ">
        <mat-card-title class="full-width data-table-header drag-handler">
            <div fxLayout="row wrap" fxLayout.xs="column">
                <div class="card-title-text p-05 ml-05" fxFlex="30" fxLayoutAlign="start center">
                    <span class="hide-content-overflow"
                        matTooltip="{{'ACTIVITYTRACKER.APPLICATIONS' | translate | titlecase}}">{{'ACTIVITYTRACKER.APPLICATIONS' | translate | titlecase}}</span>
                </div>
                <div fxFlex fxLayout="row" fxLayout.xs="column" class="search_goalinput ml-1" fxLayoutAlign="end center"
                    fxLayoutAlign.xs="start center">
                    <div class="pr-1" fxLayoutAlign="end center" *ngIf="isStartEnable">
                        <button mat-raised-button color="primary" (click)="enableIntro()"
                        matTooltip="Click here to explain this page">Explain This Page</button>
                    </div>
                    <div fxLayoutAlign="end center" fxLayoutAlign.xs="start center">
                        <mat-form-field class="full-width">
                            <input class="search_goal" matInput placeholder="{{'HRMANAGAMENT.SEARCH' | translate}}"
                                [(ngModel)]="searchText" (input)="filterByName($event)">
                        </mat-form-field>
                    </div>
                    <span class="close_icon masterdata-search-close">
                        <span *ngIf="!searchText"></span>
                        <mat-icon *ngIf="searchText" class="icon-button mr-05" aria-hidden="false"
                            (click)="closeSearch()" style="cursor:pointer">
                            close</mat-icon>
                    </span>
                    <div class="pl-1" id="app-2">
                        <button mat-icon-button matTooltip="{{'CUSTOMAPPLICATION.GOTOFORMS' | translate}}"
                            (click)="navigateToForms()">
                            <mat-icon class="mat-color-accent">insert_drive_file</mat-icon>
                        </button>
                    </div>
                    <button mat-icon-button matTooltip="{{'CUSTOMAPPLICATION.ADDCUSTOMAPPLICATION' | translate}}"
                        *ngIf="(canAccess_feature_AddOrUpdateApplications)"
                        (click)="openCustomApplicationFormPopover()">
                        <fa-icon icon="plus" class="filter mat-color-accent" id="app-3">
                        </fa-icon>
                    </button>

                </div>
            </div>
            <mat-divider></mat-divider>
        </mat-card-title>
    </mat-card>

    <div class="activity-data no-drag" id="app-1">
        <ngx-datatable class="btrak" [rows]="customApplicationList" [columnMode]="'force'" [headerHeight]="35"
            [footerHeight]="35" [rowHeight]="35" [externalPaging]="true" [count]="page.totalElements"
            [offset]="page.pageNumber" [limit]="page.size" [externalSorting]="true"
            [sorts]="[{prop: 'customApplicationName', dir: 'asc'}]" (page)='setPage($event)'
            [loadingIndicator]="gettingCustomApplicationFormsInProgress" (sort)="onSort($event)"
            [messages]="{emptyMessage:('NODATATODISPLAY' | translate), totalMessage: 'TOTAL' | translate}">
            <ngx-datatable-column name="{{ 'CUSTOMAPPLICATION.CUSTOMAPLICATIONNAME' | translate }}" sortable="true"
                prop="customApplicationName">
                <ng-template let-row="row" let-value="value" ngx-datatable-cell-template>
                    <div class="icon-button" fxLayout="row"
                        (click)="navigateToCustomApplication(row);$event.stopPropagation();">
                        {{value}}
                    </div>
                </ng-template>
            </ngx-datatable-column>
            <ngx-datatable-column name="{{ 'CUSTOMAPPLICATION.FORMNAME' | translate }}" sortable="true" prop="formName">
                <ng-template let-row="row" let-value="value" ngx-datatable-cell-template>
                    <div class="icon-button" fxLayout="row"
                        (click)="navigateToCustomApplication(row);$event.stopPropagation();">
                        {{value}}
                    </div>
                </ng-template>
            </ngx-datatable-column>
            <ngx-datatable-column name="{{ 'CUSTOMAPPLICATION.FORMTYPENAME' | translate }}" sortable="true"
                prop="formTypeName">
                <ng-template let-row="row" let-value="value" ngx-datatable-cell-template>
                    <div class="icon-button" fxLayout="row"
                        (click)="navigateToCustomApplication(row);$event.stopPropagation();">
                        {{value}}
                    </div>
                </ng-template>
            </ngx-datatable-column>

            <ngx-datatable-column name="{{'ACTIONS' | translate}}" [sortable]="false" prop="actions">
                <ng-template let-row="row" let-value="value" ngx-datatable-cell-template>
                    <button class="text-center" matTooltip="{{ 'CUSTOMAPPLICATION.EDITCUSTOMAPPLICATION' | translate }}"
                        mat-icon-button (click)="editCustomApplication(row)"
                        *ngIf="(canAccess_feature_AddOrUpdateApplications)">
                        <fa-icon icon="edit" style="cursor: pointer;" class="mat-color-accent"></fa-icon>
                    </button>
                    <button *ngIf="row && canCopyPublicUrl(row.publicUrl)" class="text-center"
                        matTooltip="{{ 'CUSTOMAPPLICATION.COPYURL' | translate }}" mat-icon-button prop="publicUrl"
                        value="value" (click)="copyLink(row.publicUrl)">
                        <fa-icon icon="copy" style="cursor: pointer;" class="mat-color-accent"></fa-icon>
                    </button>
                </ng-template>
            </ngx-datatable-column>
        </ngx-datatable>
    </div>

</div>

<app-common-message-box *ngIf="!(canAccess_feature_ViewApplications)"
    textToDisplay="{{ 'PERMISSIONMESSAGE' | translate }}">
</app-common-message-box>


<ng-template #newProcessWidgetComponent let-data>
    <app-new-process-widget [data]=[data]></app-new-process-widget>
</ng-template>
