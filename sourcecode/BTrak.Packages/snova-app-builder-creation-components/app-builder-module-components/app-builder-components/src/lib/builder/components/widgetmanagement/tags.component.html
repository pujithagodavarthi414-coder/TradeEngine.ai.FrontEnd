<div>
    <mat-form-field class="full-width tags-popup p-05" *ngIf="referenceId || isFromCustomApp"
        hintLabel="{{ 'USERSTORY.PLEASEPRESSCOMMAORENTERFORNEXTTAG' | translate }}">
        <mat-chip-list #tagsList>
            <mat-chip *ngFor="let tag of tags" [selectable]="selectable" [removable]="removable"
                (removed)="removeWidgetTags(tag)" class="p-03 userstory-tags">
                <span class="hide-content-overflow" matTooltip="{{ tag.tag}}" matTooltipClass="tooltip-overflow">
                    {{translatetags(tag.tag)}}
                </span>
                <mat-icon matChipRemove *ngIf="removable">cancel</mat-icon>
            </mat-chip>
            <input placeholder="{{'USERSTORY.TAGS' | translate}}" [matAutocomplete]="tagsAuto" #matTagInput
                [matChipInputFor]="tagsList" [(ngModel)]="tag"
                (keyup)="disabledButton($event.code,$event.target.value);disabledWidgetButton($event.code,$event.target.value);"
                [matChipInputSeparatorKeyCodes]="separatorKeysCodes" (matChipInputTokenEnd)="addWidgetTags($event)">
            <fa-icon icon="spinner" *ngIf="tagsLoadingInProgress"></fa-icon>
        </mat-chip-list>
        <mat-autocomplete #tagsAuto="matAutocomplete" (optionSelected)="selectedWidgetTagValue($event)">
            <mat-option *ngFor="let tags of preTagsList | tagsFilter: tagIds " [value]="tags.tagId">
                {{translatetags(tags.tag)}}
            </mat-option>
        </mat-autocomplete>
    </mat-form-field>

    <div class="text-center p-05" *ngIf="isFromAllApps">
        <button type="button" mat-raised-button color="primary" class="mr-1 text-center" (click)="saveUserStoryTags();">
            <mat-progress-bar color="primary" mode="indeterminate" *ngIf="saveTagsinProgress">
            </mat-progress-bar>
            <fa-icon icon="save" class="mr-05"></fa-icon> {{'SAVE' | translate}}
        </button>
        <button mat-raised-button class="mr-1" (click)="closeDialog()">
            <fa-icon icon="times" class="mr-05"></fa-icon> {{'CANCEL' | translate}}
        </button>
    </div>
</div>