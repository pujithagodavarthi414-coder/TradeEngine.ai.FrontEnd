<div fxLayout="row" fxLayout.lt-md="column" class="allGoals-page splitter">
  <div fxFlex="27px" class="ml-05" *ngIf="!isTreeviewPinned">
    <div class='custom-label veritcal-label'>
      <div class='custom-label-content' (click)="openFormTypes()">
        {{ 'GENERICFORM.CATEGORIES' | translate | titlecase }} <span>
          <fa-icon class="ml-02 rotate-icon" icon="thumbtack" [ngClass]="{'rotate-icon-down': !isTreeviewPinned}">
          </fa-icon>
        </span>
      </div>
    </div>
  </div>
  <div fxFlex.gt-md="21%" fxFlex.md="30%" *ngIf="isTreeviewPinned" class="mt-03">
    <mat-card class="pl-0 pr-0 pt-0 m-0" style="height:98%;">
      <span class="appstore-pin-close">
        <mat-icon class="icon-button cursor-pointer mat-color-accent" (click)="openFormTypes()" aria-hidden="false">
          push_pin</mat-icon>
      </span>
      <mat-progress-bar color="primary" class="p-0" mode="indeterminate" *ngIf="fetchInProgress">
      </mat-progress-bar>
      <div fxLayout="column" *ngIf="!fetchInProgress">
        <div fxLayOut="row" *ngIf="formtypesSearchText != '' || formtypes && formtypes.length > 0"
          fxLayoutAlign="space-between center" fxLayoutGap="5px">
          <mat-form-field fxFlex="80" class="search_goalinput ml-05 mr-05">
            <input name="search" class="search_goal" matInput placeholder="{{'APP.SEARCHBYTAGS' | translate}}"
              (input)="searchFormTypes()" [(ngModel)]="formtypesSearchText" autocomplete="off" trim>
            <span class="linked-userstory-close">
              <span *ngIf="!formtypesSearchText">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>
              <mat-icon *ngIf="formtypesSearchText" class="icon-button" aria-hidden="false"
                (click)="closeFormTypesSearch()" style="cursor:pointer">
                close</mat-icon>
            </span>
          </mat-form-field>
          <div fxFlex="16" matTooltip="{{ 'FORMTYPEMASTERTABLE.ADDOREDITFORMTYPE' | translate }}"
            (click)="openFormTypeDialog()" style="line-height: 10px !important;">
            <mat-icon class="material-icons icon-button mat-color-accent">brightness_high
            </mat-icon>
          </div>
        </div>
        <div *ngIf="!formtypes || !(formtypes.length > 0)" style="text-align: center;padding-top: 10px;">
          {{'GENERICFORM.NOFORMTYPETODISPLAY' | translate}}
        </div>
        <div>
          <mat-card-content class="listof_roles tag-card"
            [ngClass]="dashboardId ? 'genericForm-scroll-height' : (fullHeight ? 'generic-form-full-height': 'generic-form-height')"
            id="widget-scroll-id">
            <mat-list class="compact-list">
              <div fxLayout="column" *ngIf="formtypes && formtypes.length > 0" fxLayoutGap="5px"
                fxLayoutAlign="space-around" class="role-card" (click)="selectAll()"
                [ngClass]="{ active: selectAllFormTypesByDefault == true }">
                <div fxLayout="row" fxLayoutGap="5px" fxLayoutAlign="space-between center"
                  class="entity-role mat-color-accent">
                  <mat-icon>select_all</mat-icon>
                  <span fxFlex class="hide-content-overflow" matTooltipClass="tooltip-overflow">
                    {{ 'APP.ALLTEXT' | translate }}</span>
                </div>
              </div>
              <div fxLayout="column" fxLayoutGap="5px" fxLayoutAlign="space-around" class="role-card"
                *ngFor="let formtype of formtypes" [ngClass]="{ active: selectedFormType == formtype.formTypeId }"
                [attr.data-tagid]="formtype.formTypeId" (click)="selectFormType(formtype.formTypeId)">
                <div fxLayout="row" fxLayoutGap="5px" fxLayoutAlign="center" class="entity-role">
                  <span fxFlex class="hide-content-overflow" matTooltipClass="tooltip-overflow"
                    matTooltip="{{ formtype.formTypeName }}">{{formtype.formTypeName}}</span>
                </div>
              </div>
            </mat-list>
          </mat-card-content>
        </div>
      </div>
    </mat-card>
  </div>
  <div fxFlex>
    <mat-card class="p-0">
      <app-genericform [searchText]="formtypeSearchText" [selectedFormIds]="selectedFormIds" [dashboardId]="dashboardId"
        (closeFormSearch)="closeFormSearch($event)" [isFromWizard]="isFromWizard" (selectForm)="onSelectAForm($event)"
        (onFormType)="getAllFormTypes()">
      </app-genericform>
    </mat-card>
  </div>
</div>


<ng-template #formTypeDialogComponent let-data>
  <form-type-dailog [data]=[data]></form-type-dailog>
</ng-template>