<div class="full-height">
    <mat-card class="p-0 canteen-manage m-0">
        <mat-card-title class="full-width data-table-header drag-handler">
            <div fxLayout="row wrap">
                <div class="card-title-text full-width ml-05 p-0" fxFlex fxLayoutAlign="start center"
                    *ngIf="!isEditAppName">
                    <span class="hide-content-overflow custom-name-bg p-05" (click)="editAppName()"
                        *ngIf="(canAccess_feature_DragApps)">
                        {{ dashboardName | titlecase }}
                    </span>
                    <span class="hide-content-overflow p-05" *ngIf="!(canAccess_feature_DragApps)">
                        {{ dashboardName | titlecase }}
                    </span>
                </div>
                <div class="ml-05 search_goalinput" fxFlex fxLayoutAlign="start center" *ngIf="isEditAppName">
                    <mat-form-field>
                        <input matInput class="search_goal" placeholder="{{'WIDGETS.APPNAME' | translate}}"
                             [(ngModel)]="changedAppName"  (blur)="updateAppName()" (keyup)="keyUpFunction($event)" matInputAutofocus/>
                    </mat-form-field>
                </div>
            </div>
            <mat-divider></mat-divider>
        </mat-card-title>
    </mat-card>

    <div class="p-0 mat-dialog-padding no-drag">
        <div fxLayout="column" fxLayoutGap="10px">
            <kendo-grid #grid [data]="historyDetails" [pageSize]="state.take" [skip]="state.skip" [sortable]="true"
                [pageable]="pageable" [filterable]="false" (dataStateChange)="dataStateChange($event)"
                [sort]="state.sort">
                <kendo-grid-column field="fieldName" title="{{'RESIDENT.FIELDNAME' | translate}}">
                    <ng-template kendoGridCellTemplate let-dataItem>
                        <div class="cursor-pointer">{{ dataItem.fieldName }}
                        </div>
                    </ng-template>
                </kendo-grid-column>
                <kendo-grid-column field="newFieldValue" title="{{'RESIDENT.FIELDVALUE' | translate}}">
                    <ng-template kendoGridCellTemplate let-dataItem>
                        <div class="cursor-pointer">{{ dataItem.newFieldValue }}
                        </div>
                    </ng-template>
                </kendo-grid-column>
                <kendo-grid-column field="createdBy" title="{{'RESIDENT.UPDATEDBYUSERNAME' | translate}}">
                    <ng-template kendoGridCellTemplate let-dataItem>
                        <div class="cursor-pointer">{{ dataItem.createdBy }}
                        </div>
                    </ng-template>
                </kendo-grid-column>
                <kendo-grid-column field="createdDateTime" title="{{'RESIDENT.UPDATEDDATETIME' | translate}}">
                    <ng-template kendoGridCellTemplate let-dataItem>
                        <div class="cursor-pointer">{{ dataItem.createdDateTime | date: 'dd MMM yyyy HH:mm' }}
                        </div>
                    </ng-template>
                </kendo-grid-column>
            </kendo-grid>
            <div [ngClass]="{'k-i-loading': isAnyOperationIsInprogress}"></div>
            <!-- <app-common-message-box textToDisplay="{{'RESIDENT.RESIDENTHISTORYDETAILSSOON'|translate}}">
            </app-common-message-box> -->
        </div>
    </div>
</div>