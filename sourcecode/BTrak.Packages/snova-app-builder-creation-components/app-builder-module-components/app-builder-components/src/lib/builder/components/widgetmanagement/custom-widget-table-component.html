<!-- <style>.gold { background-color: var(someHtmlCode1) !important; }</style> -->
<div [innerHTML]="someHtmlCode1"></div>
<div class="full-height mat-card-fx-col" *ngIf="isEnableTestrailBit && isBugBoardEnableBit">
    <div fxLayout="row" class="data-table-header custom-widget-grid-title" *ngIf="workspaceId || !isPopUp">
        <div fxFlex="20px" fxLayoutAlign="center center" class="ml-05" *ngIf="chartType == 'table'">
            <fa-icon icon="table" class="mat-color-accent filter-operation cursor-pointer">
            </fa-icon>
        </div>
        <div fxFlex="20px" fxLayoutAlign="center center" class="ml-05" *ngIf="chartType == 'Heat map'">
            <fa-icon icon="calendar-alt" class="mat-color-accent filter-operation cursor-pointer">
            </fa-icon>
        </div>
        <div fxFlex="20px" fxLayoutAlign="center center" class="ml-05"
            *ngIf="chartType == 'area' && isStackedChart == true">
            <svg height="30" version="1.1" viewbox="0 0 512 512" width="30" xmlns="http://www.w3.org/2000/svg">
                <g transform="translate(1.7,2.7)">
                    <g transform="scale(0.05)">
                        <rect class="visual-svg-fill" height="290" rx="5px" stroke-width="3" width="25" x="51" y="109">
                        </rect>
                        <rect class="visual-svg-fill" height="25" rx="5px" stroke-width="3" width="358" x="51" y="388">
                        </rect>
                        <g>
                            <path d="M130,200    l70 -70 l90 60      l20 -50 l30 70    v90 h-220 z" fill="#EFF0F2"
                                class="visual-svg" stroke-width="15"></path>
                            <path d="M130,290 l70 -70 l20 30 l 20 -70 l50 70 l30 -30 l50 50 v60 h-250 z"
                                class="visual-fill" stroke="gray" stroke-width="3"></path>
                        </g>
                    </g>
                </g>
            </svg>
        </div>
        <div fxFlex="20px" fxLayoutAlign="center center" class="ml-05"
            *ngIf="chartType == 'area' && isStackedChart == false">
            <fa-icon icon="chart-area" class="mat-color-accent filter-operation cursor-pointer">
            </fa-icon>
        </div>
        <div fxFlex="20px" fxLayoutAlign="center center" class="ml-05" *ngIf="chartType == 'line'">
            <fa-icon icon="chart-line" class="mat-color-accent filter-operation cursor-pointer">
            </fa-icon>
        </div>
        <div fxFlex="20px" fxLayoutAlign="center center" class="ml-05"
            *ngIf="chartType == 'bar' && isStackedChart == true">
            <svg version="1.1" xmlns="http://www.w3.org/2000/svg" width="30" height="30" viewbox="0 0 512 512">
                <g transform="translate(1.7,2.7)">
                    <g transform="scale(0.05)">
                        <rect x="51" y="61" width="25" height="338" rx="5px" class="visual-svg-fill" stroke-width="3" />
                        <rect x="51" y="388" width="358" height="25" rx="5px" class="visual-svg-fill"
                            stroke-width="3" />
                        <rect x="102" y="107" width="72" height="60" rx="1px" class="visual-svg-fill"
                            stroke-width="3" />
                        <rect x="185" y="107" width="51" height="60" rx="1px" fill="#EFF0F2" class="visual-svg"
                            stroke-width="3" />
                        <rect x="246" y="107" width="102" height="60" rx="1px" class="visual-svg-fill"
                            stroke-width="3" />
                        <rect x="102" y="200" width="198" height="60" rx="1px" class="visual-svg-fill"
                            stroke-width="3" />
                        <rect x="102" y="297" width="150" height="60" rx="1px" fill="#EFF0F2" class="visual-svg"
                            stroke-width="3" />
                        <rect x="260" y="297" width="125" height="60" rx="1px" class="visual-svg-fill"
                            stroke-width="3" />
                    </g>
                </g>
            </svg>
        </div>
        <div fxFlex="20px" fxLayoutAlign="center center" class="ml-05"
            *ngIf="chartType == 'bar' && isStackedChart == false">
            <svg version="1.1" xmlns="http://www.w3.org/2000/svg" width="30" height="30" viewbox="0 0 512 512">
                <g transform="translate(1.7,2.7)">
                    <g transform="scale(0.05)">
                        <rect x="51" y="61" width="20" height="338" rx="5px" class="visual-svg-fill" stroke-width="3" />
                        <rect x="51" y="388" width="358" height="20" rx="5px" class="visual-svg-fill"
                            stroke-width="3" />
                        <rect x="102" y="107" width="72" height="60" rx="1px" class="visual-svg-fill"
                            stroke-width="3" />
                        <rect x="102" y="107" width="152" height="60" rx="1px" class="visual-svg-fill"
                            stroke-width="3" />
                        <rect x="102" y="200" width="278" height="60" rx="1px" class="visual-svg-fill"
                            stroke-width="3" />
                        <rect x="102" y="297" width="200" height="60" rx="1px" class="visual-svg-fill"
                            stroke-width="3" />
                    </g>
                </g>
            </svg>
        </div>
        <div fxFlex="20px" fxLayoutAlign="center center" class="ml-05" *ngIf="chartType == 'pie'">
            <fa-icon icon="chart-pie" class="mat-color-accent filter-operation cursor-pointer">
            </fa-icon>
        </div>
        <div fxFlex="20px" fxLayoutAlign="center center" class="ml-05"
            *ngIf="chartType == 'column' && isStackedChart == true">
            <svg version="1.1" xmlns="http://www.w3.org/2000/svg" width="30" height="30" viewbox="0 0 512 512">
                <g transform="translate(1.7,2.7)">
                    <g transform="scale(0.05)">
                        <rect x="51" y="61" width="25" height="338" rx="5px" class="visual-svg-fill" stroke-width="3" />
                        <rect x="51" y="388" width="358" height="25" rx="5px" class="visual-svg-fill"
                            stroke-width="3" />
                        <g transform="rotate(270 230 220) ">
                            <rect x="102" y="107" width="72" height="60" rx="1px" class="visual-svg-fill"
                                stroke-width="3" />
                            <rect x="185" y="107" width="51" height="60" rx="1px" fill="#EFF0F2" class="visual-svg"
                                stroke-width="3" />
                            <rect x="246" y="107" width="102" height="60" rx="1px" class="visual-svg-fill"
                                stroke-width="3" />
                            <rect x="102" y="200" width="198" height="60" rx="1px" class="visual-svg-fill"
                                stroke-width="3" />
                            <rect x="102" y="297" width="150" height="60" rx="1px" fill="#EFF0F2" class="visual-svg"
                                stroke-width="3" />
                            <rect x="260" y="297" width="125" height="60" rx="1px" class="visual-svg-fill"
                                stroke-width="3" />
                        </g>
                    </g>
                </g>
            </svg>
        </div>
        <div fxFlex="20px" fxLayoutAlign="center center" class="ml-05"
            *ngIf="chartType == 'column' && isStackedChart == false">
            <svg version="1.1" xmlns="http://www.w3.org/2000/svg" width="30" height="30" viewbox="0 0 512 512">
                <g transform="translate(1.7,2.7)">
                    <g transform="scale(0.05)">
                        <rect x="51" y="61" width="20" height="338" rx="5px" class="visual-svg-fill" stroke-width="3" />
                        <rect x="51" y="388" width="358" height="20" rx="5px" class="visual-svg-fill"
                            stroke-width="3" />
                        <g transform="rotate(270 230 220) ">
                            <rect x="102" y="107" width="72" height="60" rx="1px" class="visual-svg-fill"
                                stroke-width="3" />
                            <rect x="102" y="107" width="152" height="60" rx="1px" class="visual-svg-fill"
                                stroke-width="3" />
                            <rect x="102" y="200" width="278" height="60" rx="1px" class="visual-svg-fill"
                                stroke-width="3" />
                            <rect x="102" y="297" width="200" height="60" rx="1px" class="visual-svg-fill"
                                stroke-width="3" />
                        </g>
                    </g>
                </g>
            </svg>
        </div>
        <div fxFlex="20px" fxLayoutAlign="center center" class="ml-05" *ngIf="chartType == 'donut'">
            <svg version="1.1" xmlns="http://www.w3.org/2000/svg" width="30" height="30" viewbox="0 0 512 512">
                <g transform="translate(2,7)">
                    <g transform="scale(0.4)">
                        <circle class="donut-hole" cx="21" cy="21" r="15.91549430918954" fill="transparent"></circle>
                        <circle class="donut-ring" cx="21" cy="21" r="15.91549430918954" fill="transparent"
                            stroke="transparent" stroke-width="7"></circle>
                        <circle class="donut-segment visual-svg" cx="21" cy="21" r="15.91549430918954"
                            fill="transparent" stroke-width="7" stroke-dasharray="50 57" stroke-dashoffset="41" />
                        <circle class="donut-segment visual-svg" cx="21" cy="21" r="15.91549430918954"
                            fill="transparent" stroke-width="7" stroke-dasharray="19 80" stroke-dashoffset="87" />
                        <circle class="donut-segment visual-svg" cx="21" cy="21" r="15.91549430918954"
                            fill="transparent" stroke-width="7" stroke-dasharray="29 70" stroke-dashoffset="65" />
                    </g>
                </g>
            </svg>
        </div>
        <div fxFlex="25px" fxLayoutAlign="center center" class="ml-05" *ngIf="chartType == 'kpi'">
            <svg version="1.1" xmlns="http://www.w3.org/2000/svg" width="30" height="30" viewbox="0 0 512 512">
                <g transform="translate(0,5)">
                    <g transform="scale(0.05)">
                        <g transform="scale(10)">
                            <rect x="5" y="5" width="40" height="30" rx="5px" fill="transparent" class="visual-svg"
                                stroke-width="3" />
                            <rect x="15" y="40" width="20" height="2" rx="5px" fill="transparent" class="visual-svg"
                                stroke-width="2" />
                            <text x="15" y="27" class="visual-fill" font-size="20" font-weight="bold"
                                font-family="Super Sans">0</text>
                            <rect x="30" y="14" width="2" height="12.5" rx="1px" class="visual-svg-fill"
                                stroke-width="1" />
                        </g>
                    </g>
                </g>
            </svg>
        </div>
        <div fxFlex="25px" fxLayoutAlign="center center" class="ml-05" *ngIf="chartType == 'radialgauge'">
            <svg version="1.1" xmlns="http://www.w3.org/2000/svg" width="30" height="30" viewbox="0 0 512 512">
                <g transform="translate(2,7)">
                    <g transform="scale(0.045)">
                        <g transform="scale(12)">
                            <circle class="donut-hole" cx="21" cy="21" r="15.91549430918954" fill="transparent">
                            </circle>
                            <circle class="donut-ring" cx="21" cy="21" r="15.91549430918954" fill="transparent"
                                stroke="transparent" stroke-width="7"></circle>
                            <circle class="donut-segment visual-svg" cx="21" cy="21" r="15.91549430918954"
                                fill="transparent" stroke-width="5" stroke-dasharray="70 30" stroke-dashoffset="60" />
                            <circle cx="21" cy="25" r="3" class="visual-fill" />
                            <path class="visual-svg-fill" stroke-width="0" d="M20,26.5 l3 -2 l-10 -11 z" />
                        </g>
                    </g>
                </g>
            </svg>
        </div>
        <div fxFlex="20px" fxLayoutAlign="center center" class="ml-05" *ngIf="chartType == 'lineargauge'">
            <svg version="1.1" xmlns="http://www.w3.org/2000/svg" width="30" height="30" viewbox="0 0 512 512">
                <g transform="translate(1,3)">
                    <g transform="scale(0.045)">
                        <g transform="scale(10)">
                            <text x="7" y="10" class="visual-fill" font-size="14" font-weight="bold">1</text>
                            <rect x="15" y="4.9" width="20" height="3" rx="1px" class="visual-svg-fill"
                                stroke-width="1" />
                            <rect x="34.3" y="5" width="3" height="42" rx="1px" class="visual-svg-fill"
                                stroke-width="1" />
                            <text x="7" y="46.4" class="visual-fill" font-size="14" font-weight="bold">0</text>
                            <rect x="15" y="44" width="20" height="3" rx="1px" class="visual-svg-fill"
                                stroke-width="1" />
                            <path class="visual-svg-fill" stroke-width="3" d="M22,15 h15" />
                            <path class="visual-svg-fill" stroke-width="3" d="M22,24.5 h15" />
                            <path class="visual-svg-fill" stroke-width="3" d="M22,34 h15" />
                            <path class="visual-svg-fill" stroke-width="2" d="M25.7,10.5 h12" />
                            <path class="visual-svg-fill" stroke-width="2" d="M25.7,19.5 h12" />
                            <path class="visual-svg-fill" stroke-width="2" d="M25.7,29.5 h12" />
                            <path class="visual-svg-fill" stroke-width="2" d="M25.7,39.5 h12" />
                        </g>
                    </g>
                </g>
            </svg>
        </div>
        <div fxFlex="25px" fxLayoutAlign="center center" class="ml-05" *ngIf="chartType == 'arcgauge'">
            <svg version="1.1" xmlns="http://www.w3.org/2000/svg" width="30" height="30" viewbox="0 0 512 512">
                <g transform="translate(0,1)">
                    <g transform="scale(0.05)">
                        <g transform="translate(-25,0)">
                            <path d="M51,408 h51 q0,-200 207,-190 l7 -51 Q 41,165 51,411.5 " class="visual-svg-fill"
                                stroke-width="7" />
                            <path d="M310,218 q150,50 150,193 h50 c 0,-10 0,-199 -200,-245" fill="none"
                                class="visual-svg" stroke-width="7" />
                        </g>
                    </g>
                </g>
            </svg>
        </div>
        <div fxFlex fxLayoutAlign="start center" class="drag-handler" *ngIf="!isEditAppName">
            <b matTooltip="{{ description }}" matTooltipClass="tooltip-overflow">
                <span (click)="editAppName()" class="custom-name-bg p-05" *ngIf="canAccess_feature_DragApps">{{ appName
                    | softLabelsPipe : softLabels | titlecase }}</span>
                <span *ngIf="!(canAccess_feature_DragApps)">{{ appName | softLabelsPipe : softLabels | titlecase
                    }}</span>
            </b>
        </div>
        <div class="ml-05 search_goalinput" fxFlex *ngIf="isEditAppName">
            <mat-form-field>
                <input matInput class="search_goal" placeholder="{{'WIDGETS.APPNAME' | translate}}"
                     [(ngModel)]="changedAppName"  (blur)="updateAppName()" (keyup)="keyUpFunction($event)"
                    matInputAutofocus />
            </mat-form-field>
        </div>
        <div fxFlex="25px" fxLayoutAlign="end center">
            <app-cutom-tag-filter [isMongoQuery]="isMongoQuery" [collectionName]="collectionName"
                [filtersAny]="widgetDataForFilter" [filterApplied]="filterApplied"
                [selectedWorkspace]="selectedWorkspaceforFilter" [displayLocation]="2" [selectedFormName]=null
                (customfilterApplied)="customfilterApplied($event)" [dashboardGlobalData]="dashboardGlobalData">
            </app-cutom-tag-filter>
        </div>
        <div fxFlex="25px" fxLayoutAlign="end center" class="mr-05 icons-visible"
            *ngIf="chartType != 'kpi' && chartType != 'pivot' && chartType != 'Heat map'">
            <fa-icon icon="share-alt" matTooltip="Share Report" (click)="openFilterPopover()"
                class="mat-color-accent cursor-pointer"></fa-icon>
            <!-- [satPopoverAnchorFor]= "shareReportPopup" #shareReportPopover="satPopoverAnchor" -->
        </div>
        <div fxFlex="25px" fxLayoutAlign="end center" class="mr-05 icons-visible"
            *ngIf="(canAccess_feature_ManageAppFilters) && disableDropDown">
            <fa-icon icon="user-cog" matTooltip="{{'WIDGETS.CONFIGUREAPPSETTINGS' | translate}}"
                style="cursor: pointer;" [matMenuTriggerFor]="filterMenu" class="filter mat-color-accent">
            </fa-icon>
        </div>
        <div fxFlex="20px" fxLayoutAlign="end center" class="mr-05 icons-visible"
            *ngIf="(canAccess_feature_ManageCustomApps) && isCustomAppAddOrEditRequire">
            <fa-icon icon="edit" class="mat-color-accent filter-operation cursor-pointer" (click)="navigateToEdit()">
            </fa-icon>
        </div>
        <div fxFlex="20px" fxLayoutAlign="end center" class="mr-05 icons-visible"
            *ngIf="isImportVisible && !showFilters && chartType == 'table'">
            <fa-icon icon="eye" class="mat-color-accent filter-operation cursor-pointer"
                (click)="showFilters = !showFilters">
            </fa-icon>
        </div>
        <div fxFlex="20px" fxLayoutAlign="center center" class="mr-05 icons-visible"
            *ngIf="isImportVisible && showFilters && chartType == 'table'">
            <fa-icon icon="eye-slash" class="mat-color-accent filter-operation cursor-pointer"
                (click)="showFilters = !showFilters">
            </fa-icon>
        </div>
        <div fxFlex="20px" fxLayoutAlign="center center" class="mr-05 icons-visible"
            *ngIf="isImportVisible && chartType == 'table'">
            <fa-icon icon="file-excel" class="mat-color-accent filter-operation cursor-pointer"
                matTooltip="{{ 'APP.EXPORTDATATOEXCEL' | translate }}" (click)="exportToExcel(grid)">
            </fa-icon>
        </div>
        <div fxFlex="20px" fxLayoutAlign="center center" class="mr-05 icons-visible"
            *ngIf="isImportVisible && chartType != 'table' && chartType != 'kpi' && chartType != 'pivot' && chartType != 'Heat map'">
            <fa-icon *ngIf="!(chartType == 'lineargauge' || chartType == 'radialgauge' || chartType == 'arcgauge')"
                class="mat-color-accent filter-operation cursor-pointer" icon="file-pdf"
                matTooltip="{{ 'APP.EXPORTDATATOPDF' | translate }}" (click)="exportChart()">
            </fa-icon>
            <fa-icon *ngIf="(chartType == 'lineargauge' || chartType == 'radialgauge' || chartType == 'arcgauge')"
                class="mat-color-accent filter-operation cursor-pointer" icon="file-image"
                matTooltip="{{ 'APP.EXPORTDATATOIMAGE' | translate }}" (click)="exportChart()">
            </fa-icon>
        </div>

        <div fxFlex="20px" fxLayoutAlign="center center" class="mr-05 icons-visible"
            *ngIf="!showFilters && chartType == 'pivot'">
            <fa-icon icon="eye" class="mat-color-accent filter-operation cursor-pointer"
                (click)="makeConfiguratorVisible()">
            </fa-icon>
        </div>
        <div fxFlex="20px" fxLayoutAlign="center center" class="mr-05 icons-visible"
            *ngIf="showFilters && chartType == 'pivot'">
            <fa-icon icon="eye-slash" class="mat-color-accent filter-operation cursor-pointer"
                (click)="makeConfiguratorHidden()">
            </fa-icon>
        </div>
        <div fxFlex="20px" fxLayoutAlign="center center" class="mr-05 icons-visible" *ngIf="chartType == 'pivot'"
            (click)="onClick($event)">
            <fa-icon icon="chart-line" title="{{'APP.DRAWORREFRESHCHART' | translate}}"
                class="mat-color-accent filter-operation cursor-pointer" (click)="makeChartVisible()">
            </fa-icon>
        </div>

        <div fxFlex="20px" fxLayoutAlign="center center" class="mr-05 icons-visible">
            <fa-icon icon="download" title="Download" *ngIf="chartType == 'table'"
                class="mat-color-accent filter-operation cursor-pointer" (click)="downloadImage()">
            </fa-icon>

            <fa-icon icon="download" title="Download" *ngIf="(chartType == 'kpi'|| chartType == 'pivot')"
                class="mat-color-accent filter-operation cursor-pointer" (click)="downloadChartImage()">
            </fa-icon>

            <button kendoButton (click)="exportChartImage()"
                *ngIf="chartType != 'table' && chartType != 'pivot' && chartType != 'kpi'"
                style="border: none !important ;">
                <fa-icon icon="download" title="Download" class="mat-color-accent filter-operation cursor-pointer">
                </fa-icon>
            </button>

            <!-- <button mat-icon-button class="material-icons app-toolbar-menu delete-button ml-05"
                *ngIf="chartType == 'kpi'" matTooltip="Download as image"
                onclick="downloadimageTs('customapplicationId')">
                <fa-icon icon="download" class="mr-05"
                    style="color:#2f3065;font-weight: 400;font-size: 15px !important;cursor: pointer;">
                </fa-icon>
            </button> -->

        </div>

        <div fxFlex="25px" fxLayoutAlign="center center" class="mr-05 icons-visible cursor-pointer"
            *ngIf="isImportVisible && (canAccess_feature_CanChangeVisualisationType) && showVisualization && customAppCharts.length > 1"
            matTooltip="{{'APP.CHANGEVISUALIZATION' | translate}}" [matMenuTriggerFor]="visualizationsMenu">
            <svg version="1.1" xmlns="http://www.w3.org/2000/svg" width="30" height="30" viewbox="0 0 512 512">
                <g transform="translate(2,5)">
                    <g transform="scale(0.045)">
                        <g transform="scale(10)">
                            <rect x="5" y="5" width="40" height="30" rx="5px" fill="transparent" class="visual-svg"
                                stroke-width="3" />
                            <rect x="15" y="40" width="20" height="2" rx="5px" class="visual-svg-fill"
                                stroke-width="2" />
                            <rect x="10" y="12" width="2" height="18" rx="3px" class="visual-svg-fill"
                                stroke-width="1" />
                            <rect x="14" y="15" width="2" height="15" rx="3px" class="visual-svg-fill"
                                stroke-width="1" />
                            <rect x="18" y="10" width="2" height="20" rx="3px" class="visual-svg-fill"
                                stroke-width="1" />
                            <g transform="translate(25 10)">
                                <g transform="scale(0.3)">
                                    <circle class="donut-hole" cx="21" cy="21" r="15.91549430918954" fill="transparent">
                                    </circle>
                                    <circle class="donut-ring" cx="21" cy="21" r="15.91549430918954" fill="transparent"
                                        stroke="transparent" stroke-width="7"></circle>
                                    <circle class="donut-segment" cx="21" cy="21" r="15.91549430918954"
                                        fill="transparent" class="visual-svg" stroke-width="7" stroke-dasharray="50 57"
                                        stroke-dashoffset="41" />
                                    <circle class="donut-segment" cx="21" cy="21" r="15.91549430918954"
                                        fill="transparent" class="visual-svg" stroke-width="7" stroke-dasharray="19 80"
                                        stroke-dashoffset="87" />
                                    <circle class="donut-segment" cx="21" cy="21" r="15.91549430918954"
                                        fill="transparent" class="visual-svg" stroke-width="7" stroke-dasharray="29 70"
                                        stroke-dashoffset="65" />
                                </g>
                            </g>
                            <rect x="25" y="24" width="13" height="1" rx="3px" class="visual-svg-fill"
                                stroke-width="1" />
                            <rect x="25" y="28" width="13" height="1" rx="3px" class="visual-svg-fill"
                                stroke-width="1" />
                        </g>
                    </g>
                </g>
            </svg>
            <!-- <fa-icon icon="chart-line" class="mat-color-accent filter-operation cursor-pointer"
                matTooltip="{{'APP.CHANGEVISUALIZATION' | translate}}" [matMenuTriggerFor]="visualizationsMenu">
            </fa-icon> -->
            <mat-menu class="goal-options" #visualizationsMenu="matMenu" (click)="$event.stopPropagation()">
                <mat-form-field class="full-width p-05" (click)="$event.stopPropagation();">
                    <mat-select [formControl]="selectedVisualizationType"
                        placeholder="{{ 'APP.SELECTVISUALIZATIONNAME' | translate }}"
                        (selectionChange)="visualizationTypeChange()" [disabled]="isVisualizationChangeInprogress">
                        <mat-select-trigger>
                            {{ selectedvisualizationName }}
                        </mat-select-trigger>
                        <mat-option [value]="chart.customApplicationChartId" *ngFor="let chart of customAppCharts">
                            <div fxLayout="row">
                                <div fxFlex="25px" fxLayoutAlign="center center" class="mr-05"
                                    *ngIf="chart.visualizationType == 'table'">
                                    <fa-icon icon="table" class="mat-color-accent filter-operation cursor-pointer">
                                    </fa-icon>
                                </div>
                                <div fxFlex="25px" fxLayoutAlign="center center" class="mr-05"
                                    *ngIf="chart.visualizationType == 'Heat map'">
                                    <fa-icon icon="calendar-alt"
                                        class="mat-color-accent filter-operation cursor-pointer">
                                    </fa-icon>
                                </div>
                                <div fxFlex="25px" fxLayoutAlign="center center" class="mr-05"
                                    *ngIf="chart.visualizationType == 'stackedarea'">
                                    <svg height="30" version="1.1" viewbox="0 0 512 512" width="30"
                                        xmlns="http://www.w3.org/2000/svg">
                                        <g transform="translate(1.7,2.7)">
                                            <g transform="scale(0.05)">
                                                <rect class="visual-svg-fill" height="290" rx="5px" stroke-width="3"
                                                    width="25" x="51" y="109">
                                                </rect>
                                                <rect class="visual-svg-fill" height="25" rx="5px" stroke-width="3"
                                                    width="358" x="51" y="388">
                                                </rect>
                                                <g>
                                                    <path
                                                        d="M130,200    l70 -70 l90 60      l20 -50 l30 70    v90 h-220 z"
                                                        fill="#EFF0F2" class="visual-svg" stroke-width="15"></path>
                                                    <path
                                                        d="M130,290 l70 -70 l20 30 l 20 -70 l50 70 l30 -30 l50 50 v60 h-250 z"
                                                        class="visual-fill" stroke="gray" stroke-width="3"></path>
                                                </g>
                                            </g>
                                        </g>
                                    </svg>
                                </div>
                                <div fxFlex="25px" fxLayoutAlign="center center" class="mr-05"
                                    *ngIf="chart.visualizationType == 'area'">
                                    <fa-icon icon="chart-area" class="mat-color-accent filter-operation cursor-pointer">
                                    </fa-icon>
                                </div>
                                <div fxFlex="25px" fxLayoutAlign="center center" class="mr-05"
                                    *ngIf="chart.visualizationType == 'line'">
                                    <fa-icon icon="chart-line" class="mat-color-accent filter-operation cursor-pointer">
                                    </fa-icon>
                                </div>
                                <div fxFlex="25px" fxLayoutAlign="center center" class="mr-05"
                                    *ngIf="chart.visualizationType == 'stackedbar'">
                                    <svg version="1.1" xmlns="http://www.w3.org/2000/svg" width="30" height="30"
                                        viewbox="0 0 512 512">
                                        <g transform="translate(1.7,2.7)">
                                            <g transform="scale(0.05)">
                                                <rect x="51" y="61" width="25" height="338" rx="5px"
                                                    class="visual-svg-fill" stroke-width="3" />
                                                <rect x="51" y="388" width="358" height="25" rx="5px"
                                                    class="visual-svg-fill" stroke-width="3" />
                                                <rect x="102" y="107" width="72" height="60" rx="1px"
                                                    class="visual-svg-fill" stroke-width="3" />
                                                <rect x="185" y="107" width="51" height="60" rx="1px" fill="#EFF0F2"
                                                    class="visual-svg" stroke-width="3" />
                                                <rect x="246" y="107" width="102" height="60" rx="1px"
                                                    class="visual-svg-fill" stroke-width="3" />
                                                <rect x="102" y="200" width="198" height="60" rx="1px"
                                                    class="visual-svg-fill" stroke-width="3" />
                                                <rect x="102" y="297" width="150" height="60" rx="1px" fill="#EFF0F2"
                                                    class="visual-svg" stroke-width="3" />
                                                <rect x="260" y="297" width="125" height="60" rx="1px"
                                                    class="visual-svg-fill" stroke-width="3" />
                                            </g>
                                        </g>
                                    </svg>
                                </div>
                                <div fxFlex="25px" fxLayoutAlign="center center" class="mr-05"
                                    *ngIf="chart.visualizationType == 'bar'">
                                    <svg version="1.1" xmlns="http://www.w3.org/2000/svg" width="30" height="30"
                                        viewbox="0 0 512 512">
                                        <g transform="translate(1.7,2.7)">
                                            <g transform="scale(0.05)">
                                                <rect x="51" y="61" width="20" height="338" rx="5px"
                                                    class="visual-svg-fill" stroke-width="3" />
                                                <rect x="51" y="388" width="358" height="20" rx="5px"
                                                    class="visual-svg-fill" stroke-width="3" />
                                                <rect x="102" y="107" width="72" height="60" rx="1px"
                                                    class="visual-svg-fill" stroke-width="3" />
                                                <rect x="102" y="107" width="152" height="60" rx="1px"
                                                    class="visual-svg-fill" stroke-width="3" />
                                                <rect x="102" y="200" width="278" height="60" rx="1px"
                                                    class="visual-svg-fill" stroke-width="3" />
                                                <rect x="102" y="297" width="200" height="60" rx="1px"
                                                    class="visual-svg-fill" stroke-width="3" />
                                            </g>
                                        </g>
                                    </svg>
                                </div>
                                <div fxFlex="25px" fxLayoutAlign="center center" class="mr-05"
                                    *ngIf="chart.visualizationType == 'pie'">
                                    <fa-icon icon="chart-pie" class="mat-color-accent filter-operation cursor-pointer">
                                    </fa-icon>
                                </div>
                                <div fxFlex="25px" fxLayoutAlign="center center" class="mr-05"
                                    *ngIf="chart.visualizationType == 'stackedcolumn'">
                                    <svg version="1.1" xmlns="http://www.w3.org/2000/svg" width="30" height="30"
                                        viewbox="0 0 512 512">
                                        <g transform="translate(1.7,2.7)">
                                            <g transform="scale(0.05)">
                                                <rect x="51" y="61" width="25" height="338" rx="5px"
                                                    class="visual-svg-fill" stroke-width="3" />
                                                <rect x="51" y="388" width="358" height="25" rx="5px"
                                                    class="visual-svg-fill" stroke-width="3" />
                                                <g transform="rotate(270 230 220) ">
                                                    <rect x="102" y="107" width="72" height="60" rx="1px"
                                                        class="visual-svg-fill" stroke-width="3" />
                                                    <rect x="185" y="107" width="51" height="60" rx="1px" fill="#EFF0F2"
                                                        class="visual-svg" stroke-width="3" />
                                                    <rect x="246" y="107" width="102" height="60" rx="1px"
                                                        class="visual-svg-fill" stroke-width="3" />
                                                    <rect x="102" y="200" width="198" height="60" rx="1px"
                                                        class="visual-svg-fill" stroke-width="3" />
                                                    <rect x="102" y="297" width="150" height="60" rx="1px"
                                                        fill="#EFF0F2" class="visual-svg" stroke-width="3" />
                                                    <rect x="260" y="297" width="125" height="60" rx="1px"
                                                        class="visual-svg-fill" stroke-width="3" />
                                                </g>
                                            </g>
                                        </g>
                                    </svg>
                                </div>
                                <div fxFlex="25px" fxLayoutAlign="center center" class="mr-05"
                                    *ngIf="chart.visualizationType == 'column'">
                                    <svg version="1.1" xmlns="http://www.w3.org/2000/svg" width="30" height="30"
                                        viewbox="0 0 512 512">
                                        <g transform="translate(1.7,2.7)">
                                            <g transform="scale(0.05)">
                                                <rect x="51" y="61" width="20" height="338" rx="5px"
                                                    class="visual-svg-fill" stroke-width="3" />
                                                <rect x="51" y="388" width="358" height="20" rx="5px"
                                                    class="visual-svg-fill" stroke-width="3" />
                                                <g transform="rotate(270 230 220) ">
                                                    <rect x="102" y="107" width="72" height="60" rx="1px"
                                                        class="visual-svg-fill" stroke-width="3" />
                                                    <rect x="102" y="107" width="152" height="60" rx="1px"
                                                        class="visual-svg-fill" stroke-width="3" />
                                                    <rect x="102" y="200" width="278" height="60" rx="1px"
                                                        class="visual-svg-fill" stroke-width="3" />
                                                    <rect x="102" y="297" width="200" height="60" rx="1px"
                                                        class="visual-svg-fill" stroke-width="3" />
                                                </g>
                                            </g>
                                        </g>
                                    </svg>
                                </div>
                                <div fxFlex="25px" fxLayoutAlign="center center" class="mr-05"
                                    *ngIf="chart.visualizationType == 'donut'">
                                    <svg version="1.1" xmlns="http://www.w3.org/2000/svg" width="30" height="30"
                                        viewbox="0 0 512 512">
                                        <g transform="translate(2,7)">
                                            <g transform="scale(0.4)">
                                                <circle class="donut-hole" cx="21" cy="21" r="15.91549430918954"
                                                    fill="transparent"></circle>
                                                <circle class="donut-ring" cx="21" cy="21" r="15.91549430918954"
                                                    fill="transparent" stroke="transparent" stroke-width="7">
                                                </circle>
                                                <circle class="donut-segment visual-svg" cx="21" cy="21"
                                                    r="15.91549430918954" fill="transparent" stroke-width="7"
                                                    stroke-dasharray="50 57" stroke-dashoffset="41" />
                                                <circle class="donut-segment visual-svg" cx="21" cy="21"
                                                    r="15.91549430918954" fill="transparent" stroke-width="7"
                                                    stroke-dasharray="19 80" stroke-dashoffset="87" />
                                                <circle class="donut-segment visual-svg" cx="21" cy="21"
                                                    r="15.91549430918954" fill="transparent" stroke-width="7"
                                                    stroke-dasharray="29 70" stroke-dashoffset="65" />
                                            </g>
                                        </g>
                                    </svg>
                                </div>
                                <div fxFlex="25px" fxLayoutAlign="center center" class="mr-05"
                                    *ngIf="chart.visualizationType == 'kpi'">
                                    <svg version="1.1" xmlns="http://www.w3.org/2000/svg" width="30" height="30"
                                        viewbox="0 0 512 512">
                                        <g transform="translate(0,5)">
                                            <g transform="scale(0.05)">
                                                <g transform="scale(10)">
                                                    <rect x="5" y="5" width="40" height="30" rx="5px" fill="transparent"
                                                        class="visual-svg" stroke-width="3" />
                                                    <rect x="15" y="40" width="20" height="2" rx="5px"
                                                        fill="transparent" class="visual-svg" stroke-width="2" />
                                                    <text x="15" y="27" class="visual-fill" font-size="20"
                                                        font-weight="bold" font-family="Super Sans">0</text>
                                                    <rect x="30" y="14" width="2" height="12.5" rx="1px"
                                                        class="visual-svg-fill" stroke-width="1" />
                                                </g>
                                            </g>
                                        </g>
                                    </svg>
                                </div>
                                <div fxFlex="25px" fxLayoutAlign="center center" class="mr-05"
                                    *ngIf="chart.visualizationType == 'radialgauge'">
                                    <svg version="1.1" xmlns="http://www.w3.org/2000/svg" width="30" height="30"
                                        viewbox="0 0 512 512">
                                        <g transform="translate(2,7)">
                                            <g transform="scale(0.045)">
                                                <g transform="scale(12)">
                                                    <circle class="donut-hole" cx="21" cy="21" r="15.91549430918954"
                                                        fill="transparent"></circle>
                                                    <circle class="donut-ring" cx="21" cy="21" r="15.91549430918954"
                                                        fill="transparent" stroke="transparent" stroke-width="7">
                                                    </circle>
                                                    <circle class="donut-segment" cx="21" cy="21" r="15.91549430918954"
                                                        fill="transparent" class="visual-svg" stroke-width="5"
                                                        stroke-dasharray="70 30" stroke-dashoffset="60" />
                                                    <circle cx="21" cy="25" r="3" class="visual-fill" />
                                                    <path class="visual-svg-fill" stroke-width="0"
                                                        d="M20,26.5 l3 -2 l-10 -11 z" />
                                                </g>
                                            </g>
                                        </g>
                                    </svg>
                                </div>
                                <div fxFlex="25px" fxLayoutAlign="center center" class="mr-05"
                                    *ngIf="chart.visualizationType == 'lineargauge'">
                                    <svg version="1.1" xmlns="http://www.w3.org/2000/svg" width="30" height="30"
                                        viewbox="0 0 512 512">
                                        <g transform="translate(1,3)">
                                            <g transform="scale(0.045)">
                                                <g transform="scale(10)">
                                                    <text x="7" y="10" class="visual-fill" font-size="14"
                                                        font-weight="bold">1</text>
                                                    <rect x="15" y="4.9" width="20" height="3" rx="1px"
                                                        class="visual-svg-fill" stroke-width="1" />
                                                    <rect x="34.3" y="5" width="3" height="42" rx="1px"
                                                        class="visual-svg-fill" stroke-width="1" />
                                                    <text x="7" y="46.4" class="visual-fill" font-size="14"
                                                        font-weight="bold">0</text>
                                                    <rect x="15" y="44" width="20" height="3" rx="1px"
                                                        class="visual-svg-fill" stroke-width="1" />
                                                    <path class="visual-svg-fill" stroke-width="3" d="M22,15 h15" />
                                                    <path class="visual-svg-fill" stroke-width="3" d="M22,24.5 h15" />
                                                    <path class="visual-svg-fill" stroke-width="3" d="M22,34 h15" />
                                                    <path class="visual-svg-fill" stroke-width="2" d="M25.7,10.5 h12" />
                                                    <path class="visual-svg-fill" stroke-width="2" d="M25.7,19.5 h12" />
                                                    <path class="visual-svg-fill" stroke-width="2" d="M25.7,29.5 h12" />
                                                    <path class="visual-svg-fill" stroke-width="2" d="M25.7,39.5 h12" />
                                                </g>
                                            </g>
                                        </g>
                                    </svg>
                                </div>
                                <div fxFlex="25px" fxLayoutAlign="center center" class="mr-05"
                                    *ngIf="chart.visualizationType == 'arcgauge'">
                                    <svg version="1.1" xmlns="http://www.w3.org/2000/svg" width="30" height="30"
                                        viewbox="0 0 512 512">
                                        <g transform="translate(0,1)">
                                            <g transform="scale(0.05)">
                                                <g transform="translate(-25,0)">
                                                    <path d="M51,408 h51 q0,-200 207,-190 l7 -51 Q 41,165 51,411.5 "
                                                        class="visual-svg-fill" stroke-width="7" />
                                                    <path d="M310,218 q150,50 150,193 h50 c 0,-10 0,-199 -200,-245"
                                                        fill="none" class="visual-svg" stroke-width="7" />
                                                </g>
                                            </g>
                                        </g>
                                    </svg>
                                </div>
                                <div fxFlex>
                                    {{ chart.visualizationName }}
                                </div>
                            </div>
                        </mat-option>
                    </mat-select>
                </mat-form-field>
            </mat-menu>
        </div>
        <!-- <div fxFlex="20px" fxLayoutAlign="end center" class="mr-05 icons-visible"
            *ngIf="isImportVisible && (canAccess_feature_CanChangeVisualisationType) && showVisualization && customAppCharts.length > 1">
            <fa-icon icon="chart-line" class="pl-1 mat-color-accent filter-operation cursor-pointer"
                matTooltip="{{'APP.CHANGEVISUALIZATION' | translate}}"
                [satPopoverAnchorFor]="visualizationChangePopover" #visualizationChangePopup="satPopoverAnchor"
                (click)="openVisualizationChangeForm(visualizationChangePopup)">
            </fa-icon>
        </div> -->
    </div>
    <mat-progress-bar color="primary" mode="indeterminate" *ngIf="anyOperationInProgress && !(chartType == 'table')">
    </mat-progress-bar>

    <mat-progress-bar color="primary" mode="indeterminate" *ngIf="isLoadingImage">
    </mat-progress-bar>
    <!-- [ngStyle]="getGridStyle(gridSettings.gridData)" -->

    <div class="grid-wrapper custom-table-height paging-move" id="style-1" *ngIf="chartType == 'table'">
        <mat-progress-bar color="primary" mode="indeterminate" *ngIf="isLoadingImage">
        </mat-progress-bar>
        <kendo-grid #grid [id]="tableId" [data]="gridSettings.gridData" [height]="height" (cellClick)="onClick($event)"
            [style.cursor]="cursor" (cellHover)="cursor = 'pointer'" (cellLeave)="cursor = 'default'" [pageSize]="10"
            [skip]="gridSettings.state ? gridSettings.state.skip : 0"
            [sort]="gridSettings.state ? gridSettings.state.sort : null" [kendoGridSelectBy]="'Id'"
            [filter]="gridSettings.state ? gridSettings.state.filter : null" [sortable]="true" [pageable]="true"
            [filterable]="showFilters" [resizable]="true" [scrollable]="false"
            (dataStateChange)="dataStateChange($event)" (columnVisibilityChange)="onVisibilityChange($event)"
            (columnResize)="onResize($event)" [rowClass]="rowCallback">
            <kendo-grid-messages sortAscending="{{ 'KENDOGRIDMESSAGES.SORTASCENDING' | translate }}"
                sortDescending="{{ 'KENDOGRIDMESSAGES.SORTDESCENDING' | translate }}"
                columnsReset="{{ 'KENDOGRIDMESSAGES.COLUMNSRESET' | translate }}"
                columnsApply="{{ 'KENDOGRIDMESSAGES.COLUMNSAPPLY' | translate }}"
                columns="{{ 'KENDOGRIDMESSAGES.COLUMNS' | translate }}"
                filterEqOperator="{{ 'KENDOGRIDMESSAGES.ISEQUALTO' | translate }}"
                filterNotEqOperator="{{ 'KENDOGRIDMESSAGES.ISNOTEQUALTO' | translate }}"
                filterContainsOperator="{{ 'KENDOGRIDMESSAGES.CONTAINS' | translate }}"
                filterNotContainsOperator="{{ 'KENDOGRIDMESSAGES.DOESNOTCONTAIN' | translate }}"
                filterStartsWithOperator="{{ 'KENDOGRIDMESSAGES.STARTSWITH' | translate }}"
                filterEndsWithOperator="{{ 'KENDOGRIDMESSAGES.ENDSWITH' | translate }}"
                filterIsNullOperator="{{ 'KENDOGRIDMESSAGES.ISNULL' | translate }}"
                filterIsNotNullOperator="{{ 'KENDOGRIDMESSAGES.ISNOTNULL' | translate }}"
                filterIsEmptyOperator="{{ 'KENDOGRIDMESSAGES.ISEMPTY' | translate }}"
                filterIsNotEmptyOperator="{{ 'KENDOGRIDMESSAGES.ISNOTEMPTY' | translate }}"
                filterAndLogic="{{ 'KENDOGRIDMESSAGES.AND' | translate }}"
                filterOrLogic="{{ 'KENDOGRIDMESSAGES.OR' | translate }}"
                filterClearButton="{{ 'KENDOGRIDMESSAGES.CLEAR' | translate }}"
                filterFilterButton="{{ 'KENDOGRIDMESSAGES.FILTERBUTTON' | translate }}"
                filter="{{ 'KENDOGRIDMESSAGES.FILTER' | translate }}" pagerOf="{{ 'KENDOGRIDMESSAGES.OF' | translate }}"
                pagerItems="{{ 'KENDOGRIDMESSAGES.ITEMS' | translate }}"
                noRecords="{{ 'KENDOGRIDMESSAGES.NORECORDS' | translate }}">
            </kendo-grid-messages>

            <!-- <kendo-grid-checkbox-column [width]="10">
                 <ng-template kendoGridHeaderTemplate>
                    <input id="selectAllCheckboxId" type="checkbox" kendoCheckBox kendoGridSelectAllCheckbox
                        [state]="selectAllState" (selectAllChange)="onSelectAllChange($event)" />
                </ng-template> 
            </kendo-grid-checkbox-column> -->
            <kendo-grid-column title="" width="10">
                <!-- <ng-template kendoGridHeaderTemplate let-dataItem>
                    <input type="checkbox" id="selectAllCheckboxId" [checked]="areAllItemsChecked()" style="width: 16px; 
                    height: 16px;" (change)="onSelectAllChange($event,dataItem)" />
                </ng-template> -->
                <ng-template kendoGridCellTemplate let-dataItem>
                    <input type="checkbox" [checked]="dataItem.selected" style="width: 16px;
                    height: 16px;" (change)="onCheckboxChange($event,dataItem)" />
                </ng-template>
            </kendo-grid-column>

            <kendo-grid-column *ngFor="let column of gridSettings.columnsConfig" [field]="column.field"
                title="{{column.title == null || column.title == undefined || column.title=='' ? column.field : column.title | softLabelsPipe : softLabels}}"
                [width]="column.width ? column.width : column._width" [filterable]="true" [filter]="column.filter"
                [headerStyle]="getHeaderTemplate(column)" [style]="getStyle(column)" [hidden]="column.hidden"
                [class]="{'codeColumn': true}" class="no-padding">
                <ng-template kendoGridHeaderTemplate let-filter let-column="column">
                    <span
                        matTooltip="{{column.title == null || column.title == undefined || column.title=='' ? column.field : column.title  | softLabelsPipe : softLabels}}">{{column.title
                        == null || column.title == undefined || column.title=='' ? column.field : column.title |
                        softLabelsPipe : softLabels}}</span>
                </ng-template>

                <ng-template kendoGridFilterCellTemplate let-filter let-column="column">
                    <kendo-grid-string-filter-cell [showOperators]="true" [column]="column" [filter]="filter">
                    </kendo-grid-string-filter-cell>
                </ng-template>
                <ng-template kendoGridCellTemplate let-dataItem>
                    <div class="whole-cell" [style.backgroundColor]="dataItem.backgroundColor"
                        *ngIf="dataItem.isHighLight || dataItem.isHighLight == '1'"
                        matTooltip="{{dataItem[column.field]}}" matTooltipClass="tooltip-overflow"
                        style="height: 42px;">
                        <div style="padding-top: 5px; padding-left: 10px;font-size: 16px;"
                            class="hide-content-overflow">{{
                            dataItem[column.field] }}</div>
                    </div>
                    <div *ngIf="!dataItem.isHighLight || !(dataItem.isHighLight == '1')"
                        matTooltip="{{dataItem[column.field]}}" matTooltipClass="tooltip-overflow"
                        style="height: 42px;">
                        <div style="padding-top: 5px; padding-left: 10px;font-size: 16px;"
                            class="hide-content-overflow">{{
                            dataItem[column.field] }}</div>
                    </div>
                </ng-template>

            </kendo-grid-column>

            <kendo-grid-excel fileName="{{fileName}}"></kendo-grid-excel>
            <kendo-grid-pdf fileName="{{fileName}}" paperSize="A4" [allPages]="true" [repeatHeaders]="true"
                margin="0.3cm" [scale]="0.3"></kendo-grid-pdf>
            <ng-template kendoGridPDFTemplate let-pageNum="pageNum" let-totalPages="totalPages">
                <div class="page-template">
                    <div class="header">
                        <div style="float: right">Page {{ pageNum }} of {{ totalPages }}</div>
                    </div>
                    <div class="footer">
                        Page {{ pageNum }} of {{ totalPages }}
                    </div>
                </div>
                <div class="footer">
                    Page {{ pageNum }} of {{ totalPages }}
                </div>
            </ng-template>
        </kendo-grid>
        <!-- <div [ngClass]="{'k-i-loading': anyOperationInProgress}"></div> -->
    </div>
    <div class="m-0 p-0" *ngIf="chartType == 'pivot'">
        <div fxLayout="row" class="grid-wrapper display-none" [class.display-block]="chartType == 'pivot'"
            fxLayoutAlign="space-between start">
            <div #configurator fxFlex="{{ showFilters ? 28 : 0 }}" class="display-none"
                [class.display-block]="showFilters">
            </div>
            <div #pivotgrid id="pivot-grid" fxFlex="{{ showFilters ? 70 : 100 }}"></div>
        </div>
    </div>
    <div fxLayout="row" class="grid-wrapper" *ngIf="chartType == 'pivot' && isPivotTableReady == true"
        fxLayoutAlign="space-between start">
        <kendo-chart fxFlex #pivotChart id="{{customapplicationId}}" [pannable]="{ lock: 'y' }" *ngIf="!isSingleMeasure"
            [style.cursor]="cursor" (seriesHover)="cursor = 'pointer'" (seriesLeave)="cursor = 'default'"
            [zoomable]="{mousewheel:{lock:'y'}}">
            <kendo-chart-title></kendo-chart-title>

            <kendo-chart-legend position="top" orientation="horizontal">
            </kendo-chart-legend>
            <kendo-chart-series>
                <div *ngFor="let axis of pivotChartDataSeries;">
                    <div *ngFor="let item of axis.items">
                        <kendo-chart-series-item field="measure" categoryField="column" [name]="item.value"
                            style="cursor: pointer;" type="column" [data]="item.items" [axis]="axis.value"
                            [labels]="seriesLabels">
                        </kendo-chart-series-item>
                    </div>
                </div>
            </kendo-chart-series>
            <kendo-chart-value-axis>
                <kendo-chart-value-axis-item *ngFor="let item of pivotChartYAxis" [name]="item.name"
                    [title]="{ text: item.title }">
                </kendo-chart-value-axis-item>
            </kendo-chart-value-axis>

        </kendo-chart>
        <kendo-chart fxFlex #pivotChart [pannable]="{ lock: 'y' }" *ngIf="isSingleMeasure" [style.cursor]="cursor"
            (seriesHover)="cursor = 'pointer'" (seriesLeave)="cursor = 'default'" [zoomable]="{mousewheel:{lock:'y'}}">
            <kendo-chart-title></kendo-chart-title>

            <kendo-chart-legend position="top" orientation="horizontal">
            </kendo-chart-legend>
            <kendo-chart-series>
                <div *ngFor="let item of pivotChartDataSeries;">
                    <kendo-chart-series-item field="measure" categoryField="column" [name]="item.value" type="column"
                        style="cursor: pointer;" [data]="item.items" [labels]="seriesLabels">
                    </kendo-chart-series-item>
                </div>
            </kendo-chart-series>
        </kendo-chart>
    </div>

    <div id="widget-scroll-id" class="custom-app-bar-chart" *ngIf="chartType == 'area' || chartType == 'line' || chartType == 'bar'
    || chartType == 'column'">
        <div>
            <kendo-chart #chart [pannable]="{ lock: 'y' }" style="height: 250px !important;"
                (seriesClick)="onClick($event)" [style.cursor]="cursor" (seriesHover)="cursor = 'pointer'"
                (seriesLeave)="cursor = 'default'" (render)="exportChartVisualizationForScheduling()">
                <kendo-chart-title></kendo-chart-title>
                <kendo-chart-category-axis *ngFor="let categories of categorySeries">
                    <kendo-chart-category-axis-item [categories]=xAxisCategories [max]=30
                        [title]="{ text: xCoOrdinateAlt }" [labels]="seriesLabels">
                        <kendo-chart-category-axis-item-labels [rotation]="-45" [font]="fontFamily">
                        </kendo-chart-category-axis-item-labels>
                    </kendo-chart-category-axis-item>
                </kendo-chart-category-axis>
                <kendo-chart-legend position="top" orientation="horizontal">
                </kendo-chart-legend>
                <kendo-chart-series style="cursor: pointer;">
                    <!-- <div *ngFor="let categories of categorySeries;let i = index"> -->
                    <kendo-chart-series-item *ngFor="let categories of categorySeries;let i = index"
                        name={{getTooltipValue(i)}} type={{chartType}} [data]=categories.data
                        (seriesClick)="onClick($event)" [stack]="isStackedChart" [color]="categories.colorField">
                        <kendo-chart-tooltip [opacity]="1">
                        </kendo-chart-tooltip>
                    </kendo-chart-series-item>
                    <!-- </div> -->
                </kendo-chart-series>
            </kendo-chart>
        </div>

    </div>

    <div id="widget-scroll-id style-1" class="custom-app-pie-chart" *ngIf="chartType == 'pie' || chartType == 'donut'">
        <div *ngIf="isNumber == true" class="text-center p-05" style="color:red">
            This graph is not supported for string data type
        </div>
        <div *ngIf="dataForView && isNumber == false">
            <kendo-chart #chart (legendItemHover)="onLegendItemHover($event)"
                (render)="exportChartVisualizationForScheduling()" [transitions]="false" (seriesClick)="onClick($event)"
                [style.cursor]="cursor" (seriesHover)="cursor = 'pointer'" (seriesLeave)="cursor = 'default'">
                <kendo-chart-tooltip>
                    <ng-template kendoChartSeriesTooltipTemplate let-value="value" let-category="category">
                        {{category + " : " + value }}
                    </ng-template>
                </kendo-chart-tooltip>
                <kendo-chart-series>
                    <kendo-chart-series-item [type]="chartType" [data]="pieData" field="value" categoryField="category"
                        colorField="colorField">
                    </kendo-chart-series-item>
                </kendo-chart-series>
                <kendo-chart-legend position="top" [labels]="{ content: legendLabelData }"></kendo-chart-legend>

            </kendo-chart>

        </div>
        <div class="text-center p-05" *ngIf="!dataForView">
            {{ 'WIDGETS.NODATATODISPLAY' | translate }}
        </div>
    </div>

    <div fxFlex *ngIf="chartType == 'kpi'" (click)="onClick($event)" style="cursor: pointer; height: 95% !important">
        <div fxLayout="row" fxLayoutAlign="center center" class="full-height" id="{{customapplicationId}}">
            <span class="hide-content-overflow" style="font-size: 71px;color: black;font-weight: 500;">
                {{kpiValue}}
            </span>
        </div>
    </div>

    <div id="widget-scroll-id" class="heat-map-report" *ngIf="chartType == 'Heat map'">

        <app-calendar-chart [xAndYAxisCategories]="xAndYAxisCategories" [dashboardId]="dashboardId">
        </app-calendar-chart>
    </div>


    <div fxLayout="row" id="style-1" fxLayoutAlign="center center" (click)="onClick($event)" class="path">
        <div style="color:red"
            *ngIf="isNumber == true && (chartType == 'lineargauge' ||  chartType == 'radialgauge' || chartType == 'arcgauge')">
            This graph is not supported for string data type
        </div>

        <kendo-lineargauge #lineargauge class="kendo-linear-gauge-chart-width" [pointer]="{ value: kpiValue }"
            [scale]="{ max: maxValue }" *ngIf="chartType == 'lineargauge' && isNumber == false">
        </kendo-lineargauge>
        <kendo-radialgauge #radialgauge [pointer]="{ value: kpiValue }" [scale]="{ max: maxValue }"
            *ngIf="chartType == 'radialgauge' && isNumber == false">
        </kendo-radialgauge>
        <div *ngIf="chartType == 'arcgauge' && isNumber == false">
            <kendo-arcgauge #arcgauge [scale]="{ max: maxValue }" [value]="kpiValue">
            </kendo-arcgauge>
        </div>
    </div>
</div>


<app-common-message-box *ngIf="!isEnableTestrailBit"
    textToDisplay="{{ 'PROJECTS.PLEASECONFIGURETESTRAILSETTINGS' | translate }}">
</app-common-message-box>


<app-common-message-box *ngIf="!isBugBoardEnableBit"
    textToDisplay="{{ 'PROJECTS.PLEASECONFIGUREBUGSETTINGS' | translate }}">
</app-common-message-box>

<sat-popover backdropClass="backdrop-color" hasBackdrop #visualizationChangePopover verticalAlign="below"
    horizontalAlign="after" [interactiveClose]="false">
    <mat-card class="filter-data p-0">
        <mat-card-title class="text-center">
            <div class="card-title-text mat-bg-primary p-05">
                {{'APP.CHANGEVISUALIZATION' | translate}}
            </div>
        </mat-card-title>
        <mat-card-content>
            <div>
                <mat-form-field class="full-width pl-05 pr-05 pb-05" (click)="$event.stopPropagation();">
                    <mat-select [formControl]="selectedVisualizationType"
                        placeholder="{{ 'APP.SELECTVISUALIZATIONNAME' | translate }}"
                        (selectionChange)="visualizationTypeChange()">
                        <mat-option [value]="chart.customApplicationChartId" *ngFor="let chart of customAppCharts">
                            {{ chart.visualizationName }}
                        </mat-option>
                    </mat-select>
                </mat-form-field>
            </div>
            <div fxLayout="row" fxLayoutAlign="end center" fxLayoutGap="5px" class="pb-1">
                <button type="button" mat-button mat-raised-button (click)="closeVisualizationChangePopup()">
                    <fa-icon class="mr-05" icon="times"></fa-icon>{{'CANCEL' | translate}}
                </button>
                <button type="button" mat-button mat-raised-button color="primary" (click)="updateVisualization()"
                    [disabled]="isVisualizationChangeInprogress || (selectedVisualizationType.value == null)">
                    <fa-icon class="mr-05" icon="check"></fa-icon>{{'APP.APPLY' | translate}}
                </button>
            </div>
        </mat-card-content>
    </mat-card>
</sat-popover>
<mat-menu #filterMenu="matMenu" xPosition="before" class="custom-matpanel">
    <mat-card class="filter-data" (click)="$event.stopPropagation()">
        <mat-form-field class="full-width">
            <mat-select [(value)]="selectedFilterValue" (selectionChange)="changeFilterValue($event.value)">
                <mat-option value="all">All</mat-option>
                <mat-option value="reportingOnly">Reporting only</mat-option>
                <mat-option value="mySelf">My self</mat-option>
            </mat-select>
        </mat-form-field>
    </mat-card>
</mat-menu>


<ng-template #createAppDialogComponet let-data>
    <create-app-dialog [data]=[data]></create-app-dialog>
</ng-template>

<ng-template #customAppDrillDownComponent let-data>
    <custom-app-drilldown [data]=[data]></custom-app-drilldown>
</ng-template>


<!-- <sat-popover #shareReportPopup hasBackdrop verticalAlign="below" horizontalAlign="end" backdropClass="backdrop-color"> -->
<ng-template #shareDialogDocument let-data>

    <div class="custom-dialog">
        <div class="custom-close" mat-dialog-close (click)="closeDialog()">
            <fa-icon icon="times" class="project-dialog"></fa-icon>
        </div>
    </div>
    <div>
        <mat-card class="filter-data p-0" fxFlex fxLayout="column">
            <mat-card-title class="text-center">
                <div class="card-title-text mat-bg-primary p-05 mb-1">
                    Share Report
                </div>
            </mat-card-title>
            <form [formGroup]="sendReportForm" novalidate #formDirective="ngForm" class="p-05">
                <mat-form-field class="full-width">
                    <mat-select placeholder="User" multiple (selectionChange)="getUserlistByUserId()"
                        formControlName="userIds">
                        <mat-select-trigger>
                            {{selectedUserNames}}
                        </mat-select-trigger>
                        <mat-option [value]="0" #allSelected (click)="toggleAllUsersSelected()">
                            {{'Select All'}}
                        </mat-option>
                        <mat-option [value]="user.id" (click)="toggleUserPerOne(allSelected.value)"
                            *ngFor="let user of usersList">
                            {{ user.fullName }}
                        </mat-option>
                    </mat-select>
                </mat-form-field>
                <mat-form-field class="full-width tags-popup mb-1" hintLabel="Please press comma to enter new email">
                    <mat-chip-list #tagsList1>
                        <mat-chip *ngFor="let tags of toMailsList" [selectable]="selectable" [removable]="removable"
                            (removed)="removeToMailId(tags)" class="userstory-tags">
                            <span class="hide-content-overflow" matTooltip="{{ tags }}"
                                matTooltipClass="tooltipClass-mat tooltip-overflow">
                                {{tags}}
                            </span>
                            <mat-icon matChipRemove *ngIf="removable">cancel</mat-icon>
                        </mat-chip>
                        <input placeholder="Enter Email" [matChipInputFor]="tagsList1" formControlName="toEmails"
                            [matChipInputSeparatorKeyCodes]="separatorKeysCodes"
                            (matChipInputTokenEnd)="addToMailIds($event)">
                    </mat-chip-list>
                </mat-form-field>
                <mat-form-field class="full-width">
                    <textarea matInput class="text-area" formControlName="subject" rows="3" placeholder="Email subject"
                        required></textarea>
                </mat-form-field>
                <editor formControlName="body" class="dfree-header custom-logtime-comment"
                    apiKey="ln50de3rdhw6h9ld2lutg00tj5g9xk14pp5m8dfy1b1s4nen" placeholder="Email Body" menubar="false"
                    [init]="initSettings" background="white" (onKeyUp)="buttonDisabledInProgress($event)" required>
                </editor>
            </form>
            <div class="text-center p-05">
                <button type="button" mat-raised-button color="primary" class="mr-1 text-center"
                    (click)="getFileToSendReport()"
                    [disabled]="!(sendReportForm.valid && ((selectedUserEmails !='' && selectedUserEmails != null) || (toMailsList.toString()!='' && toMailsList!=null)))">
                    <mat-progress-bar color="primary" mode="indeterminate" *ngIf="sharingisinProgress">
                    </mat-progress-bar>
                    <fa-icon icon="save" class="mr-05"></fa-icon> {{'SAVE' | translate}}
                </button>
                <button mat-raised-button class="mr-1" (click)="closeDialog()">
                    <fa-icon icon="times" class="mr-05"></fa-icon> {{'CANCEL' | translate}}
                </button>
            </div>
        </mat-card>
    </div>
</ng-template>
<!-- </sat-popover> -->