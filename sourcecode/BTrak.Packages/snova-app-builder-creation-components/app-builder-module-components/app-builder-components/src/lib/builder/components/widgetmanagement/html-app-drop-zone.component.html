<div fxLayout="column">
    <div  *ngIf="!isFileUploaded">
        <div class="custom-dropzone" ngx-dropzone (change)="filesSelected($event)" [accept]="'text/javascript'"
            [maxFileSize]="20971520" [disabled]="anyOperationInProgress" [multiple]="false">
            <ngx-dropzone-label>
                <span>{{'DOCUMENTMANAGEMENT.DRAGANDDROPFILESHERE' | translate}}</span>
            </ngx-dropzone-label>
            <ngx-dropzone-preview class="custom-dropzone-preview" *ngFor="let f of files" [removable]="true"
                (removed)="onRemove(f)">
                <ngx-dropzone-label class="custom-dropzone-label" [attr.data-tip]="f.name">{{ f.name }} ({{ f.type }})
                </ngx-dropzone-label>
            </ngx-dropzone-preview>
        </div>
        <div class="mt-05" fxLayoutAlign="center end" *ngIf="filesPresent">
            <button mat-button mat-raised-button color="primary" (click)="saveFiles()"
                [disabled]="anyOperationInProgress">
                <mat-progress-bar color="primary" mode="indeterminate" *ngIf="anyOperationInProgress">
                </mat-progress-bar>
                <fa-icon class="mr-05" icon="save"></fa-icon>{{'DOCUMENTMANAGEMENT.SAVEFILES' | translate}}
            </button>
            <button class="ml-1" mat-button mat-raised-button (click)="removeAllFiles();"
                [disabled]="anyOperationInProgress">
                <fa-icon class="mr-05" icon="times"></fa-icon>{{'DOCUMENTMANAGEMENT.CLEARFILES' | translate}}
            </button>
        </div>
    </div>

    <ng-container *ngIf="isFileUploaded">
        <div>
            <div class="mt-05">
                <mat-label><b>{{'USERSTORY.UPLOADEDFILES' | translate}}:</b>
                </mat-label>
            </div>
            <div class="fileupload-text mb-05" id="style-1">
                <mat-list-item>
                    <mat-label class="userstory-filepath">
                        <ng-container>
                            <a [href]="fileDetails.filePath"
                                target="blank">{{fileDetails.fileName? fileDetails.fileName : fileDetails.filePath}}</a>
                        </ng-container>
                    </mat-label>
                    <fa-icon icon="trash" class="mat-color-accent pull-right mr-05 goal-cursor" matTooltip="Delete file"
                        (click)="deleteSelectedFile()">
                    </fa-icon>
                </mat-list-item>
            </div>
        </div>
    </ng-container>
</div>