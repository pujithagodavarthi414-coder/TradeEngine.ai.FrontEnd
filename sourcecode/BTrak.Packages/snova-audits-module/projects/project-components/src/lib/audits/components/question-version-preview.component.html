<div fxFlex="100" fxFlex.gt-sm="100" class="case-details-view">
    <mat-progress-bar color="primary" class="pl-1" mode="indeterminate" *ngIf="(anyOperationInProgress$ | async)">
    </mat-progress-bar>
    <mat-card-content class="p-0  case-details-preview-scroll fit-content-case-details-preview-scroll"
        *ngIf="!(anyOperationInProgress$ | async) && loadDetails" id="style-1">
        <div fxLayout="row wrap" class="">
            <div fxLayout="row wrap">
            </div>
            <div fxFlex="100" fxLayout="row wrap" fxLayout.xs="column">
                <div fxFlex="100" class="ml-1" fxFlex.gt-xs="22" fxLayout="column wrap">
                    <p class="m-0"><b>{{'AUDIT.QUESTIONTYPES' | translate | softLabelsPipe :softLabels }}</b></p>
                    <p *ngIf="!singleQuestionDetails.isMasterQuestionType">{{singleQuestionDetails.questionTypeName}}
                    </p>
                    <p *ngIf="singleQuestionDetails.isMasterQuestionType">
                        {{singleQuestionDetails.masterQuestionTypeName}}</p>
                </div>
                <div fxFlex="100" class="ml-1" fxFlex.gt-xs="23" fxLayout="column wrap"
                    *ngIf="singleQuestionDetails.estimatedTime && singleQuestionDetails.estimatedTime != '0'">
                    <p class="m-0"><b>{{'USERSTORYUNIQUE.ESTIMATEDTIME' | translate}}</b></p>
                    <p>{{singleQuestionDetails.estimatedTime | auditTimefilter}}</p>
                </div>
                <div fxFlex="100" class="ml-1" fxFlex.gt-xs="22" fxLayout="column wrap">
                    <p class="m-0"><b>{{'AUDIT.ISMANDATORY' | translate}}</b></p>
                    <p
                        *ngIf="singleQuestionDetails.isQuestionMandatory == null || singleQuestionDetails.isQuestionMandatory == false">
                        No</p>
                    <p
                        *ngIf="singleQuestionDetails.isQuestionMandatory != null && !(singleQuestionDetails.isQuestionMandatory == false)">
                        Yes</p>
                </div>
                <div fxFlex="100" class="ml-1" fxFlex.gt-xs="10" fxLayout="column wrap"
                    *ngIf="singleQuestionDetails.masterQuestionTypeId != dropdownQuestionTypeId && singleQuestionDetails.masterQuestionTypeId != booleanQuestionTypeId">
                    <p class="m-0"><b>{{ 'AUDIT.SCORE' | translate }}</b></p>
                    <p>{{singleQuestionDetails.questionOptions[0].questionOptionScore}}</p>
                </div>
            </div>
            <div fxFlex="100" fxLayout="row wrap" fxLayout.xs="column">
                <div fxFlex="100" class="ml-1" fxFlex.gt-xs="23" fxLayout="column wrap"
                    *ngIf="singleQuestionDetails.impactName">
                    <p class="m-0"><b>{{'AUDIT.IMPACT' | translate}}</b></p>
                    <p>{{singleQuestionDetails.impactName }}</p>
                </div>
                <div fxFlex="100" class="ml-1" fxFlex.gt-xs="23" fxLayout="column wrap"
                    *ngIf="singleQuestionDetails.priorityName">
                    <p class="m-0"><b>{{'AUDIT.PRIORITY' | translate}}</b></p>
                    <p>{{singleQuestionDetails.priorityName }}</p>
                </div>
            </div>
        </div>
        <!-- <div class="full-width">
            <app-custom-field-component *ngIf="isFormType" [moduleTypeId]="moduletypeId" [reload]=true
              [referenceTypeId]="auditId" [isButtonVisible]=false [referenceId]="questionId"
              [isDeletePermission]=false
              [isAddPermission]=false
              [isEditFieldPermission]=false>
            </app-custom-field-component>
        </div> -->
        <div fxLayout="row wrap">
            <mat-divider class="mat-divider-position ml-05 mr-05 mat-divider mt-05 mb-05" role="separator"
                aria-orientation="horizontal">
            </mat-divider>
            <div fx-Flex="100" class="ml-1" fxFlex.gt-sm="100" fxLayout="column wrap">
                <p class="m-0"><b>{{'AUDIT.QUESTIONHINT' | translate | softLabelsPipe :softLabels }}</b></p>
                <span class="m-0 word-break display-pre-line ml-05 p-05" *ngIf="!(singleQuestionDetails.questionHint == null) 
                && !(singleQuestionDetails.questionHint == '')">{{singleQuestionDetails.questionHint}}
                </span>
            </div>
        </div>
        <div fxLayout="row wrap">
            <mat-divider class="mat-divider-position ml-05 mr-05 mat-divider mt-05 mb-05" role="separator"
                aria-orientation="horizontal">
            </mat-divider>
            <ng-container *ngIf="singleQuestionDetails.questionDescription">
                <div *ngIf="hiddenvalue">
                    <div fx-Flex="100" class="ml-1" fxFlex.gt-sm="100" fxLayout="column wrap">
                        <a class="add-test-case" class="m-0" (click)="getDescriptionhiddenValue()">
                            <b><u>{{'AUDIT.HIDEAUDITDESCRIPTION' | translate | softLabelsPipe :softLabels}}</u></b></a>
                    </div>
                </div>
                <div *ngIf="!hiddenvalue">
                    <div fx-Flex="100" class="ml-1" fxFlex.gt-sm="100" fxLayout="column wrap">
                        <a class="add-test-case" class="m-0" (click)="getDescriptionhiddenValue()">
                            <b><u>{{'AUDIT.VIEWAUDITDESCRIPTION' | translate | softLabelsPipe :softLabels}}</u></b></a>
                    </div>
                </div>

            </ng-container>
        </div>
        <div fxLayout="row wrap" fxFlex="100" [hidden]="!hiddenvalue">
            <span class="m-0 word-break display-pre-line ml-05 p-05"
                [innerHTML]="singleQuestionDetails.questionDescription">
            </span>
        </div>
        <div class="mt-05 mb-05" fxLayout="row wrap" fxFlex="100" fxLayout.xs="column" fxLayoutGap.xs="0"
            fxLayoutGap="10px">
            <table class="table"
                *ngIf="singleQuestionDetails.masterQuestionTypeId == dropdownQuestionTypeId || singleQuestionDetails.masterQuestionTypeId == booleanQuestionTypeId">
                <tr>
                    <th style="text-align: center;">{{ 'AUDIT.RESULT' | translate }}</th>
                    <th style="text-align: center;">{{ 'AUDIT.OPTION' | translate }}</th>
                    <th style="text-align: center;">{{ 'AUDIT.SCORE' | translate }}</th>
                </tr>
                <tr *ngFor="let option of singleQuestionDetails.questionOptions; let i = index;">
                    <td style="text-align: center;">
                        <span *ngIf="option.questionOptionResult == null || option.questionOptionResult == false">
                            No</span>
                        <span *ngIf="option.questionOptionResult != null && !(option.questionOptionResult == false)">
                            Yes</span>
                    </td>
                    <td style="text-align: center;">
                        <span>{{option.questionOptionName}}</span>
                    </td>
                    <!-- <td style="text-align: center;">
                        <span>{{option.questionOptionDate | utcToLocalTime}}</span>
                    </td> -->
                    <td style="text-align: center; position: relative;">
                        <span>{{option.questionOptionScore}}</span>
                    </td>
                </tr>
            </table>
            <!-- 
            <table class="table"
                *ngIf="singleQuestionDetails.masterQuestionTypeId != dropdownQuestionTypeId && singleQuestionDetails.masterQuestionTypeId != booleanQuestionTypeId">
                <tr>
                    <th style="text-align: center;" *ngIf="singleQuestionDetails.questionOptions[0].questionOptionDate">
                        {{'AUDIT.DATE' | translate}}</th>
                    <th style="text-align: center;"
                        *ngIf="singleQuestionDetails.questionOptions[0].questionOptionNumeric">
                        {{'AUDIT.NUMBER' | translate}}</th>
                    <th style="text-align: center;" *ngIf="singleQuestionDetails.questionOptions[0].questionOptionText">
                        {{'AUDIT.TEXT' | translate}}</th>
                    <th style="text-align: center;" *ngIf="singleQuestionDetails.questionOptions[0].questionOptionTime">
                        {{'AUDIT.TEXT' | translate}}</th>
                    
                    <th style="text-align: center;">{{ 'AUDIT.SCORE' | translate }}</th>
                </tr>
                <tr *ngFor="let option of singleQuestionDetails.questionOptions; let i = index;">
                    
                    <td style="text-align: center;" *ngIf="option.questionOptionDate">
                        <span>{{option.questionOptionDate | utcToLocalTime | date: "dd-MMM-yyyy"}}</span>
                    </td>
                    <td style="text-align: center;" *ngIf="option.questionOptionNumeric">
                        <span>{{option.questionOptionNumeric}}</span>
                    </td>
                    <td style="text-align: center;" *ngIf="option.questionOptionName">
                        <span>{{option.questionOptioText}}</span>
                    </td>
                    <td style="text-align: center; position: relative;">
                        <span>{{option.questionOptionScore}}</span>
                    </td>
                </tr>
            </table> -->
        </div>
    </mat-card-content>
</div>