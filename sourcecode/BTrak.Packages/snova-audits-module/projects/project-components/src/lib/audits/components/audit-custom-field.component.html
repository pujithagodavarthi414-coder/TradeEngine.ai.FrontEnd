<div fxFlex="100" fxFlex.gt-sm="100" fxLayout="column wrap" height="">

    <mat-card class="case-edit-preview fit-content-case-edit-preview" style="height: calc(100vh - 206px);" id="style-1">
        <div class="row" *ngIf="addButtonVisible && noformData">
            <div fxFlex="50" fxFlex.xs="100" class="pl-1">
                <mat-form-field class="full-width mb-05">
                    <input matInput placeholder="Field name" [(ngModel)]="formName">
                </mat-form-field>
            </div>
            <div fxFlex="50" fxFlex.xs="100" class="pl-1">
                <mat-form-field class="full-width">
                    <mat-select placeholder="Select form" (selectionChange)="onformSelected($event.value)"
                        [(ngModel)]="selectedForm">
                        <mat-option *ngFor="let form of formsData" [value]="form">
                            {{form.formName}}
                        </mat-option>
                    </mat-select>
                </mat-form-field>
            </div>
        </div>
        <mat-progress-bar color="primary" mode="indeterminate" *ngIf="isFromReports && anyOperationInProgress">
        </mat-progress-bar>
        <mat-card
            *ngIf="isFromReports && (formsData == null || formsData.length == 0) && anyOperationInProgress == false"
            class="p-0 test-display" fxFlex="100" fxFlex.gt-sm="100">
            <div fxLayout="row" fxFlex="100">
                <div fxFlex="100" fxFlex.gt-xs="5" class="p-05">
                    <fa-icon icon="info-circle"></fa-icon>
                </div>
                <div fxFlex="100" fxFlex.gt-xs="95" class="p-05 ml-1">
                    <p class="m-0">
                        {{'TESTMANAGEMENT.NOSEARCHRESULTSFOUND' | translate}}
                    </p>
                </div>
            </div>
        </mat-card>
        <div *ngIf="formsData && formsData.length > 0" class="full-width">
            <app-custom-field-component *ngIf="isFormType" (refreshForms)="searchCustomFieldForms()"
                [moduleTypeId]="moduleTypeId" [reload]="isreload" [referenceTypeId]="referenceTypeId"
                [isButtonVisible]=false [referenceId]="questionId" [isDeletePermission]="isDeletePermission"
                [isAddPermission]="isAddPermission" [isEditFieldPermission]="isEditFieldPermission">
            </app-custom-field-component>
        </div>
        <br>
        <div fxLayout="row wrap" fxLayoutAlign="center center" *ngIf="addButtonVisible">
            <button mat-raised-button type="button" class="mr-1" (click)="openCustomForm();$event.stopPropagation()">
                <fa-icon icon="plus" class="mr-05" matTooltip="{{'GENERICFORM.CUSTOMFIELDS'|translate}}"
                    class="filter mat-color-accent">
                </fa-icon>
                <span class="mr-05">
                    {{'USERSTORYTYPES.ADDCUSTOMFIELDS'| translate}}
                </span>
            </button>
        </div>
    </mat-card>
</div>

<ng-template #customFormsComponent let-data>
    <app-custom-form-component [data]=[data] (closeMatDialog)="closeDialog($event)"
        (submitFormComponent)="submitFormComponent($event)"></app-custom-form-component>
</ng-template>