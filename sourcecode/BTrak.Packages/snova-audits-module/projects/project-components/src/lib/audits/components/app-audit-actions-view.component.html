<app-common-message-box *ngIf="!canAccess_entityType_feature_ViewAuditActions"
  textToDisplay="{{ 'PERMISSIONMESSAGE' | translate }}">
</app-common-message-box>
<app-common-message-box *ngIf="canAccess_entityType_feature_ViewAuditActions && (actionsCount$ | async) == 0"
  textToDisplay="{{'AUDIT.NOYOUDONTHAVEANYACTIONSPRESENT' | translate | softLabelsPipe :softLabels }}">
  <ng-template ng-message-tmp>
    <button mat-button mat-raised-button class="mr-05 text-center mt-1" color="primary"
      *ngIf="canAccess_entityType_feature_AddOrUpdateAuditReports" [satPopoverAnchorFor]="addAction"
      #addActionPopover="satPopoverAnchor" (click)="$event.stopPropagation();openAddActionPopover(addActionPopover)">
      <fa-icon class="mr-05" icon="plus"></fa-icon>
      {{'AUDIT.ADDACTION' | translate | softLabelsPipe :softLabels }}
    </button>
  </ng-template>
</app-common-message-box>

<div id="style-1" class="full-width" style="max-height: calc(100vh - 100px);"
  *ngIf="canAccess_entityType_feature_ViewAuditActions && (actionsCount$ | async) > 0 && projectModuleLoaded">
  <!-- <app-pm-all-work-items class="full-width" [notFromAudits]=false></app-pm-all-work-items> -->
  <ndc-dynamic [ndcDynamicFactory]="widgetGridComponent" [ndcDynamicComponent]="widgetGridComponent"
    [ndcDynamicInjector]="injector" [ndcDynamicInputs]="componentInputs" [ndcDynamicOutputs]="">
  </ndc-dynamic>
</div>

<!-- <div class="floating-right-fab-button" *ngIf="canAccess_entityType_feature_AddOrUpdateAuditReports && (actionsCount$ | async) > 0">
  <div class="handle" *ngIf="projectModuleLoaded">
    <button mat-fab color="accent"
      matTooltip=" {{'AUDIT.ADDACTION' | translate}}"
      [satPopoverAnchorFor]="addAction" #addActionPopover="satPopoverAnchor"
      (click)="$event.stopPropagation();openAddActionPopover(addActionPopover)">
      <mat-icon>add</mat-icon>
    </button>
  </div>
</div> -->


<!--------add action dialog------>
<sat-popover #addAction hasBackdrop backdropClass="backdrop-color" [interactiveClose]="false" verticalAlign="below"
  horizontalAlign="end">
  <mat-card class="p-0">
    <mat-card-title class="text-center mat-bg-primary">
      <div class="card-title-text p-05"> {{'AUDIT.ADDACTION' | translate | softLabelsPipe :softLabels }}
      </div>
    </mat-card-title>
    <mat-card-content class="p-05">
      <conduct-question-action *ngIf='loadAction' (closeAction)="closeActionPopover()" [loadBugs]=false>
      </conduct-question-action>
    </mat-card-content>
  </mat-card>
</sat-popover>
<!--------add action dialog------>