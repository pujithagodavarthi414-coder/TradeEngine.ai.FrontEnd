<div class="full-height" *ngIf="canAccess_feature_CanViewAuditNonComplainceReport">
    <mat-card class="p-0 canteen-manage m-0">
        <mat-card-title class="full-width data-table-header drag-handler">
            <div fxLayout="row wrap" fxLayout.xs="column">
                <div class="card-title-text p-0 full-width ml-05" fxFlex fxLayoutAlign="start center">
                    <span class="hide-content-overflow p-05">
                        {{'AUDIT.NONCOMPLAINCEAPPTITLE' | translate | titlecase}}
                    </span>
                </div>
            </div>
            <mat-divider></mat-divider>
        </mat-card-title>
    </mat-card>

    <div class="no-drag" fxLayout="column">
        <div>
            <kendo-grid [data]="auditsList" [pageSize]="state.take" [skip]="state.skip" [sort]="sort"
                [filter]="state.filter" [sortable]="true" [pageable]="true" [filterable]="false"
                 [selectable]="true" [loading]="isAnyOperationIsInprogress" (sortChange)="sortChange($event)"
                (cellClick)="selectedRow($event)" [scrollable]="'none'"
                (pageChange)="pageChange($event)">
                <kendo-grid-column field="questionName" title="{{'AUDIT.QUESTIONNAME' | translate | softLabelsPipe :softLabels }}">
                    <ng-template kendoGridCellTemplate let-dataItem>
                        <div class="cursor-pointer">
                            {{ dataItem.questionName }}
                        </div>
                    </ng-template>
                </kendo-grid-column>
                <kendo-grid-column field="auditName" title="{{'AUDIT.AUDITTITLE' | translate | softLabelsPipe :softLabels}}">
                    <ng-template kendoGridCellTemplate let-dataItem>
                        <div class="cursor-pointer">
                            {{ dataItem.auditName }}
                        </div>
                    </ng-template>
                </kendo-grid-column>
                <kendo-grid-column field="nonComplaintAudits"
                    title="{{'AUDIT.NONCOMPALINTAUDITSLAST30DAYS' | translate | softLabelsPipe :softLabels}}">
                    <ng-template kendoGridCellTemplate let-dataItem>
                        <div class="cursor-pointer">{{ dataItem.nonComplaintAudits }}
                        </div>
                    </ng-template>
                </kendo-grid-column>
            </kendo-grid>
        </div>
    </div>
</div>

<ng-template #DrillDownDialog let-data>
    <app-fm-component-non-complaint-audit-preview [data]=[data]></app-fm-component-non-complaint-audit-preview>
  </ng-template>


<app-common-message-box
    *ngIf="!canAccess_feature_CanViewAuditNonComplainceReport"
    textToDisplay="{{'PERMISSIONMESSAGE' | translate}}">
</app-common-message-box>