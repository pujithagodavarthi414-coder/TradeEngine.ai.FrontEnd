<mat-card class="p-0 canteen-manage m-0 ml-05 mr-05 mt-05">
  <mat-card-title class="full-width data-table-header">
    <div fxLayout="row wrap" fxLayoutAlign="start center">
      <div class="card-title-text p-05 full-width ml-05" fxFlex fxLayoutAlign="start center">
        <span fxFlex="100" class="hide-content-overflow">
          {{'ROSTER.VIEWROSTERPLAN'| translate}} </span> </div>
      <div fxFlex="40px" class="mr-05" fxLayoutAlign="end center" (click)="closePopover()">
        <fa-icon class="icon-button" icon="times"></fa-icon>
      </div>
    </div>
  </mat-card-title>
  <div class="mat-dialog-padding roster-mat-content">
    <kendo-grid #grid [data]="gridView" [sort]="kendoState.sort" [sortable]="true" [selectable]="false"
      [filterable]="false" style="max-height: 600px;" [pageSize]="pageSize" [skip]="skip" [pageable]="true"
      (pageChange)="pageChange($event)">
      <kendo-grid-column field="planDate">
        <ng-template kendoGridHeaderTemplate>
          <span class="pull-left" matTooltip="{{'ROSTER.REQDATE' | translate}}">{{'ROSTER.REQDATE' | translate}}</span>
        </ng-template>
        <ng-template kendoGridCellTemplate let-dataItem>
          {{ dataItem?.planDate | date: dateFormat.pattern }}
        </ng-template>
      </kendo-grid-column>
      <kendo-grid-column field="shiftName">
        <ng-template kendoGridHeaderTemplate>
          <span class="pull-left"
            matTooltip="{{'ROSTER.EVENTSHIFT' | translate}}">{{'ROSTER.EVENTSHIFT' | translate}}</span>
        </ng-template>
        <ng-template kendoGridCellTemplate let-dataItem>
          <div *ngIf="dataItem?.shiftName">
            {{ dataItem?.shiftName }} ({{ getDatewithFormat(dataItem?.fromTime) }} -
            {{ getDatewithFormat(dataItem?.toTime) }})
          </div>
          <div *ngIf="!dataItem?.shiftName">({{ getDatewithFormat(dataItem?.fromTime) }} -
            {{ getDatewithFormat(dataItem?.toTime) }})</div>
        </ng-template>
      </kendo-grid-column>
      <kendo-grid-column field="departmentName">
        <ng-template kendoGridHeaderTemplate>
          <span class="pull-left"
            matTooltip="{{'ROSTER.EVENTDEPARTMENT' | translate}}">{{'ROSTER.EVENTDEPARTMENT' | translate}}</span>
        </ng-template>
        <ng-template kendoGridCellTemplate let-dataItem>
          {{ dataItem?.departmentName ? dataItem?.departmentName : 'ROSTER.NODEPARTMENTMAPPED' | translate }}
        </ng-template>
      </kendo-grid-column>
      <kendo-grid-column field="employeeName">
        <ng-template kendoGridHeaderTemplate>
          <span class="pull-left"
            matTooltip="{{'ROSTER.EMPLOYEE' | translate}}">{{'ROSTER.EMPLOYEE' | translate}}</span>
        </ng-template>
        <ng-template kendoGridCellTemplate let-dataItem>
          <div class="start center" (click)="goToUserProfile($event,dataItem.userId)">
            <img class="employee_img" src="../assets/images/faces/18.png" *ngIf="!dataItem.employeeProfileImage" />
            <img class="employee_img" *ngIf="dataItem.employeeProfileImage" src="{{ dataItem.employeeProfileImage }}" />
            <div> {{ dataItem?.employeeName }}</div>
          </div>
        </ng-template>
      </kendo-grid-column>
      <kendo-grid-column field="totalRate">
        <ng-template kendoGridHeaderTemplate>
          <span class="pull-left" matTooltip="{{'ROSTER.BUDGET' | translate}}">{{'ROSTER.BUDGET' | translate}}</span>
        </ng-template>
        <ng-template kendoGridCellTemplate let-dataItem>
          {{ dataItem?.totalRate | currency : selectedCurrency.currencyCode}}
        </ng-template>
      </kendo-grid-column>
      <kendo-grid-column field="departmentName">
        <ng-template kendoGridHeaderTemplate>
          <span class="pull-left"
            matTooltip="{{'ROSTER.AVAILABLESTATUS' | translate}}">{{'ROSTER.AVAILABLESTATUS' | translate}}</span>
        </ng-template>
        <ng-template kendoGridCellTemplate let-dataItem>
          {{ dataItem?.availableStatus}}
        </ng-template>
      </kendo-grid-column>
      <ng-template kendoGridNoRecordsTemplate>
        {{'ROSTER.NORECORDSTODISPLAY' | translate}}
      </ng-template>
    </kendo-grid>
  </div>
</mat-card>
