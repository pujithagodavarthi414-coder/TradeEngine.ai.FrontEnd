<div id="snovasysCrm">
  <div class="clearfix" *ngIf="isCRM">
    <mat-tab-group #tabGroup (selectedTabChange)="handleTabChange($event)">
      <mat-tab *ngIf="canCall" label="call">
        <ng-template mat-tab-label>
          {{ 'COMMENTS.CALLS' | translate }}
        </ng-template>
        <snovasys-call-log *ngIf="activeTabLabel=='call'" [receiverId]="receiverId" [componentModel]="componentModel"
          [isPermissionExists]="canCall" [isMobileNuberOnly]="isMobileNuberOnly" [mobileNumber]="mobileNumber">
        </snovasys-call-log>
      </mat-tab>
      <mat-tab *ngIf="canVideoCall" label="video">
        <ng-template mat-tab-label>
          {{ 'CRM.VIDEOCALL' | translate }}
        </ng-template>
        <snovasys-video-call *ngIf="activeTabLabel=='video'" [receiverId]="receiverId" [componentModel]="componentModel" [canCreateRoom]="canCreateRoom"
          [isVideoCallFromPopup]="isVideoCallFromPopup"
          [canJoinRoomOnly]="canJoinRoomOnly" [canViewVideoLog]="canViewVideoLog" [isPermissionExists]="canVideoCall" [isMobileNuberOnly]="isMobileNuberOnly" 
          [mobileNumber]="mobileNumber">
        </snovasys-video-call>
      </mat-tab>
      <mat-tab *ngIf="canComment" label="comment">
        <ng-template mat-tab-label>
          {{ 'COMMENTS.CRM' | translate }}
        </ng-template>
        <snovasys-comments [receiverId]="receiverId" [componentModel]="componentModel" *ngIf="activeTabLabel=='comment'"
          [isPermissionExists]="canComment">
        </snovasys-comments>
      </mat-tab>
      <!-- <mat-tab *ngIf="canSMS" label="sms">
        <ng-template mat-tab-label>
          {{ 'COMMENTS.SMS' | translate }}
        </ng-template>
        <snovasys-sms [receiverId]="receiverId" [componentModel]="componentModel" *ngIf="activeTabLabel=='sms'"
          [isPermissionExists]="canSMS">
        </snovasys-sms>
      </mat-tab>
      <mat-tab *ngIf="canPay" label="pay">
        <ng-template mat-tab-label>
          {{ 'COMMENTS.PAY' | translate }}
        </ng-template>
        <snovasys-pay *ngIf="activeTabLabel=='pay'" [receiverId]="receiverId" [componentModel]="componentModel"
          [isPermissionExists]="canPay" (paymentInfo)="paymentInfo($event)" [mobileNumber]="mobileNumber">
        </snovasys-pay>
      </mat-tab> -->
    </mat-tab-group>
  </div>
  <div class="clearfix" *ngIf="!isCRM">
    <snovasys-comments [receiverId]="receiverId" [componentModel]="componentModel"
      [isPermissionExists]="isPermissionExists">
    </snovasys-comments>
  </div>
</div>
