<div class="full-height">
    <mat-card class="p-0 canteen-manage m-0">
        <mat-card-title class="full-width data-table-header drag-handler"
            [style.background-color]="dashboardName == 'Team top five productive websites and applications' ? '#27c26c' : '#ffa500'"
            style="color: white;">
            <div fxLayout="row wrap" fxLayout.xs="column">
                <div class="card-title-text p-05 ml-05" fxFlex fxLayoutAlign="start center">
                    <span class="hide-content-overflow" matTooltip="{{ dashboardName | titlecase }}">{{
                        dashboardName | titlecase }}</span>
                </div>
                <div fxFlex="40px" fxFlex.xs="25px" fxLayoutAlign="end center">
                    <button type="submit" mat-icon-button class="pull-right cursor-pointer" (click)="refresh()"
                        matTooltip=" {{'BILLINGDASHBOARD.REFRESH' | translate}}">
                        <fa-icon icon="redo-alt" class="filter mat-color-accent" style="color: white;">
                        </fa-icon>
                    </button>
                </div>
            </div>
            <mat-divider></mat-divider>
        </mat-card-title>
    </mat-card>
    <div *ngIf="canAccess_feature_ViewActivityReports" class="no-drag team-appsWeb-height" id="widget-scroll-id"
        scrollStrategy="reposition">
        <mat-progress-bar mode="indeterminate" *ngIf="loading"></mat-progress-bar>
        <div fxFlex fxLayout="row wrap" fxLayoutAlign="start center" style="background-color: #ffffff;">
            <!-- <mat-card
                *ngIf=" ((activityData.length == 0) && (chartData.length == 0) && (canAccess_feature_ViewActivityReports) && !loading)"
                class="full-width">
                <div fxLayoutAlign="center center" fxLayout="column" class="no-data">
                    {{'NODATATODISPLAY'|translate}}
                </div>
            </mat-card> -->
            <div class="full-width">
                <app-common-message-box
                    *ngIf=" ((activityData.length == 0) && (chartData.length == 0) && (canAccess_feature_ViewActivityReports) && !loading)"
                    textToDisplay="{{'NODATATODISPLAY'|translate}}">
                </app-common-message-box>
            </div>

            <div fxFlex="45" class="pl-05">
                <span *ngFor="let item of activityData">
                    <div class="webApps-box mb-05 p-05" *ngIf="item.applicationTypeName == 'UnProductive'"
                        matTooltip="{{getMoreInformation(item.productiveRoles,item.unProductiveRoles,item.appUrlName)}}"
                        matTooltipClass="webAppsTooltip">
                        <div fxFlex fxLayout="row wrap">
                            <app-avatar class="webApps-Img" *ngIf="!item.appUrlImage"
                                [name]="item.appUrlName | removeSpecialCharacters" [isRound]="true" size="30">
                            </app-avatar>
                            <img class="webApps-Img" *ngIf="item.appUrlImage" [src]="item.appUrlImage">
                            <span fxFlex="80" class="mt-02 hide-content-overflow">{{item.appUrlName}}</span>
                        </div>
                    </div>
                    <div class="webApps-box mb-05 p-05" *ngIf="item.applicationTypeName == 'Productive'"
                        matTooltip="{{getMoreInformation(item.productiveRoles,item.unProductiveRoles,item.appUrlName)}}"
                        matTooltipClass="webAppsTooltip">
                        <div fxFlex fxLayout="row wrap">
                            <app-avatar class="webApps-Img" *ngIf="!item.appUrlImage"
                                [name]="item.appUrlName | removeSpecialCharacters" [isRound]="true" size="30">
                            </app-avatar>
                            <img class="webApps-Img" *ngIf="item.appUrlImage" [src]="item.appUrlImage">
                            <span fxFlex="80" class="mt-02 hide-content-overflow">{{item.appUrlName}}</span>
                        </div>
                    </div>
                    <div class="webApps-box mb-05 p-05" *ngIf="item.applicationTypeName == 'Neutral'"
                        matTooltip="{{getMoreInformation(item.productiveRoles,item.unProductiveRoles,item.appUrlName)}}"
                        matTooltipClass="webAppsTooltip">
                        <div fxFlex fxLayout="row wrap">
                            <app-avatar class="webApps-Img" *ngIf="!item.appUrlImage"
                                [name]="item.appUrlName | removeSpecialCharacters" [isRound]="true" size="30">
                            </app-avatar>
                            <img class="webApps-Img" *ngIf="item.appUrlImage" [src]="item.appUrlImage">
                            <span fxFlex="80" class="mt-02 hide-content-overflow">{{item.appUrlName}}</span>
                        </div>
                    </div>
                </span>
            </div>

            <div fxFlex="2">

            </div>
            <div *ngIf="chartData" fxFlex="50" class="webApps-chart pt-1">
                <kendo-chart #chart [style.cursor]="cursor" (seriesHover)="cursor = 'pointer'"
                    (seriesLeave)="cursor = 'default'">
                    <kendo-chart-legend position="right" [visible]="false"></kendo-chart-legend>
                    <kendo-chart-series>
                        <kendo-chart-series-item type=donut [data]="chartData" field="value"
                            appUrlNameField="appUrlName" [holeSize]="65">
                            <!-- <kendo-chart-series-item-labels position="outsideEnd" color="#808080">
                        </kendo-chart-series-item-labels> -->
                        </kendo-chart-series-item>
                    </kendo-chart-series>
                </kendo-chart>
            </div>
        </div>
    </div>



    <app-common-message-box *ngIf="!(canAccess_feature_ViewActivityReports) && !loading"
        textToDisplay="{{'DONTHAVEANYPERMISSIONS'|translate}}">
    </app-common-message-box>
</div>