<div class="custom-dialog">
  <div class="custom-close" mat-dialog-close (click)="close()">
    <fa-icon icon="times" class="project-dialog"></fa-icon>
  </div>
</div>

<div mat-dialog-content class="project-dialogContent" id="style-1">

  <mat-card-title>
    <div class="text-center pb-1">Subscription</div>
  </mat-card-title>

  <div class="login-page" fxLayout="column">
    <div fxFlex="50" fxFlex.xs="100"><label>Selected plan : {{selectedPlanName}} </label></div>
    <div fxLayout="row" fxLayout.xs="column" fxLayoutGap="10px" fxLayoutGap.xs="0px">
      <div fxFlex="100" fxFlex.xs="100">
        <mat-form-field class="full-width">
          <input matInput [(ngModel)]="noOfPurchases" placeholder="No.of purchases" (change)="costCalculation()"
            required>
        </mat-form-field>
      </div>
    </div>
    <div fxLayout="row" fxLayout.xs="column" fxLayoutGap="10px" fxLayoutGap.xs="0px">
      <div fxFlex="100" fxFlex.xs="100">
        <mat-form-field class="full-width" *ngIf="!isNewSub">
          <mat-select placeholder="Select a subscription type" [(ngModel)]="planInterval"
            [disabled]="subscriptionType =='year'" (selectionChange)="costCalculation()" required>
            <mat-option value="month">Monthly</mat-option>
            <mat-option value="year">Annually</mat-option>
          </mat-select>
        </mat-form-field>
        <mat-form-field class="full-width" *ngIf="isNewSub">
          <mat-select placeholder="Select a subscription type" [(ngModel)]="planInterval"
            (selectionChange)="costCalculation()" required>
            <mat-option value="month">Monthly</mat-option>
            <mat-option value="year">Annually</mat-option>
          </mat-select>
        </mat-form-field>
      </div>
    </div>
  </div>
  <div class="mt-1">
    <button class="full-width mb-1 btn btn-block" mat-raised-button color="primary" (click)="pay()"
      [disabled]="totalAmount == 0 || isDisable ||isSucessPay"> Pay ${{totalAmount}}
      <i class="fa fa-spin fa-spinner" *ngIf="isSucessPay"></i>
    </button>
  </div>
  <!-- <ngx-ui-loader fgsSize="180" [fgsType]="spinnerType" color="primary"></ngx-ui-loader> -->
</div>