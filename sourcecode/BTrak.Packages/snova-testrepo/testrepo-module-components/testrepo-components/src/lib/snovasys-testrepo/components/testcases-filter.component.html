<div class="p-0" class="testcase-filter-border">
  <div fxLayout="row wrap" fxLayout.xs="column" fxLayoutGap="0" fxLayoutGap.xs="10px">
    <div fxFlex fxFlex.lt-lg="100" fxFlex.md="98">
      <div fxLayout="row wrap" fxLayout.xs="column" fxLayoutGap="0" fxLayoutGap.xs="10px">
        <!-- <div fxFlex fxLayoutAlign="start center">
                    <button class="text-center" matTooltip="{{'TESTMANAGEMENT.CLICKHERETOADVANCESEARCH' | translate}}"
                        mat-icon-button (click)="filterClick()">
                        <fa-icon icon="filter" class="mat-color-accent">
                        </fa-icon>
                    </button>
                </div> -->
        <div fxFlex>
          <div class="testcase-filter filter-section">
            <ul>
              <li [satPopoverAnchorFor]="creatdOnPopover" hasBackdrop (click)="creatdOnPopover.toggle()">
                <a>
                  <mat-icon>arrow_drop_down</mat-icon> {{'TESTMANAGEMENT.CREATEDON' | translate}}
                </a>
                <sat-popover #creatdOnPopover verticalAlign="below" hasBackdrop horizontalAlign="start">
                  <mat-card class="filter-data">
                    <mat-form-field>
                      <mat-label>{{'TESTMANAGEMENT.CREATEDON' | translate}}</mat-label>
                      <mat-select [(ngModel)]="createdOnFilter" (selectionChange)="onChangeCreatedOn($event)">
                        <mat-option value="Today">{{'TESTMANAGEMENT.TODAY' | translate}}
                        </mat-option>
                        <mat-option value="Yesterday">{{'TESTMANAGEMENT.YESTERDAY' | translate}}
                        </mat-option>
                        <mat-option value="Thisweek">{{'TESTMANAGEMENT.THISWEEK' | translate}}
                        </mat-option>
                        <mat-option value="Lastweek">{{'TESTMANAGEMENT.LASTWEEK' | translate}}
                        </mat-option>
                        <mat-option value="Thismonth">{{'TESTMANAGEMENT.THISMONTH' | translate}}
                        </mat-option>
                        <mat-option value="Lastmonth">{{'TESTMANAGEMENT.LASTMONTH' | translate}}
                        </mat-option>
                        <mat-option value="Last24hours">
                          {{'TESTMANAGEMENT.LAST24HOURS' | translate}}</mat-option>
                        <mat-option value="Last48hours">
                          {{'TESTMANAGEMENT.LAST48HOURS' | translate}}</mat-option>
                        <mat-option value="Last7days">{{'TESTMANAGEMENT.LAST7DAYS' | translate}}
                        </mat-option>
                        <mat-option value="Last14days">
                          {{'TESTMANAGEMENT.LAST14DAYS' | translate}}</mat-option>
                        <mat-option value="Last30days">
                          {{'TESTMANAGEMENT.LAST30DAYS' | translate}}</mat-option>
                        <mat-option value="Last60days">
                          {{'TESTMANAGEMENT.LAST60DAYS' | translate}}</mat-option>
                        <mat-option value="Last90days">
                          {{'TESTMANAGEMENT.LAST90DAYS' | translate}}</mat-option>
                        <mat-option value="None">
                          {{'TESTMANAGEMENT.NONE' | translate}}</mat-option>
                      </mat-select>
                    </mat-form-field>
                  </mat-card>
                </sat-popover>
              </li>
              <li [satPopoverAnchorFor]="creatdByPopover" hasBackdrop (click)="creatdByPopover.toggle()">
                <a>
                  <mat-icon>arrow_drop_down</mat-icon> {{'TESTMANAGEMENT.CREATEDBY' | translate}}
                </a>
                <sat-popover #creatdByPopover verticalAlign="below" hasBackdrop horizontalAlign="start">
                  <mat-card class="filter-data">
                    <mat-form-field>
                      <mat-label>{{'TESTMANAGEMENT.CREATEDBY' | translate}}</mat-label>
                      <mat-select multiple [(ngModel)]="createdByFilter" (selectionChange)="onChangeCreatedBy($event)">
                        <mat-option *ngFor="let user of (usersList$ | async)" [value]="user.id">
                          {{user.value}}</mat-option>
                      </mat-select>
                    </mat-form-field>
                  </mat-card>
                </sat-popover>
              </li>
              <li [satPopoverAnchorFor]="priorityPopover" hasBackdrop (click)="priorityPopover.toggle()">
                <a>
                  <mat-icon>arrow_drop_down</mat-icon> {{'TESTMANAGEMENT.PRIORITY' | translate}}
                </a>
                <sat-popover #priorityPopover verticalAlign="below" hasBackdrop horizontalAlign="start">
                  <mat-card class="filter-data">
                    <mat-form-field>
                      <mat-label>{{'TESTMANAGEMENT.SELECTPRIORITY' | translate}}</mat-label>
                      <mat-select multiple [(ngModel)]="priorityFilter" (selectionChange)="onChangePriority($event)">
                        <mat-option *ngFor="let priority of (prioritiesList$ | async)" [value]="priority.id">
                          {{priority.value}}
                        </mat-option>
                      </mat-select>
                    </mat-form-field>
                  </mat-card>
                </sat-popover>
              </li>

              <!-- <li [satPopoverAnchorFor]="sectionPopover" hasBackdrop (click)="sectionPopover.toggle()">
                <a>
                  <mat-icon>arrow_drop_down</mat-icon> {{'TESTMANAGEMENT.SECTION' | translate}}
                </a>
                <sat-popover #sectionPopover verticalAlign="below" hasBackdrop horizontalAlign="start">
                  <mat-card class="filter-data">
                    <mat-form-field>
                      <mat-label>{{'TESTMANAGEMENT.SELECTSECTION' | translate}}</mat-label>
                      <mat-select [(ngModel)]="sectionFilter" (selectionChange)="onChangeSection($event)">
                        <mat-option *ngFor="let section of (sectionsList$ | async)"
                          (onSelectionChange)="getSectionFilterdata($event,section)" [value]="section.id">
                          <pre class="sections-order-cases">{{section.value}}</pre>
                        </mat-option>
                      </mat-select>
                    </mat-form-field>
                  </mat-card>
                </sat-popover>
              </li> -->

              <li [satPopoverAnchorFor]="templatePopover" hasBackdrop (click)="templatePopover.toggle()">
                <a>
                  <mat-icon>arrow_drop_down</mat-icon> {{'TESTMANAGEMENT.TEMPLATE' | translate}}
                </a>
                <sat-popover #templatePopover verticalAlign="below" hasBackdrop horizontalAlign="start">
                  <mat-card class="filter-data">
                    <mat-form-field>
                      <mat-label>{{'TESTMANAGEMENT.SELECTTEMPLATE' | translate}}</mat-label>
                      <mat-select multiple [(ngModel)]="templateFilter" (selectionChange)="onChangeTemplate($event)">
                        <mat-option *ngFor="let template of (templatesList$ | async)" [value]="template.id">
                          {{template.value}}
                        </mat-option>
                      </mat-select>
                    </mat-form-field>
                  </mat-card>
                </sat-popover>
              </li>

              <li [satPopoverAnchorFor]="titlePopover" hasBackdrop (click)="titlePopover.toggle()">
                <a>
                  <mat-icon>arrow_drop_down</mat-icon> {{'TESTMANAGEMENT.TESTCASE' | translate}}
                </a>
                <sat-popover #titlePopover verticalAlign="below" hasBackdrop horizontalAlign="start">
                  <mat-card class="filter-data">
                    <div fxLayout="row" fxLayout.xs="column" fxLayoutGap="0" fxLayoutGap.xs="10px">
                      <mat-form-field>
                        <input matInput placeholder="{{'TESTMANAGEMENT.SEARCHTESTCASE' | translate}}"
                          [(ngModel)]="searchText" />
                      </mat-form-field>
                    </div>
                  </mat-card>
                </sat-popover>
              </li>

              <li [satPopoverAnchorFor]="updatedOnPopover" hasBackdrop (click)="updatedOnPopover.toggle()">
                <a>
                  <mat-icon>arrow_drop_down</mat-icon> {{'TESTMANAGEMENT.UPDATEDON' | translate}}
                </a>
                <sat-popover #updatedOnPopover verticalAlign="below" hasBackdrop horizontalAlign="start">
                  <mat-card class="filter-data">
                    <mat-form-field>
                      <mat-label>{{'TESTMANAGEMENT.UPDATEDON' | translate}}</mat-label>
                      <mat-select [(ngModel)]="updatedOnFilter" (selectionChange)="onChangeUpdatedOn($event)">
                        <mat-option value="Today">{{'TESTMANAGEMENT.TODAY' | translate}}
                        </mat-option>
                        <mat-option value="Yesterday">{{'TESTMANAGEMENT.YESTERDAY' | translate}}
                        </mat-option>
                        <mat-option value="Thisweek">{{'TESTMANAGEMENT.THISWEEK' | translate}}
                        </mat-option>
                        <mat-option value="Lastweek">{{'TESTMANAGEMENT.LASTWEEK' | translate}}
                        </mat-option>
                        <mat-option value="Thismonth">{{'TESTMANAGEMENT.THISMONTH' | translate}}
                        </mat-option>
                        <mat-option value="Lastmonth">{{'TESTMANAGEMENT.LASTMONTH' | translate}}
                        </mat-option>
                        <mat-option value="Last24hours">
                          {{'TESTMANAGEMENT.LAST24HOURS' | translate}}</mat-option>
                        <mat-option value="Last48hours">
                          {{'TESTMANAGEMENT.LAST48HOURS' | translate}}</mat-option>
                        <mat-option value="Last7days">{{'TESTMANAGEMENT.LAST7DAYS' | translate}}
                        </mat-option>
                        <mat-option value="Last14days">
                          {{'TESTMANAGEMENT.LAST14DAYS' | translate}}</mat-option>
                        <mat-option value="Last30days">
                          {{'TESTMANAGEMENT.LAST30DAYS' | translate}}</mat-option>
                        <mat-option value="Last60days">
                          {{'TESTMANAGEMENT.LAST60DAYS' | translate}}</mat-option>
                        <mat-option value="Last90days">
                          {{'TESTMANAGEMENT.LAST90DAYS' | translate}}</mat-option>
                        <mat-option value="None">
                          {{'TESTMANAGEMENT.NONE' | translate}}</mat-option>
                      </mat-select>
                    </mat-form-field>
                  </mat-card>
                </sat-popover>
              </li>
              <li [satPopoverAnchorFor]="updatedByPopover" hasBackdrop (click)="updatedByPopover.toggle()">
                <a>
                  <mat-icon>arrow_drop_down</mat-icon> {{'TESTMANAGEMENT.UPDATEDBY' | translate}}
                </a>
                <sat-popover #updatedByPopover verticalAlign="below" hasBackdrop horizontalAlign="start">
                  <mat-card class="filter-data">
                    <mat-form-field>
                      <mat-label>{{'TESTMANAGEMENT.UPDATEDBY' | translate}}</mat-label>
                      <mat-select multiple [(ngModel)]="updatedByFilter" (selectionChange)="onChangeUpdatedBy($event)">
                        <mat-option *ngFor="let user of (usersList$ | async)" [value]="user.id">
                          {{user.value}}</mat-option>
                      </mat-select>
                    </mat-form-field>
                  </mat-card>
                </sat-popover>
              </li>

              <li *ngIf="isTestSuite == false" [satPopoverAnchorFor]="statusPopover" hasBackdrop
                (click)="statusPopover.toggle()">
                <a>
                  <mat-icon>arrow_drop_down</mat-icon> {{'TESTMANAGEMENT.STATUS' | translate}}
                </a>
                <sat-popover #statusPopover verticalAlign="below" hasBackdrop horizontalAlign="start">
                  <mat-card class="filter-data">
                    <mat-form-field>
                      <mat-label>{{'TESTMANAGEMENT.STATUS' | translate}}</mat-label>
                      <mat-select multiple [(ngModel)]="statusFilter" (selectionChange)="onChangeStatus($event)">
                        <mat-option *ngFor="let status of (statusList$ | async)" [value]="status.id">
                          {{status.value}}
                        </mat-option>
                      </mat-select>
                    </mat-form-field>
                  </mat-card>
                </sat-popover>
              </li>

              <li *ngIf="!isTestCasesFilter" class="custom-mini-buttons">
                <button mat-mini-fab class="mr-05 filter-validate" color="primary" type="button"
                  matTooltip="{{'TESTMANAGEMENT.APPLYFILTER' | translate}}" (click)="applyCasesFilter()"
                  [disabled]="disableFilter || checkFilterEnabled()">
                  <fa-icon icon="check"></fa-icon>
                </button>
                <button mat-mini-fab class="filter-validate" color="accent" type="button"
                  matTooltip="{{'TESTMANAGEMENT.CLEARFILTER' | translate}}" (click)="clearFilters();getTestCases()"
                  [disabled]="disableFilter || checkFilterEnabled()">
                  <fa-icon icon="times"></fa-icon>
                </button>
              </li>
              <li *ngIf="isTestCasesFilter">
                <button mat-raised-button mat-button class="mr-05 filter-validate" color="primary" type="button"
                  (click)="applyCasesFilter()" [disabled]="disableFilter || checkFilterEnabled()">
                  <mat-progress-bar color="primary" mode="indeterminate" *ngIf="(anyOperationInProgress$ | async)">
                  </mat-progress-bar>
                  <fa-icon icon="check" class="mr-05"></fa-icon>
                  {{'TESTMANAGEMENT.SETSELECTION' | translate}}
                </button>
                <button mat-raised-button mat-button class="filter-validate" color="accent" type="button"
                  (click)="clearFilters();getTestCases()" [disabled]="disableFilter || checkFilterEnabled()">
                  <fa-icon icon="times" class="mr-05"></fa-icon>
                  {{'TESTMANAGEMENT.CLEARSELECTION' | translate}}
                </button>
              </li>
            </ul>
          </div>
        </div>
        <div *ngIf="!isTestCasesFilter" fxFlex="35px" [hidden]="!isOpen" fxLayout.lt.sm="column">
          <fa-icon icon="sort" [satPopoverAnchorFor]="sorting" hasBackdrop class="mat-color-accent mt-02 sort-icon"
            matTooltip="{{'TESTMANAGEMENT.SORTBY' | translate}}" (click)="sorting.toggle()"></fa-icon>
          <sat-popover #sorting verticalAlign="below" hasBackdrop horizontalAlign="start">
            <mat-card class="filter-data">
              <mat-form-field class="sortby-testsuits custom-select-matform mb-1 custom-select-matform">
                <mat-label>{{'TESTMANAGEMENT.SORTBY' | translate}}</mat-label>
                <mat-select [(ngModel)]="sortByFilter">
                  <mat-option value="Createdby">{{'TESTMANAGEMENT.CREATEDBY' | translate}}</mat-option>
                  <mat-option value="Createdon">{{'TESTMANAGEMENT.CREATEDON' | translate}}</mat-option>
                  <mat-option value="Estimate">{{'TESTMANAGEMENT.ESTIMATE' | translate}}</mat-option>
                  <mat-option value="Id">{{'TESTMANAGEMENT.ID' | translate}}</mat-option>
                  <mat-option value="Priority">{{'TESTMANAGEMENT.PRIORITY' | translate}}</mat-option>
                  <mat-option value="Title">{{'TESTMANAGEMENT.TITLE' | translate}}</mat-option>
                  <mat-option value="Updatedby">{{'TESTMANAGEMENT.UPDATEDBY' | translate}}</mat-option>
                  <mat-option value="Updatedon">{{'TESTMANAGEMENT.UPDATEDON' | translate}}</mat-option>
                </mat-select>
              </mat-form-field>
            </mat-card>
          </sat-popover>
        </div>
      </div>
    </div>

  </div>
  <div *ngIf="displayFilters && !checkFilterEnabled()" class="p-05 filter-display-section" id="style-1">
    <!-- <mat-chip class="ml-05"><b>{{'TESTMANAGEMENT.FILTER' | translate}}:</b></mat-chip> -->
    <mat-chip disableRipple matRipple class="m03" style="padding: 8px 12px 24px 12px;" *ngIf="createdOnSearch"><b>
        {{'TESTMANAGEMENT.CREATEDON' | translate}}:
      </b>{{createdOnSearch}}
      <fa-icon icon="times" class="ml-05 mat-color-accent cursor-pointer" (click)="clearCreatedOnSearch()">
      </fa-icon>
    </mat-chip>
    <mat-chip disableRipple matRipple class="m03" style="padding: 8px 12px 24px 12px;" *ngIf="sortByFilter"><b>
        {{'ADVANCEDSEARCH.SORTBY' | translate}}:
      </b>{{sortByFilter}}
      <fa-icon icon="times" class="ml-05 mat-color-accent cursor-pointer" (click)="clearSortFilter()">
      </fa-icon>
    </mat-chip>
    <mat-chip disableRipple matRipple class="m03" style="padding: 8px 12px 24px 12px;" *ngIf="createdBySearch.length > 0"><b>
        {{'TESTMANAGEMENT.CREATEDBY' | translate}}:
      </b>{{createdBySearch}}
      <fa-icon icon="times" class="ml-05 mat-color-accent cursor-pointer" (click)="clearCreatedBySearch()">
      </fa-icon>
    </mat-chip>
    <mat-chip disableRipple matRipple class="m03" style="padding: 8px 12px 24px 12px;" *ngIf="prioritySearch.length > 0"><b>
        {{'TESTMANAGEMENT.PRIORITY' | translate}}:
      </b>{{prioritySearch}}
      <fa-icon icon="times" class="ml-05 mat-color-accent cursor-pointer" (click)="clearPrioritySearch()">
      </fa-icon>
    </mat-chip>
    <!-- <mat-chip disableRipple matRipple class="m03" *ngIf="sectionSearch"><b> {{'TESTMANAGEMENT.SECTION' | translate}}:
      </b>{{sectionSearch}}
      <fa-icon icon="times" class="ml-05 mat-color-accent cursor-pointer" (click)="clearSectionSearch()">
      </fa-icon>
    </mat-chip> -->
    <mat-chip disableRipple matRipple class="m03" style="padding: 8px 12px 24px 12px;" *ngIf="templateSearch.length > 0"><b>
        {{'TESTMANAGEMENT.TEMPLATE' | translate}}:
      </b>{{templateSearch}}
      <fa-icon icon="times" class="ml-05 mat-color-accent cursor-pointer" (click)="clearTemplateSearch()">
      </fa-icon>
    </mat-chip>
    <mat-chip disableRipple matRipple class="m03 title-search" style="padding: 8px 12px 28px 12px;" *ngIf="searchText"><b>
        {{'TESTMANAGEMENT.TESTCASE' | translate}}: 
      </b>{{searchText}}
      <fa-icon icon="times"  class="ml-05 mat-color-accent cursor-pointer" (click)="closeSearch()">
      </fa-icon>
    </mat-chip>
    <mat-chip disableRipple matRipple class="m03" style="padding: 8px 12px 24px 12px;" *ngIf="updatedOnSearch"><b>
        {{'TESTMANAGEMENT.UPDATEDON' | translate}}:
      </b>{{updatedOnSearch}}
      <fa-icon icon="times" class="ml-05 mat-color-accent cursor-pointer" (click)="clearUpdatedOnsearch()">
      </fa-icon>
    </mat-chip>
    <mat-chip disableRipple matRipple style="padding: 8px 12px 24px 12px;" class="m03" *ngIf="updatedBySearch.length > 0"><b>
        {{'TESTMANAGEMENT.UPDATEDBY' | translate}}:
      </b>{{updatedBySearch}}
      <fa-icon icon="times" class="ml-05 mat-color-accent cursor-pointer" (click)="clearUpdatedBySearch()">
      </fa-icon>
    </mat-chip>
    <mat-chip disableRipple matRipple style="padding: 8px 12px 24px 12px;" class="m03" *ngIf="isTestSuite == false && statusSearch.length > 0"><b>
        {{'TESTMANAGEMENT.STATUS' | translate}}: </b>{{statusSearch}}
      <fa-icon icon="times" class="ml-05 mat-color-accent cursor-pointer" (click)="clearStatusSearch()">
      </fa-icon>
    </mat-chip>
  </div>
</div>