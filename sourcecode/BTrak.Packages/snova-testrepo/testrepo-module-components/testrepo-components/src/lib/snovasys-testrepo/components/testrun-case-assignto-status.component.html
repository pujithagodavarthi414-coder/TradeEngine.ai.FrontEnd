<app-common-message-box *ngIf="!(canAccess_entityType_feature_AddOrUpdateStatus)"
    textToDisplay="{{'TESTMANAGEMENT.DONTHAVEPERMISSION' | translate}}">
</app-common-message-box>
<div *ngIf="(canAccess_entityType_feature_AddOrUpdateStatus)">
    <form [formGroup]="assignToForm" novalidate (submit)="assignToForm.valid && addAssign()">
        <mat-form-field class="full-width" (click)="$event.stopPropagation()">
            <mat-select placeholder="{{'TESTMANAGEMENT.ASSIGNTO' | translate}}" required formControlName="assignToId">
                <mat-option *ngFor="let user of (usersList$ | async)" [value]="user.id">
                    {{user.value}}
                </mat-option>
            </mat-select>
            <mat-hint>{{'TESTMANAGEMENT.ASSIGNTOHINT' | translate}}</mat-hint>
            <mat-error *ngIf="assignToForm.get('assignToId').hasError('required')">
                {{'TESTMANAGEMENT.PLEASESELECTASSIGNE' | translate}}
            </mat-error>
        </mat-form-field>
        <!-- <mat-form-field class="full-width">
            <input matInput placeholder="Add comment" formControlName="comment">
        </mat-form-field> -->
        <editor class="mt-1 dfree-header mce-content-body logtime-comment"
            apiKey="ewi2adl9u4cmc1lic9wcz3zq03696a3ihlodo4n1oaveo3kk" [init]="initSettings" placeholder="Add comment"
            menubar="false" inline="true" background="white" height="120" formControlName="assignToComment">
        </editor>
        <mat-hint>{{'TESTMANAGEMENT.ASSIGNTOCOMMENTHINT' | translate}}</mat-hint>
        <div class="mt-1 mb-1">
            <button mat-button mat-raised-button color="primary" [disabled]="disableAssignTo" class="mr-1 test-button"
                type="submit">
                <fa-icon class="mr-05" icon="plus"></fa-icon>{{'TESTMANAGEMENT.SAVEASSIGNTO' | translate}}
            </button>
            <button mat-button mat-raised-button type="button" (click)="cancelAssign()">
                <fa-icon class="mr-05" icon="times"></fa-icon> {{'TESTMANAGEMENT.CANCEL' | translate}}
            </button>
        </div>
    </form>
</div>