<!-- <mat-card class="default" class="p-0">
    <mat-card-title class="full-width">
        <div fxLayout="row" fxLayout.xs="column" fxLayoutGap="0" fxLayoutGap.xs="10px">
            <div fxFlex fxLayoutAlign="start center">
                <button type="submit" mat-icon-button class="pull-right" (click)="filterClick()">
                    <fa-icon icon="filter" class="filter mat-color-accent" matTooltip=" {{'HRMANAGAMENT.ADVANCESEARCH' | translate}}">
                    </fa-icon>
                </button>
            </div>
            <div fxFill>
                <div class="filter-section" [hidden]="!isOpen">
                    <ul>
                        <li class="p-0">
                            <button mat-icon-button (click)="resetAllFilters()">
                                <fa-icon matTooltip="{{'RESET' | translate}}"  class="filter mat-color-accent" icon="undo"></fa-icon>
                            </button>
                        </li>
                        <li [satPopoverAnchorFor]="namePopover" hasBackdrop (click)="namePopover.toggle()">
                            <a>
                                <mat-icon>arrow_drop_down</mat-icon>{{'WORKLOGGING.EMPLOYEE' | translate | softLabelsPipe : softLabels}}
                            </a>
                            <sat-popover #namePopover verticalAlign="below" hasBackdrop horizontalAlign="start">
                                <mat-card class="filter-data">
                                    <mat-form-field>
                                        <mat-select placeholder="{{ 'GOALS.SELECTUSER' | translate }}"
                                            [(ngModel)]="selectedEmployeeId"
                                            (selectionChange)="selectedEmployeesId($event.value)">
                                            <mat-select-trigger>
                                                {{selectedMember}}
                                            </mat-select-trigger>
                                            <mat-option [value]="user.id" *ngFor="let user of usersList">
                                                <div fxLayout="row wrap" fxLayoutGap="5px">
                                                    <div fxFlex="35px">
                                                        <app-avatar [name]="user.value | removeSpecialCharacters"
                                                            [src]="user.profileImage" [isRound]="true" size="30">
                                                        </app-avatar>
                                                    </div>
                                                    <div fxFlex="75">
                                                        <p class="mat-body-2">
                                                            {{ user.value }}
                                                        </p>
                                                    </div>
                                                </div>
                                            </mat-option>
                                        </mat-select>
                                    </mat-form-field>
                                </mat-card>
                            </sat-popover>
                        </li>
                        <li [satPopoverAnchorFor]="datePopover" (click)="datePopover.toggle()">
                            <a>
                                <mat-icon>arrow_drop_down</mat-icon>{{'LOGTIMEREPORT.DATE' | translate}}
                            </a>
                            <sat-popover #datePopover verticalAlign="below" hasBackdrop horizontalAlign="start">
                                <mat-card class="filter-data">
                                    <mat-form-field>
                                        <mat-select [(ngModel)]="dateFilter"
                                            (selectionChange)="onChangeDateFilter($event.value)">
                                            <mat-option value="Today">{{'TESTMANAGEMENT.TODAY' | translate}}
                                            </mat-option>
                                            <mat-option value="Yesterday">{{'TESTMANAGEMENT.YESTERDAY' | translate}}
                                            </mat-option>
                                            <mat-option value="Thismonth">{{'TESTMANAGEMENT.THISMONTH' | translate}}
                                            </mat-option>
                                            <mat-option value="Lastmonth">{{'TESTMANAGEMENT.LASTMONTH' | translate}}
                                            </mat-option>
                                            <mat-option value="Thisweek">{{'TESTMANAGEMENT.THISWEEK' | translate}}
                                            </mat-option>
                                            <mat-option value="Lastweek">{{'TESTMANAGEMENT.LASTWEEK' | translate}}
                                            </mat-option>
                                            <mat-option value="Last7days">{{'TESTMANAGEMENT.LAST7DAYS' | translate}}
                                            </mat-option>
                                            <mat-option value="Last14days">{{'TESTMANAGEMENT.LAST14DAYS' | translate}}
                                            </mat-option>
                                            <mat-option value="Last30days">{{'TESTMANAGEMENT.LAST30DAYS' | translate}}
                                            </mat-option>
                                        </mat-select>
                                    </mat-form-field>
                                </mat-card>
                            </sat-popover>
                        </li>
                        <li [satPopoverAnchorFor]="customdatePopover" (click)="customdatePopover.toggle()">
                            <a>
                                <mat-icon>arrow_drop_down</mat-icon>{{'LOGTIMEREPORT.CUSTOMDATE' | translate}}
                            </a>
                            <sat-popover #customdatePopover verticalAlign="below" hasBackdrop horizontalAlign="start">
                                <mat-card class="filter-data">
                                    <div class="mr-1 mt-02">
                                        <mat-form-field class="mr-05">
                                            <mat-label> {{'TESTMANAGEMENT.DATEFROM' | translate}}</mat-label>
                                            <input matInput [matDatepicker]="picker1" autocomplete="off" [max]="maxDate"
                                                (click)="picker1.open()" readonly class="date-picker"
                                                [(ngModel)]="dateFrom" (dateChange)="changeDeadline(dateFrom,dateTo)">
                                            <mat-datepicker-toggle matSuffix [for]="picker1"></mat-datepicker-toggle>
                                            <mat-datepicker #picker1></mat-datepicker>
                                        </mat-form-field>
                                        <mat-form-field class="mr-05">
                                            <mat-label> {{'TESTMANAGEMENT.TODATE' | translate}}</mat-label>
                                            <input matInput [matDatepicker]="picker2" autocomplete="off"
                                                [min]="dateFrom" [max]="maxDate" (click)="picker2.open()" readonly
                                                class="date-picker" [(ngModel)]="dateTo"
                                                (dateChange)="changeStartline(dateFrom,dateTo)">
                                            <mat-datepicker-toggle matSuffix [for]="picker2"></mat-datepicker-toggle>
                                            <mat-datepicker #picker2></mat-datepicker>
                                        </mat-form-field>
                                    </div>
                                    <div class="close_icon date_search mt-05">
                                        <mat-icon *ngIf="dateFrom || dateTo" class="icon-button" aria-hidden="false"
                                            (click)="closeDateFilter()" style="cursor:pointer">close</mat-icon>
                                    </div>
                                </mat-card>
                            </sat-popover>
                        </li>
                    </ul>
                </div>
            </div>
        </div>
        <mat-divider></mat-divider>
    </mat-card-title>
</mat-card> -->
<div class="full-height" *ngIf="(canAccess_feature_ViewTestrepoReports)">
    <div class="full-height">
        <div class="p-0 m-0">
            <mat-card-title class="full-width data-table-header drag-handler">
                <div fxLayout="row wrap" fxLayoutGap="0">
                    <div fxFlex fxLayoutAlign="start center" class="card-title-text p-05 full-width">
                        <span fxFlex="100"
                            class="hide-content-overflow">{{'TESTMANAGEMENT.QAPRODUCTIVITYREPORT' | translate | titlecase}}</span>
                    </div>
                    <div fxFlex="40px" fxFlex.xs="25px" fxLayoutAlign="end center" class="ml-02">
                        <button mat-icon-button (click)="resetAllFilters()">
                            <fa-icon matTooltip="{{'RESET' | translate}}" class="filter mat-color-accent" icon="undo">
                            </fa-icon>
                        </button>
                    </div>
                    <div fxFlex="40px" fxFlex.xs="25px" fxLayoutAlign="end center" class="ml-02">
                        <button type="submit" mat-icon-button class="pull-right" (click)="filterClick()"
                            [matMenuTriggerFor]="filterMenu">
                            <fa-icon icon="user-cog" class="filter mat-color-accent"
                                matTooltip="{{'WIDGETS.CONFIGUREAPPSETTINGS' | translate}}">
                            </fa-icon>
                        </button>
                    </div>
                    <mat-menu #filterMenu="matMenu" xPosition="before" class="custom-matpanel" >
                        <mat-card class="filter-data" (click)="$event.stopPropagation()">
                            <mat-form-field class="full-width">
                                <mat-label>
                                    {{ 'PRODUCTIVITYDASHBOARD.PROJECT' | translate | softLabelsPipe : softLabels}}
                                </mat-label>
                                <mat-select (selectionChange)="searchByProject($event.value)"
                                    [(ngModel)]="selectedProjectId">
                                    <mat-option [value]="'0'">{{ 'ADVANCEDSEARCH.ALL' | translate }}
                                    </mat-option>
                                    <mat-option *ngFor="let project of projectSearchResults"
                                        [value]="project.projectId">{{project.projectName}}
                                    </mat-option>
                                </mat-select>
                            </mat-form-field>
                            <mat-form-field class="full-width" *ngIf="isEmployeeDropDownVisible">
                                <mat-select placeholder="{{ 'GOALS.SELECTUSER' | translate }}"
                                    [(ngModel)]="selectedEmployeeId"
                                    (selectionChange)="selectedEmployeesId($event.value)">
                                    <mat-select-trigger>
                                        {{selectedMember}}
                                    </mat-select-trigger>
                                    <mat-option [value]="user.id" *ngFor="let user of usersList">
                                        <div fxLayout="row wrap" fxLayoutGap="5px">
                                            <div fxFlex="35px">
                                                <app-avatar [name]="user.value | removeSpecialCharacters"
                                                    [src]="user.profileImage" [isRound]="true" size="30">
                                                </app-avatar>
                                            </div>
                                            <div fxFlex="75">
                                                <p class="mat-body-2">
                                                    {{ user.value }}
                                                </p>
                                            </div>
                                        </div>
                                    </mat-option>
                                </mat-select>
                            </mat-form-field>
                            <mat-form-field class="full-width">
                                <mat-select [(ngModel)]="dateFilter"
                                    (selectionChange)="onChangeDateFilter($event.value)" pla>
                                    <mat-option value="Today">{{'TESTMANAGEMENT.TODAY' | translate}}
                                    </mat-option>
                                    <mat-option value="Yesterday">{{'TESTMANAGEMENT.YESTERDAY' | translate}}
                                    </mat-option>
                                    <mat-option value="Thismonth">{{'TESTMANAGEMENT.THISMONTH' | translate}}
                                    </mat-option>
                                    <mat-option value="Lastmonth">{{'TESTMANAGEMENT.LASTMONTH' | translate}}
                                    </mat-option>
                                    <mat-option value="Thisweek">{{'TESTMANAGEMENT.THISWEEK' | translate}}
                                    </mat-option>
                                    <mat-option value="Lastweek">{{'TESTMANAGEMENT.LASTWEEK' | translate}}
                                    </mat-option>
                                    <mat-option value="Last7days">{{'TESTMANAGEMENT.LAST7DAYS' | translate}}
                                    </mat-option>
                                    <mat-option value="Last14days">{{'TESTMANAGEMENT.LAST14DAYS' | translate}}
                                    </mat-option>
                                    <mat-option value="Last30days">{{'TESTMANAGEMENT.LAST30DAYS' | translate}}
                                    </mat-option>
                                </mat-select>
                            </mat-form-field>
                            <mat-form-field class="full-width">
                                <mat-label> {{'TESTMANAGEMENT.DATEFROM' | translate}}</mat-label>
                                <input matInput [matDatepicker]="picker1" autocomplete="off" [max]="maxDate"
                                    (click)="picker1.open()" readonly class="date-picker" [(ngModel)]="dateFrom"
                                    (dateChange)="changeDeadline(dateFrom,dateTo)">
                                <mat-datepicker-toggle matSuffix [for]="picker1"></mat-datepicker-toggle>
                                <mat-datepicker #picker1></mat-datepicker>
                                <!-- <input matInput [(ngModel)]="dateFrom" [max]="maxDate" [owlDateTimeTrigger]="picker1"
                                    [owlDateTime]="picker1" placeholder="{{ 'TESTMANAGEMENT.DATEFROM' | translate }}"
                                    (dateTimeChange)="changeDeadline(dateFrom,dateTo)">
                                <fa-icon icon="calendar" [owlDateTimeTrigger]="picker1"
                                    style="float:right;position:absolute;right:0">
                                </fa-icon>
                                <owl-date-time #picker1></owl-date-time> -->
                            </mat-form-field>
                            <mat-form-field class="full-width">
                                <mat-label> {{'TESTMANAGEMENT.TODATE' | translate}}</mat-label>
                                <input matInput [matDatepicker]="picker2" autocomplete="off" [min]="dateFrom"
                                    [max]="maxDate" (click)="picker2.open()" readonly class="date-picker"
                                    [(ngModel)]="dateTo" (dateChange)="changeStartline(dateFrom,dateTo)">
                                <mat-datepicker-toggle matSuffix [for]="picker2"></mat-datepicker-toggle>
                                <mat-datepicker #picker2></mat-datepicker>
                                <!-- <input matInput [(ngModel)]="dateTo" [min]="dateFrom" [max]="maxDate"
                                    (dateTimeChange)="changeStartline(dateFrom,dateTo)" [owlDateTimeTrigger]="picker2"
                                    [owlDateTime]="picker2" placeholder="{{ 'TESTMANAGEMENT.TODATE' | translate }}">
                                <fa-icon icon="calendar" [owlDateTimeTrigger]="picker2"
                                    style="float:right;position:absolute;right:0">
                                </fa-icon>
                                <owl-date-time #picker2></owl-date-time> -->
                            </mat-form-field>
                            <!-- <mat-form-field class="full-width" *ngIf = "entities?.length > 1">
                        <mat-select placeholder="{{ 'WIDGETS.SELECTBRANCH' | translate }}" [(ngModel)]="selectedEntity"
                          (selectionChange)="entityValues($event.value)">
                          <mat-option *ngFor="let entity of entities" [value]="entity.id">
                            {{entity.name}}
                          </mat-option>
                        </mat-select>
                      </mat-form-field> -->
                        </mat-card>
                    </mat-menu>
                </div>
                <mat-divider></mat-divider>
            </mat-card-title>
        </div>
        <mat-progress-bar color="primary" mode="indeterminate" *ngIf="isAnyOperationIsInprogress">
        </mat-progress-bar>
        <div class="m-0 no-drag">
            <div id="chart"></div>
            <div id="toolTip"></div>
            <div id="toolTip1"></div>
            <app-common-message-box *ngIf="isProjectsExists"
                textToDisplay="{{'TESTMANAGEMENT.THEREARENOPROJECTS' | translate}}">
            </app-common-message-box>
        </div>
    </div>
</div>
<app-common-message-box *ngIf="!(canAccess_feature_ViewTestrepoReports)"
    textToDisplay="{{ 'PERMISSIONMESSAGE' | translate }}">
</app-common-message-box>
<style>
    .svg-container {
        display: inline-block;
        position: relative;
        width: 100%;
        padding-bottom: 0px;
        vertical-align: top;
        overflow: hidden;
    }

    .svg-content-responsive {
        display: inline-block;
        position: absolute;
        top: 10px;
        left: 0;
    }

    ​ .toolTip {
        position: absolute;
        display: none;
        min-width: 80px;
        height: auto;
        background: none repeat scroll 0 0 #ffffff;
        border: 1px solid black;
        padding: 14px;
        text-align: center;
    }
</style>

<ng-template #QaProductivityPopUp let-data>
    <app-testrail-page-qaproductivitypopup [data]=[data] (closeParentDialog)="closeCurrentDialog()">
    </app-testrail-page-qaproductivitypopup>
</ng-template>