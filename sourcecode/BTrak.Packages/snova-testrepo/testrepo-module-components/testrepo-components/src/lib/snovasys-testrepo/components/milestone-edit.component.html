<mat-card class="p-0">
  <mat-card-title class="text-center">
    <div class="card-title-text  mat-bg-primary p-05" *ngIf="mileStoneToEdit">
      {{'TESTMANAGEMENT.EDITMILESTONE' | translate | softLabelsPipe : softLabels}}</div>
    <div class="card-title-text  mat-bg-primary p-05" *ngIf="!mileStoneToEdit">
      {{'TESTMANAGEMENT.ADDMILESTONE' | translate | softLabelsPipe : softLabels}}</div>
  </mat-card-title>
  <mat-card-content class="p-05">
    <form [formGroup]="editMilestoneForm" novalidate (submit)="editMilestoneForm.valid && editMilestone()">
      <div class="card-content p-05">
        <div fxLayout="row wrap">
          <div fxFlex fxLayout="column wrap" class="mb-05">
            <mat-form-field class="full-width">
              <input matInput placeholder="{{'TESTMANAGEMENT.NAME' | translate}}" required
                formControlName="milestoneTitle">
              <mat-hint>{{'TESTMANAGEMENT.EG' | translate}}: Internal Beta 2
                {{'TESTMANAGEMENT.OR' | translate}} Sprint #4</mat-hint>
              <mat-error class="mb-05" *ngIf="editMilestoneForm.get('milestoneTitle').hasError('required')">
                {{'TESTMANAGEMENT.PLEASEFILEMILESTONENAME' | translate | softLabelsPipe : softLabels}}
              </mat-error>
              <mat-error class="mb-05" *ngIf="editMilestoneForm.get('milestoneTitle').hasError('maxlength')">
                {{'TESTMANAGEMENT.MILESTONENAMENOTEXCEED150CHARACTERS' | translate | softLabelsPipe : softLabels}}
              </mat-error>
            </mat-form-field>
          </div>
        </div>
        <div fxLayout="row wrap">
          <div fxFlex="100" fxFlex.gt-sm="48" class="mr-1">
            <mat-form-field class="full-width mb-1">
              <input matInput [matDatepicker]="startdate" (click)="startdate.open()"
                placeholder="{{'TESTMANAGEMENT.STARTDATE' | translate}}" formControlName="startDate" [max]="maxDate"
                (dateChange)="changeDateFrom($event.value)">
              <mat-datepicker-toggle matSuffix [for]="startdate"></mat-datepicker-toggle>
              <mat-datepicker #startdate></mat-datepicker>
              <mat-hint class="word-spacing-line-height">
                {{'TESTMANAGEMENT.STARTDATEHINT' | translate | softLabelsPipe : softLabels}}</mat-hint>
              <mat-error *ngIf="!editMilestoneForm.get('startDate').valid">
                {{'TESTMANAGEMENT.DATEISNOTVALID' | translate}}
              </mat-error>
            </mat-form-field>
          </div>
          <div fxFlex="100" fxFlex.gt-sm="48">
            <mat-form-field class="full-width mb-05">
              <input matInput [matDatepicker]="enddate" (click)="enddate.open()"
                placeholder="{{'TESTMANAGEMENT.ENDDATE' | translate}}" formControlName="endDate" [min]="minDate"
                (dateChange)="changeDateTo($event.value)">
              <mat-datepicker-toggle matSuffix [for]="enddate"></mat-datepicker-toggle>
              <mat-datepicker #enddate></mat-datepicker>
              <mat-hint>{{'TESTMANAGEMENT.ENDDATEHINT' | translate| softLabelsPipe : softLabels}}</mat-hint>
              <mat-error *ngIf="!editMilestoneForm.get('endDate').valid">
                {{'TESTMANAGEMENT.DATEISNOTVALID' | translate}}
              </mat-error>
            </mat-form-field>
          </div>
        </div>
        <div fxLayout="row wrap" class="mb-05">
          <div fxFlex="100" class="mt-1">
            <mat-form-field class="full-width mt-05">
              <textarea matInput placeholder="{{'TESTMANAGEMENT.DESCRIPTION' | translate}}"
                formControlName="description">
              </textarea>
              <mat-hint>{{'TESTMANAGEMENT.MILESTONEDESCRIPTIONHINT' | translate | softLabelsPipe : softLabels}}
              </mat-hint>
              <mat-error class="mb-05" *ngIf="editMilestoneForm.get('description').hasError('maxlength')">
                {{'TESTMANAGEMENT.MILESTONEDESCRIPTIONNOTEXCEED300CHARACTERS' | translate | softLabelsPipe : softLabels}}
              </mat-error>
            </mat-form-field>
          </div>
          <div fxFlex="100" class="mb-05" *ngIf="mileStoneToEdit">
            <div fxLayout="row wrap" class="mt-05">
              <mat-checkbox formControlName="isCompleted">
                {{'TESTMANAGEMENT.MILESTONEISCOMPLETED' | translate | softLabelsPipe : softLabels}}
              </mat-checkbox>
            </div>
            <mat-hint>{{'TESTMANAGEMENT.MILESTONECOMPLETEDHINT' | translate | softLabelsPipe : softLabels}}</mat-hint>
          </div>
        </div>
        <div class="text-center">
          <button class="mr-1" type="submit" *ngIf="mileStoneToEdit" mat-button mat-raised-button color="primary"
            [disabled]="disableMilestone">
            <fa-icon icon="edit"></fa-icon>
            {{'TESTMANAGEMENT.UPDATEMILESTONE' | translate | softLabelsPipe : softLabels}}
          </button>
          <button class="mr-1 mb-05" type="submit" *ngIf="!mileStoneToEdit" mat-button mat-raised-button color="primary"
            [disabled]="disableMilestone">
            <fa-icon icon="plus"></fa-icon> {{'TESTMANAGEMENT.ADDMILESTONE' | translate | softLabelsPipe : softLabels}}
          </button>
          <button type="button" mat-button mat-raised-button (click)="closeMileStoneDialog()">
            <fa-icon icon="times" class="mr-05"></fa-icon>
            {{'TESTMANAGEMENT.CANCEL' | translate}}
          </button>
        </div>
      </div>
    </form>
  </mat-card-content>
</mat-card>