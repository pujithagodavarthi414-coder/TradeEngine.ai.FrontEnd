<div>
    <div fxLayout="row wrap" class="">
        <div fxLayout="row wrap">
        </div>
        <div fxFlex="100" fxLayout="row wrap">
            <div fxFlex="100" class="ml-1" fxFlex.gt-xs="20" fxLayout="column wrap">
                <p class="m-0"><b>{{'TESTMANAGEMENT.TYPE' | translate}}</b></p>
                <p>{{testCaseDetails.typeName}}</p>
            </div>
            <div fxFlex="100" class="ml-1" fxFlex.gt-xs="20" fxLayout="column wrap">
                <p class="m-0"><b>{{'TESTMANAGEMENT.PRIORITY' | translate}}</b></p>
                <p>{{testCaseDetails.priorityType}}</p>
            </div>
            <div fxFlex="100" class="ml-1" fxFlex.gt-xs="20" fxLayout="column wrap">
                <p class="m-0"><b>{{'TESTMANAGEMENT.ESTIMATE' | translate}}</b></p>
                <p
                    *ngIf="!(testCaseDetails.estimate == null) && !(testCaseDetails.estimate == '') && !(testCaseDetails.estimate == 0)">
                    {{testCaseDetails.estimate | estimationTime}}
                </p>
                <p *ngIf="testCaseDetails.estimate == null || testCaseDetails.estimate == ''">None</p>
            </div>
            <div fxFlex="100" class="ml-1" fxFlex.gt-xs="25" fxLayout="column wrap">
                <p class="m-0"><b>{{'TESTMANAGEMENT.AUTOMATIONTYPE' | translate}}</b></p>
                <p class="mb-0">{{testCaseDetails.automationType}}</p>
            </div>
        </div>
        <mat-divider aria-orientation="horizontal" class="mat-divider-position ml-05 mr-05 mat-divider"
            role="separator"></mat-divider>
    </div>

    <div fxLayout="row wrap" class="mt-1" *ngIf="!(testCaseDetails.references == null) 
                    && !(testCaseDetails.references == '')">
        <div fx-Flex="100" class="ml-1" fxFlex.gt-xs="100" fxLayout="column wrap">
            <p class="m-0 mb-05"><b>{{'TESTMANAGEMENT.REFERENCES' | translate}}</b></p>
            <div *ngFor="let references of testCaseDetails.referencesList" class="pl-1">
                <a (click)="navigateToReferencePage(references)"
                    class="test-trail-references-hover word-break">{{references}}</a>
            </div>
        </div>
        <mat-divider class="mat-divider-position ml-05 mr-05 mat-divider mt-05" role="separator"
            aria-orientation="horizontal">
        </mat-divider>
    </div>
    <div fxLayout="row wrap" class="mt-1" *ngIf="!(testCaseDetails.precondition == null) 
                    && !(testCaseDetails.precondition == '') && (showSteps || showText)">
        <div fx-Flex="100" class="ml-1" fxFlex.gt-xs="100" fxLayout="column wrap">
            <p class="m-0"><b>{{'TESTMANAGEMENT.PRECONDITIONS' | translate}}</b></p>
            <p class="m-0 word-break display-pre-line ml-05 p-05">{{testCaseDetails.precondition}}</p>
        </div>
        <mat-divider aria-orientation="horizontal" class="mat-divider-position ml-05 mr-05 mat-divider"
            role="separator"></mat-divider>
    </div>
    <div *ngIf="preFilePath.length > 0" class="mt-05 mb-05 ml-1" fxFlex="100" fxFlex.gt-sm="100">
        {{'TESTMANAGEMENT.PRECONDITIONIMAGES' | translate}}:
        <span class="ml-05" *ngFor="let img of preFilePath;let i = index">
            <a target="_blank" [href]="sanitizeUrl(img)" class="add-test-case">File-{{i + 1}}</a>
        </span>
    </div>
    <div fxLayout="row wrap" class="mt-1" *ngIf="showSteps">
        <div fxFlex="100" class="ml-1 mb-1">
            <p class="m-0"><b>{{'TESTMANAGEMENT.STEPS' | translate}}</b></p>
        </div>
        <mat-card *ngIf="testCaseDetails.testCaseSteps == null || testCaseDetails.testCaseSteps.length == 0"
            class="p-0 test-display ml-1" fxFlex="100" fxFlex.gt-xs="100">
            <div fxLayout="row" fxFlex="100">
                <div fxFlex="100" fxFlex.gt-xs="5" class="p-05">
                    <fa-icon icon="info-circle"></fa-icon>
                </div>
                <div fxFlex="100" fxFlex.gt-xs="95" class="p-05 ml-1">
                    <p class="m-0">{{'TESTMANAGEMENT.NOSTEPSFOUND' | translate}}</p>
                </div>
            </div>
        </mat-card>
        <div fxFlex="100" class="mb-05 ml-05 test-suite-steps p-05" fxLayout="row wrap"
            *ngIf="!(testCaseDetails.testCaseSteps == null) && testCaseDetails.testCaseSteps.length > 0">
            <div fxFlex="100" fxFlex.gt-xs="7" fxLayout="column wrap"></div>
            <div fxFlex="100" fxFlex.gt-xs="34" fxLayout="column wrap">
                <b>{{'TESTMANAGEMENT.STEP' | translate}}</b></div>
            <div fxFlex="100" fxFlex.gt-xs="34" fxLayout="column wrap">
                <b>{{'TESTMANAGEMENT.EXPECTEDRESULT' | translate}}</b></div>
            <div class="ml-05" fxFlex="100" fxFlex.gt-xs="19" fxLayout="column wrap">
                <b>{{'TESTMANAGEMENT.STATUS' | translate}}</b></div>
        </div>
        <div fxFlex="100" fxLayout="row wrap" fxLayout.xs="column"
            *ngFor="let step of testCaseDetails.testCaseSteps;let i = index" class="p-05">
            <div fxFlex="100" fxFlex.gt-xs="7" fxFlex.md="13" cfxFlex.lg="7.5" fxHide fxHide.gt-xs="false">
                <span class="badge-item test-case-step-count count-padding">{{i + 1}}</span>
            </div>
            <div fxFlex="100" fxFlex.gt-xs="36" fxFlex.lg="34" fxFlex.md="31" fxLayout="column"
                class="word-break display-pre-line mr-1" fxHide fxHide.gt-xs="false">
                <div fxFlex>
                    <span>
                        <span> {{step.stepText}}</span>
                    </span>
                </div>
                <div fxFlex class="mt-05"
                    *ngIf="step.stepTextFilePath != null && step.stepTextFilePath.trim().length > 0">
                    {{'TESTMANAGEMENT.STEPTEXTIMAGES' | translate}}:
                    <span class="ml-05" *ngFor="let img of getStepTextImagesArray(i);let ind = index">
                        <a target="_blank" [href]="sanitizeUrl(img)" class="add-test-case">File-{{ind + 1}}</a>
                    </span>
                </div>
            </div>
            <div fxFlex="100" class="word-break display-pre-line mr-05" fxLayout="column wrap" fxShow
                fxShow.gt-xs="false">
                <span>
                    <span class="badge-item test-case-step-count count-padding mr-1">{{i + 1}} </span>
                    <span> {{step.stepText}}</span>
                </span>
            </div>
            <div fxFlex class="mt-05 word-break display-pre-line" fxShow fxShow.gt-xs="false"
                *ngIf="step.stepTextFilePath != null && step.stepTextFilePath.trim().length > 0">
                {{'TESTMANAGEMENT.STEPTEXTIMAGES' | translate}}:
                <span class="ml-05" *ngFor="let img of getStepTextImagesArray(i);let ind = index">
                    <a target="_blank" [href]="sanitizeUrl(img)" class="add-test-case">File-{{ind + 1}}</a>
                </span>
            </div>
            <div class="mt-05" fxFlex="100" fxLayout="column wrap" fxShow fxShow.gt-xs="false">
                <b>{{'TESTMANAGEMENT.EXPECTEDRESULT' | translate}}</b>
            </div>
            <div fxFlex="100" fxFlex.gt-xs="35" fxFlex.lg="34" fxFlex.md="30" fxLayout="column"
                class="word-break display-pre-line mr-05" fxHide fxHide.gt-xs="false">
                <div fxFlex>
                    {{step.stepExpectedResult}}
                </div>
                <div fxFlex class="mt-05"
                    *ngIf="step.stepExpectedResultFilePath != null && step.stepExpectedResultFilePath.trim().length > 0">
                    {{'TESTMANAGEMENT.STEPEXPECTEDRESULTIMAGES' | translate}}:
                    <span class="ml-05" *ngFor="let img of getStepResultImagesArray(i);let ind = index">
                        <a target="_blank" [href]="sanitizeUrl(img)" class="add-test-case">File-{{ind + 1}}</a>
                    </span>
                </div>
            </div>
            <div class="mt-05" fxFlex="100" fxLayout="column wrap" fxShow fxShow.gt-xs="false">
                <b>{{step.stepExpectedResult}}</b>
            </div>
            <div fxFlex class="mt-05 word-break display-pre-line" fxShow fxShow.gt-xs="false"
                *ngIf="step.stepExpectedResultFilePath != null && step.stepExpectedResultFilePath.trim().length > 0">
                {{'TESTMANAGEMENT.STEPEXPECTEDRESULTIMAGES' | translate}}:
                <span class="ml-05" *ngFor="let img of getStepResultImagesArray(i);let ind = index">
                    <a target="_blank" [href]="sanitizeUrl(img)" class="add-test-case">File-{{ind + 1}}</a>
                </span>
            </div>
            <div class="mt-05" fxFlex="100" fxFlex.gt-xs="18" fxLayout="column wrap" fxShow fxShow.gt-xs="false">
                <b>{{'TESTMANAGEMENT.STATUS' | translate}}</b></div>
            <mat-chip fxFlex="12" class="allgoals_process text-center mat-chip-color-text" mat-sm-chip
                [style.backgroundColor]="step.stepStatusColor">
                {{ step.stepStatusName }}
            </mat-chip>
        </div>
    </div>
    <div *ngIf="showText">
        <div fxLayout="row wrap" class="mt-1">
            <div fx-Flex="100" class="ml-1" fxFlex.gt-xs="100" fxLayout="column wrap">
                <p class="m-0"><b>{{'TESTMANAGEMENT.STEPS' | translate}}</b></p>
                <p class="m-0 word-break display-pre-line ml-05 p-05">{{testCaseDetails.steps}}</p>
            </div>
            <mat-divider aria-orientation="horizontal" class="mat-divider-position ml-05 mr-05 mat-divider"
                role="separator"></mat-divider>
        </div>
        <div *ngIf="stepMostFilePath.length > 0" class="mt-05 ml-1" fxFlex="100" fxFlex.gt-sm="100">
            {{'TESTMANAGEMENT.STEPIMAGES' | translate}}:
            <span class="ml-05" *ngFor="let img of stepMostFilePath;let i = index">
                <a target="_blank" [href]="sanitizeUrl(img)" class="add-test-case">File-{{i + 1}}</a>
            </span>
        </div>
        <div fxLayout="row wrap" class="mt-1">
            <div fx-Flex="100" class="ml-1" fxFlex.gt-xs="100" fxLayout="column wrap">
                <p class="m-0"><b>{{'TESTMANAGEMENT.EXPECTEDRESULT' | translate}}</b></p>
                <p class="word-break display-pre-line ml-05 p-05">{{testCaseDetails.expectedResult}}</p>
            </div>
        </div>
        <div *ngIf="expectedMostFilePath.length > 0" class="mt-05 ml-1" fxFlex="100" fxFlex.gt-sm="100">
            {{'TESTMANAGEMENT.EXPECTEDRESULTIMAGES' | translate}}:
            <span class="ml-05" *ngFor="let img of expectedMostFilePath;let i = index">
                <a target="_blank" [href]="sanitizeUrl(img)" class="add-test-case">File-{{i + 1}}</a>
            </span>
        </div>
    </div>
    <div *ngIf="showExploratory">
        <div fxLayout="row wrap" class="mt-1">
            <div fx-Flex="100" class="ml-1" fxFlex.gt-xs="100" fxLayout="column wrap">
                <p class="m-0"><b>{{'TESTMANAGEMENT.MISSION' | translate}}</b></p>
                <p class="m-0 word-break display-pre-line ml-05 p-05">{{testCaseDetails.mission}}</p>
            </div>
            <mat-divider aria-orientation="horizontal" class="mat-divider-position ml-05 mr-05 mat-divider"
                role="separator"></mat-divider>
        </div>
        <div fxLayout="row wrap" class="mt-1">
            <div fx-Flex="100" class="ml-1" fxFlex.gt-xs="100" fxLayout="column wrap">
                <p class="m-0"><b>{{'TESTMANAGEMENT.GOALS' | translate | softLabelsPipe : softLabels}}</b></p>
                <p class="word-break display-pre-line ml-05 p-05">{{testCaseDetails.goals}}</p>
            </div>
        </div>
    </div>
</div>