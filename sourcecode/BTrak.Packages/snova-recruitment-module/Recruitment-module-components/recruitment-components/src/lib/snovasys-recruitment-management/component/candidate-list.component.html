<div class="default-board custom-box p-0 m-0 user-card">
  <app-pm-component-superagile-board [job]="job" [isInterviewerBoard]="isInterviewerBoard"
    [interviewType]="interviewType" [assignee]="assignee" [isCandidateExisits]="isCandidateExisits"
    (searchcandidate)="searchcandidate($event)" (searchemployee)="searchemployee($event)"
    (candiateAdded)="candiateAdded($event)" [candidate]="temp" (selectedHiringStatusList)="filterHiringStatus($event)"
    (selectedInterviewTypeList)="filterInterviewType($event)"
    (selectedAssigneManagerId)="filterCandidatesByAssignee($event)"></app-pm-component-superagile-board>

  <mat-card-content class="p-0 goalstatus user-story mb-0" #scrollMe infiniteScroll
    [infiniteScrollDistance]="scrollDistance" [scrollWindow]="false" (scrolled)="onScrollDown()" id="style-1"
    [ngClass]="{ 'goalstatus-backlog': (selectedTab == 'active-jobs'), 'goalstatus-height' : (selectedTab == 'active-jobs') && (isVisible)}">

    <mat-list class="compact-list p-0" *ngIf="canAccess_feature_ViewCandidates && (candidatesLoading$ | async)">
      <div fxLayout="row wrap" class="full-width mt-05">
        <div fxFlex="100" *ngFor="let form of candidateLoader(candidateLoaderCount).fill(1)">
          <div fxLayout="row wrap" class="userstory-loader m-0 p-0">
            <div fxFlex="92" fxFlexOffset="10px">
              <div fxLayout="row p-05">

                <div fxFlex="39">
                  <p class="mat-small p-05 userstory-emptytext loading-bg"></p>
                </div>
                <div fxFlex="1" fxFlexOffset="28">
                  <p class="mat-small userstory-emptytext goal-loader-img loading-bg"></p>
                </div>
                <div fxFlex="3" fxFlexOffset="3">
                  <p class="mat-small p-05 userstory-emptytext  loading-bg"></p>
                </div>
                <div fxFlex="3" fxFlexOffset="3">
                  <p class="mat-small p-05 userstory-emptytext loading-bg"></p>
                </div>
                <div fxFlexOffset="6" fxFlex="13">
                  <p class="mat-small p-05 userstory-emptytext loading-bg"></p>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </mat-list>

    <mat-list class="compact-list p-0" *ngIf="isCandidateExisits && canAccess_feature_ViewCandidates">

      <div dragula="candidates" [(dragulaModel)]="candidates" *ngIf="!(candidatesLoading$ | async)">
        <div class="user-story-list" *ngFor="let candidate of candidates"
          [attr.data-userStoryId]="candidate.CandidateId">

          <div fxLayout="row wrap">
            <div fxFlex="100">
              <gc-candidate-summary class="full-width" [candidate]="candidate" [openingstatus]="openingstatus"
                [hiringStatus]="hiringStatus" [isSkillBoard]="isInterviewerBoard" [roleList]="roleList"
                [branchList]="branchList" [job]="job"
                [candidateSelected]="highLightSelectedCandidate(candidate.candidateId)"
                (selectCandidate)="selectedCandidate($event)" (interviewTypeAdd)="getInterviewTypesEmmit($event)"
                (candidateUpdated)="candidateUpdated($event)">
              </gc-candidate-summary>
            </div>
          </div>
        </div>
      </div>
      <div>
      </div>
    </mat-list>

    <app-common-message-box
      *ngIf="(!isCandidateExisits && canAccess_feature_ViewCandidates && !(candidatesLoading$ | async)) || (!isCandidateExisits && !(candidatesLoading$ | async))"
      textToDisplay="{{ 'CANDIDATES.CANDIDATESNOTFOUND' | translate }}">
    </app-common-message-box>
    <ng-container *ngIf="!(canAccess_feature_ViewCandidates)">
      <app-common-message-box textToDisplay="{{'DONTHAVEANYPERMISSIONS'|translate}}">
      </app-common-message-box>
    </ng-container>
  </mat-card-content>
  <mat-paginator *ngIf="(totalCount > 25) && !(candidatesLoading$ | async)" class="mt-lg-n2 pull-left"
    [length]="totalCount" [pageSize]="pageSize" [pageIndex]="pageIndex" [pageSizeOptions]="pageSizeOptions"
    (page)="getCandiates($event)">
  </mat-paginator>

</div>