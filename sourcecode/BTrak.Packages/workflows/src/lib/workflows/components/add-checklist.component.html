<div class="custom-dialog">
  <div class="custom-close" mat-dialog-close (click)="onNoClick()">
    <fa-icon icon="times" class="project-dialog"></fa-icon>
  </div>
</div>
<mat-card class="filter-data p-0">
  <mat-card-title class="text-center">
    <div class="card-title-text mat-bg-primary p-05">
      Add Checklist</div>

  </mat-card-title>
  <form [formGroup]="fieldForm" novalidate (submit)="fieldForm.valid && upsertChecklist()">
    <div id="style-1" class="goal-create-height p-1">
      <div fxLayout="row wrap" class="p-05 ">
        <div fxFlex="98">
          <div fxFlex fxLayout="row wrap">
            <div fxFlex="30">
              <div class="pt-1">Form Name</div>
            </div>
            <div fxFlex="50" class="pt-1">
              <mat-label>{{formname}}</mat-label>
            </div>

            <!-- <mat-form-field class="full-width" fxFlex="50">
                        <input matInput formControlName="formtypeName">
                      </mat-form-field> -->
          </div>
        </div>
        <input matInput formControlName="id" hidden>
        <div fxFlex="98">
          <div fxFlex fxLayout="row wrap">
            <div fxFlex="30">
              <div class="pt-1">Checklist Name *</div>
            </div>
            <mat-form-field class="full-width" fxFlex="50">
              <input matInput formControlName="name">
              <mat-error>
                <span
                  *ngIf="fieldForm.get('name').hasError('required')">
                  Checklist Name is required</span>
              </mat-error> 
            </mat-form-field>
          </div>
        </div>


        <div fxFlex="98" fxLayout="row" class="workflowsubheader">
          Add Task Template</div>
        <div fxFlex="98" class="dvCriteria">

          <!-- <div class="mr-08 text-left workflowlink" fxflex="100" fxflex.gt-sm="100">
              <a (click)="AddTask()"
                  class="custom-link">Add Task</a>
          </div> -->
        </div>


        <div fxFlex="98">
          <div fxFlex fxLayout="row wrap">
            <div fxFlex="30">
              <div class="pt-1">Display Name *</div>
            </div>
            <mat-form-field class="full-width" fxFlex="50">
              <input matInput formControlName="displayName">
           
            <mat-error>
              <span
                *ngIf="fieldForm.get('displayName').hasError('required')">
                Display Name is required</span>
            </mat-error> 
          </mat-form-field>
          </div>
        </div>

        <div fxFlex="98">
          <div fxFlex fxLayout="row wrap">
            <div fxFlex="30">
              <div class="pt-1">TaskName *</div>
            </div>
            <mat-form-field class="full-width" fxFlex="50">
              <input matInput formControlName="taskName">
              <mat-error>
                <span
                  *ngIf="fieldForm.get('taskName').hasError('required')">
                  Task Name is required</span>
              </mat-error> 
            </mat-form-field>
          </div>
        </div>


        <div fxFlex="98">
          <div fxFlex fxLayout="row wrap">
            <div fxFlex="30">
              <div class="pt-1">Description *</div>
            </div>
            <mat-form-field class="full-width" fxFlex="50">
              <input matInput formControlName="description">
              <mat-error>
                <span
                  *ngIf="fieldForm.get('description').hasError('required')">
                  Description is required</span>
              </mat-error> 
            </mat-form-field>
          </div>
        </div>


        <div fxFlex="98">
          <div fxFlex fxLayout="row wrap">
            <div fxFlex="30">
              <div class="pt-1">Task Owner *</div>
            </div>
            <mat-form-field class="full-width" fxFlex="50">
              <mat-select formControlName="taskOwner">
                <mat-option *ngFor="let employee of usersList" [value]="employee.id">
                  <div fxLayout="row wrap" fxLayoutGap="5px">
                    <div fxFlex="35px">
                      <app-avatar [name]="employee.fullName | removeSpecialCharacters" [src]="employee.profileImage"
                        [isRound]="true" size="30">
                      </app-avatar>
                    </div>
                    <div fxFlex>
                      <p class="mat-body-2">
                        {{ employee.fullName }}
                      </p>
                    </div>
                  </div>
                </mat-option>
              </mat-select>
              <mat-error>
                <span
                  *ngIf="fieldForm.get('taskOwner').hasError('required')">
                  Task Owner is required</span>
              </mat-error> 
            </mat-form-field>
          </div>
        </div>


        <div fxFlex="98">
          <div fxFlex fxLayout="row wrap">
            <div fxFlex="30">
              <div class="pt-1">Priority *</div>
            </div>
            <mat-form-field class="full-width" fxFlex="50">
              <mat-select formControlName="priority">
                <mat-option *ngFor="let pr of prioritylist" [value]="pr.id">
                  {{pr.name}}
                </mat-option>
              </mat-select>
              <mat-error>
                <span
                  *ngIf="fieldForm.get('priority').hasError('required')">
                  Priority is required</span>
              </mat-error> 
            </mat-form-field>
          </div>
        </div>

        <div fxFlex="98">
          <div fxFlex fxLayout="row wrap">
            <div fxFlex="30">
              <div class="pt-1">Due Date *</div>
            </div>
            <!-- <mat-form-field class="full-width" fxFlex="10">
                <input matInput formControlName="number">
              </mat-form-field>
              <div fxFlex="5"></div>
              <mat-form-field class="full-width" fxFlex="10">
               <mat-select formControlName="days">
                    <mat-option *ngFor="let dr of day" [value]="dr.id">
                  {{dr.name}}
                </mat-option>
                  </mat-select>
              </mat-form-field>
              <div fxFlex="5"></div>
              <mat-form-field class="full-width" fxFlex="10">
               <mat-select formControlName="daysCondition">
                    <mat-option *ngFor="let cl of conditionlist" [value]="cl.id">
                  {{cl.name}}
                </mat-option>
                  </mat-select>
              </mat-form-field>
              <div fxFlex="5"></div>
              <mat-form-field class="full-width" fxFlex="10">
                <mat-select formControlName="rule">
                    <mat-option *ngFor="let pr of rulelist" [value]="pr.id">
                  {{pr.name}}
                </mat-option>
                  </mat-select>
              </mat-form-field> -->
            <mat-form-field color="accent" class="full-width" fxFlex="50">
              <input matInput [matDatepicker]="picker2" autocomplete="off" (click)="picker2.open()"
                (dateChange)="dateFromChanged($event)" class="date-picker" formControlName="dueDate" [readonly]="true">
              <mat-datepicker-toggle matSuffix [for]="picker2"></mat-datepicker-toggle>
              <mat-datepicker #picker2></mat-datepicker>
              <mat-error>
                <span
                  *ngIf="fieldForm.get('dueDate').hasError('required')">
                  Due Date is required</span>
              </mat-error> 
            </mat-form-field>
          </div>
        </div>


      </div>
    </div>
    <div class="mt-05">

      <button class="pull-right mr-1" mat-raised-button type="submit" color="primary" [disabled]="!fieldForm.valid">
        <fa-icon class="mr-05" icon="check"></fa-icon>
        Save
      </button>
      <button class="pull-right mr-1" mat-raised-button (click)="cancelChecklist()" [disabled]="!fieldForm.valid "
        type="button">

        Cancel
      </button>
    </div>
  </form>
</mat-card>