<div class="custom-dialog">
    <div class="custom-close" mat-dialog-close (click)="onNoClick()">
        <fa-icon icon="times" class="project-dialog"></fa-icon>
    </div>
</div>
<div style="height: 93%;overflow: auto;" id="style-1" class="mat-card-fx-col">
    <div class="pr-05">
        <formio #formio [form]="form" [submission]="formData" (submit)="onSubmit($event.data)" [readOnly]="readOnly"
            (change)="onChange($event)">
        </formio>
    </div>
    <div>
        <div fxFlex="10">
            <mat-checkbox [(ngModel)]="isClientKyc" [disabled]="disabled" class="mt-20p">Is kyc completed</mat-checkbox>
        </div>
        <div fxFlex="10" fxLayoutAlign="end center" class="pr-1">
            <mat-form-field class="full-width">
                <input matInput placeholder="Credit limit" [disabled]="disabled" [(ngModel)]="creditLimit"
                    (change)="change()">
            </mat-form-field>
        </div>
        <div fxFlex="10" fxLayoutAlign="end center" class="pr-1">
            <mat-form-field class="full-width">
                <input matInput placeholder="Available credit limit" [disabled]="disabled"
                    [(ngModel)]="availableCreditLimit" (change)="change()">
            </mat-form-field>
        </div>
    </div>
</div>
<div class="text-center">
    <button mat-button mat-raised-button class="m-1 pull-right" color="primary" type="button"
        [matMenuTriggerFor]="creditLimitMenu"
        [disabled]="anyOperationInProgress || enableSCOButton || anySCOperationInProgress">
        <mat-progress-bar color="primary" mode="indeterminate" *ngIf="anySCOperationInProgress">
        </mat-progress-bar>
        <fa-icon class="mr-05" icon="file"></fa-icon>{{ 'SAVESCO' | translate }}
    </button>
    <button mat-button mat-raised-button class="m-1 pull-right" color="primary" type="button" (click)="onSubmit(true)"
        [disabled]="anyOperationInProgress" *ngIf="!readOnly">
        <mat-progress-bar color="primary" mode="indeterminate" *ngIf="anyOperationInProgress">
        </mat-progress-bar>
        <fa-icon class="mr-05" icon="file"></fa-icon>{{ 'SAVE' | translate }}
    </button>
</div>
<mat-menu #creditLimitMenu="matMenu" class="filter-panel" (click)="$event.stopPropagation()">
    <mat-card class="filter-data" (click)="$event.stopPropagation()">
        <mat-form-field class="full-width">
            <input matInput placeholder="Allocate Credit limit" [(ngModel)]="creditsAllocated">
        </mat-form-field>
        <div>
            <button class="pull-right" [disabled]="!creditsAllocated" mat-button mat-raised-button
                (click)="upsertSCO();">
                {{ 'PIVOTGRID.OK' | translate }}
            </button>
        </div>
    </mat-card>
</mat-menu>