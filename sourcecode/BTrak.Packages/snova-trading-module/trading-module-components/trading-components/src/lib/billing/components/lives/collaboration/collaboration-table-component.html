<mat-card class="mat-card-fx-col clients-mat-card" id="style-1">
    <div fxLayout="row">
        <div style="padding-right: 5px;">
            <app-contract-side-list [isHomeview]="true"></app-contract-side-list>
        </div>
        <div style="width: 90% !important;">
            <div fxLayout="row wrap" fxLayout.xs="column">
                <div fxFlex="80" fxLayout="row" fxLayout.xs="column" fxLayoutAlign="center center">
                    <span
                        style="font-family: Century Gothic; font-size: large; color: #73C2FB; font-weight:bold;">Collaboration
                        (SMILE Program)</span>
                </div>
                <div fxFlex="20" fxLayout="row" fxLayout.xs="column">
                    <div fxFlex fxLayoutAlign="end center" fxLayoutAlign.xs="start center">
                        <!-- <button class="register-program-button" matTooltipClass="tooltipClass-mat"
                            matTooltip="Click here to Add Investment" (click)="openCollaborationDialog()">
                            <b style="color :#f44336 !important">Add Investment</b>
                        </button> -->
                        <button mat-raised-button class="live-button m-2" matTooltipClass="tooltipClass-mat"
                            matTooltip="Click here to Add Investment" (click)="openCollaborationDialog()">
                            <b style="color :#f44336 !important">ADD INVESTMENT</b>
                        </button>
                    </div>
                </div>
            </div>
            <div fxLayout="row" class="mt-1">
                <div fxFlex>
                    <mat-card class="p-0 m-0">
                        <mat-card-title class="full-width data-table-header">
                            <div fxLayout="row" fxLayout.xs="column" fxLayoutGap="0" fxLayoutGap.xs="5px">
                                <div fxFlex="40px" fxFlex.xs="35px" fxLayoutAlign="start center" id="client-3">
                                    <button type="submit" mat-icon-button class="pull-right" (click)="filterClick()"
                                        matTooltipClass="tooltipClass-mat" matTooltip=" Search">
                                        <fa-icon icon="filter" class="filter mat-color-accent">
                                        </fa-icon>
                                    </button>
                                    <div fxShow.xs="true" fxShow.gt-xs="false" class="p-03 mt-02">
                                    </div>
                                </div>
                                <div fxFlex fxLayoutAlign="start center">
                                    <div class="filter-section" [hidden]="!isFilterVisible">
                                        <ul>
                                            <li>
                                                <span class="archive-label">Archive:</span>
                                                <mat-slide-toggle class="mr-1 archive-switch" [(ngModel)]="isArchived"
                                                    [checked]="isArchived" (change)="archive()"
                                                    matTooltipClass="tooltipClass-mat"
                                                    matTooltip="Click here for validators list" id="client-7">
                                                </mat-slide-toggle>
                                            </li>
                                        </ul>
                                    </div>
                                </div>
                            </div>
                        </mat-card-title>
                    </mat-card>
                    <mat-progress-bar color="primary" mode="indeterminate" *ngIf="isInprogress">
                    </mat-progress-bar>
                    <div class="activity-data kpi-table-height">
                        <kendo-grid [data]="collaborationListData" [filterable]="false" [pageSize]="state.take"
                            [skip]="state.skip" [pageSize]="state.take" [sort]="state.sort" [sortable]="true"
                            [pageable]="true" (cellClick)="selectedRow($event)"
                            (dataStateChange)="dataStateChange($event)">
                            <kendo-grid-column title="SI" [width]="50">
                                <ng-template kendoGridHeaderTemplate let-column="col">
                                    <span matTooltipClass="tooltipClass-mat" matTooltip="SI"
                                        class="headers-color">SI</span>
                                </ng-template>
                                <ng-template kendoGridCellTemplate let-rowIndex="rowIndex">
                                    {{rowIndex+1}}
                                </ng-template>
                            </kendo-grid-column>
                            <kendo-grid-column title="Program Name" field="programName">
                                <ng-template kendoGridHeaderTemplate let-column="col">
                                    <span matTooltipClass="tooltipClass-mat" matTooltip="Program Name"
                                        class="headers-color">Program Name</span>
                                </ng-template>
                                <ng-template kendoGridCellTemplate let-dataItem>
                                    <div>
                                        {{ dataItem.formData.programName }}
                                    </div>
                                </ng-template>
                            </kendo-grid-column>
                            <kendo-grid-column title="Investment Required" field="investmentReceived">
                                <ng-template kendoGridHeaderTemplate let-column="col">
                                    <span matTooltipClass="tooltipClass-mat" matTooltip="Investment Required"
                                        class="headers-color">Investment Required</span>
                                </ng-template>
                                <ng-template kendoGridCellTemplate let-dataItem>
                                    <div>
                                        {{ (dataItem.formData.investmentReceived != 'NaN' ||
                                        dataItem.formData.investmentReceived != null) ?
                                        dataItem.formData.investmentReceived : 0 }}
                                    </div>
                                </ng-template>
                            </kendo-grid-column>
                            <kendo-grid-column title="Investment Amount" field="investmentAmount">
                                <ng-template kendoGridHeaderTemplate let-column="col">
                                    <span matTooltipClass="tooltipClass-mat" matTooltip="Investment Amount"
                                        class="headers-color">Investment Amount</span>
                                </ng-template>
                                <ng-template kendoGridCellTemplate let-dataItem>
                                    <div>
                                        {{ (dataItem.formData.investmentAmount != 'NaN' ||
                                        dataItem.formData.investmentAmount != null) ? dataItem.formData.investmentAmount
                                        : 0 }}
                                    </div>
                                </ng-template>
                            </kendo-grid-column>
                            <kendo-grid-column title="Total Investment" field="totalInvestment">
                                <ng-template kendoGridHeaderTemplate let-column="col">
                                    <span matTooltipClass="tooltipClass-mat" matTooltip="Total Investment"
                                        class="headers-color">Total Investment</span>
                                </ng-template>
                                <ng-template kendoGridCellTemplate let-dataItem>
                                    <div>
                                        {{ (dataItem.formData.totalInvestment != 'NaN' ||
                                        dataItem.formData.totalInvestment != null) ? dataItem.formData.totalInvestment :
                                        0 }}
                                    </div>
                                </ng-template>
                            </kendo-grid-column>
                            <kendo-grid-column title="Balance Left" field="amountThatCanBeInvestment">
                                <ng-template kendoGridHeaderTemplate let-column="col">
                                    <span matTooltipClass="tooltipClass-mat" matTooltip="Balance Left"
                                        class="headers-color">Balance Left</span>
                                </ng-template>
                                <ng-template kendoGridCellTemplate let-dataItem>
                                    <div>
                                        {{ (dataItem.formData.amountThatCanBeInvestment != 'NaN' ||
                                        dataItem.formData.amountThatCanBeInvestment != null) ?
                                        dataItem.formData.amountThatCanBeInvestment : 0 }}
                                    </div>
                                </ng-template>
                            </kendo-grid-column>
                            <kendo-grid-column title="Actions">
                                <ng-template kendoGridHeaderTemplate let-column="col">
                                    <span matTooltipClass="tooltipClass-mat" matTooltip="Actions"
                                        class="headers-color">Actions</span>
                                </ng-template>
                                <ng-template kendoGridCellTemplate let-dataItem>
                                    <button mat-icon-button [matMenuTriggerFor]="menu"
                                        (click)="openOptionsMenu(dataItem);$event.stopPropagation();">
                                        <fa-icon icon="ellipsis-v" class="action-icon-color"></fa-icon>
                                    </button>
                                </ng-template>
                            </kendo-grid-column>
                        </kendo-grid>
                        <mat-menu #menu="matMenu" xPosition="before" yPosition="above">
                            <button class="text-center" mat-menu-item *ngIf="!isArchived"
                                (click)="editCollaboration(selectedRowDetails);closePopup();$event.stopPropagation();">
                                <span>Edit</span>
                            </button>
                            <button class="text-center" mat-menu-item
                                (click)="archiveCollaboration(selectedRowDetails);closePopup();$event.stopPropagation();"
                                *ngIf="!isArchived">
                                <span>Archive</span>
                            </button>
                            <button class="text-center" mat-menu-item
                                (click)="archiveCollaboration(selectedRowDetails);closePopup();$event.stopPropagation();"
                                *ngIf="isArchived">
                                <span>UnArchive</span>
                            </button>
                        </mat-menu>
                    </div>

                </div>
            </div>
        </div>
    </div>
</mat-card>
<ng-template #AddValiationDialogComponent let-data>
    <add-collaboration-component [data]=[data]></add-collaboration-component>
</ng-template>