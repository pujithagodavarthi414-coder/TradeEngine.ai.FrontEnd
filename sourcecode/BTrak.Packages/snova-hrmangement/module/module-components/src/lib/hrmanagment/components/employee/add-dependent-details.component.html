<mat-card-title class="text-center">
        <div class="card-title-text mat-bg-primary p-05" fxLayout="row">
        <div fxFlex fxLayoutAlign="center">
            <span *ngIf="!employeeDependentDetailsId">{{'HRMANAGAMENT.ADDDEPENDENTDETAILS' | translate}}</span>
            <span *ngIf="employeeDependentDetailsId">{{'HRMANAGAMENT.EDITDEPENDENTDETAILS' | translate}}</span>
        </div>
    </div>
</mat-card-title>
<div class="p-1">
    <form [formGroup]="employeeDependentDetailsForm" novalidate #formDirective="ngForm"
        (submit)="employeeDependentDetailsForm.valid && saveEmployeeDependentDetails(formDirective)">
        <div fxLayout="column" fxLayoutGap="10px">
            <div fxLayout="row" fxLayout.xs="column" fxLayoutGap.xs="0px" fxLayoutGap="15px">
                <div fxFlex="50" fxFlex.xs="100">
                    <mat-form-field class="full-width">
                        <input matInput formControlName="firstName" removeSpecialCharacters
                            placeholder="{{'HRMANAGAMENT.FIRSTNAME' | translate}}" required>
                        <mat-error>
                            <span
                                *ngIf="employeeDependentDetailsForm.get('firstName').hasError('required') && employeeDependentDetailsForm.get('firstName').touched">
                                {{'HRMANAGAMENT.PLEASEENTERFIRSTNAME' | translate}}</span>
                            <span *ngIf="employeeDependentDetailsForm.get('firstName').hasError('maxlength')">
                                {{'HRMANAGAMENT.FIRSTNAMESHOULDNOTEXCEED50CHARACTERS' | translate}}</span>
                        </mat-error>
                    </mat-form-field>
                </div>
                <div fxFlex="50" fxFlex.xs="100">
                    <mat-form-field class="full-width">
                        <input matInput formControlName="lastName" removeSpecialCharacters placeholder="{{'HRMANAGAMENT.LASTNAME' | translate}}"
                            required>
                        <mat-error>
                            <span
                                *ngIf="employeeDependentDetailsForm.get('lastName').hasError('required') && employeeDependentDetailsForm.get('lastName').touched">
                                {{'HRMANAGAMENT.PLEASEENTERLASTNAME' | translate}}</span>
                            <span *ngIf="employeeDependentDetailsForm.get('lastName').hasError('maxlength')">
                                {{'HRMANAGAMENT.LASTNAMESHOULDNOTEXCEED50CHARACTERS' | translate}}</span>
                        </mat-error>
                    </mat-form-field>
                </div>
            </div>
            <div fxLayout="row" fxLayout.xs="column" fxLayoutGap.xs="0px" fxLayoutGap="15px">
                <div fxFlex="50" fxFlex.xs="100">
                    <mat-form-field class="full-width">
                        <input matInput formControlName="mobileNo" mobileNumber
                            placeholder="{{'HRMANAGAMENT.MOBILENUMBER' | translate}}" autocomplete="off"
                            required>
                        <mat-error>
                            <span
                                *ngIf="employeeDependentDetailsForm.get('mobileNo').hasError('required') && employeeDependentDetailsForm.get('mobileNo').touched">
                                {{'HRMANAGAMENT.PLEASEENTERMOBILENUMBER' | translate}}</span>
                            <span *ngIf="employeeDependentDetailsForm.get('mobileNo').hasError('maxlength')">
                                {{'EMERGENCYCONTACTDETAILS.SHOULDNOTEXCEED20DIGITS' | translate}}</span>
                        </mat-error>
                    </mat-form-field>
                </div>
                <div fxFlex="50" fxFlex.xs="100">
                    <mat-form-field class="full-width">
                        <mat-select formControlName="relationshipId"
                            placeholder="{{'HRMANAGAMENT.RELATIONSHIP' | translate}}" required>
                            <mat-option value="option" *ngFor="let relationship of relationshipDetailsList$ | async"
                                [value]="relationship.relationshipId">
                                {{relationship.relationshipName}}
                            </mat-option>
                        </mat-select>
                        <mat-error>
                            <span
                                *ngIf="employeeDependentDetailsForm.get('relationshipId').hasError('required') && employeeDependentDetailsForm.get('relationshipId').touched">
                                {{'HRMANAGAMENT.PLEASESELECTRELATIONSHIP' | translate}}</span>
                        </mat-error>
                    </mat-form-field>
                </div>
            </div>
            <div class="text-center">
                <button mat-button mat-raised-button color="primary" class="mr-1"
                    [disabled]="!employeeDependentDetailsForm.valid || (upsertEmployeeDependentDetailsInProgress$ | async)">
                    <mat-progress-bar color="primary" mode="indeterminate"
                        *ngIf="upsertEmployeeDependentDetailsInProgress$ | async">
                    </mat-progress-bar>
                    <span *ngIf="!this.employeeDependentDetailsId">
                        <fa-icon class="mr-05" icon="save"></fa-icon> {{'SAVE' | translate }}
                    </span>
                    <span *ngIf="this.employeeDependentDetailsId">
                        <fa-icon class="mr-05" icon="pen"></fa-icon> {{'UPDATE' | translate}}
                    </span>
                </button>
                <button mat-button mat-raised-button
                    (click)="closePopover(formDirective);(false)"
                    [disabled]="(upsertEmployeeDependentDetailsInProgress$ | async)">
                    <fa-icon class="mr-05" icon="times"></fa-icon> {{'CANCEL' | translate}}
                </button>
            </div>
        </div>
    </form>
</div>