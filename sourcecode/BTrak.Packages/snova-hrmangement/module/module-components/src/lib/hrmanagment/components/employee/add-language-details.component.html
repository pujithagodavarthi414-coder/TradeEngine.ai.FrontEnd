<mat-card-title class="text-center">
    <div class="card-title-text mat-bg-primary p-05" fxLayout="row">
        <div fxFlex fxLayoutAlign="center">
            <span *ngIf="!employeeLanguageDetailsId">{{'HRMANAGAMENT.ADDLANGUAGEDETAILS' | translate}}</span>
            <span *ngIf="employeeLanguageDetailsId">{{'HRMANAGAMENT.EDITLANGUAGEDETAILS' | translate}}</span>
        </div>
    </div>
</mat-card-title>
    <form [formGroup]="employeeLanguageDetailsForm" novalidate #formDirective="ngForm" class="hr-apps-scroll"
        id="style-1" (submit)="employeeLanguageDetailsForm.valid && saveEmployeeLanguageDetails()">
        <div class="p-1">
            <div fxLayout="column" fxLayoutGap="10px">
                <div fxFlex="100">
                    <mat-form-field class="full-width">
                        <mat-select formControlName="languageId" placeholder="{{'HRMANAGAMENT.LANGUAGE' | translate}}"
                            required>
                            <mat-option value="option" *ngFor="let language of languagesList$ | async"
                                [value]="language.languageId">
                                {{language.languageName}}
                            </mat-option>
                        </mat-select>
                        <mat-error>
                            <span
                                *ngIf="employeeLanguageDetailsForm.get('languageId').hasError('required') && employeeLanguageDetailsForm.get('languageId').touched">
                                {{'HRMANAGAMENT.PLEASESELECTLANGUAGE' | translate}}</span>
                        </mat-error>
                    </mat-form-field>
                </div>
                <div fxFlex="100">
                    <mat-form-field class="full-width">
                        <mat-select formControlName="fluencyIds" placeholder="{{'HRMANAGAMENT.FLUENCY' | translate}}"
                            required [compareWith]="compareSelectedFluencyFn" multiple
                            (selectionChange)="getSelectedRoles()">
                            <mat-select-trigger>
                                {{selectedfluencies}}
                            </mat-select-trigger>
                            <mat-option [value]="0" #allSelected (click)="toggleAllFluenciedSelected()">
                                Select all
                            </mat-option>
                            <mat-option value="option" *ngFor="let fluency of languageFluency"
                                [value]="fluency.languageFluencyId" (click)="toggleFluencyPerOne($event)">
                                {{fluency.languageFluencyName}}
                            </mat-option>
                        </mat-select>
                        <mat-error>
                            <span
                                *ngIf="employeeLanguageDetailsForm.get('fluencyIds').hasError('required') && employeeLanguageDetailsForm.get('fluencyIds').touched">
                                {{'HRMANAGAMENT.PLEASESELECTFLUENCY' | translate}}</span>
                        </mat-error>
                    </mat-form-field>
                </div>
                <div fxFlex="100">
                    <mat-form-field class="full-width">
                        <mat-select formControlName="competencyId"
                            placeholder="{{'HRMANAGAMENT.COMPETENCY' | translate}}" required>
                            <mat-option value="option" *ngFor="let competency of competencyList$ | async"
                                [value]="competency.competencyId">
                                {{competency.competencyName}}
                            </mat-option>
                        </mat-select>
                        <mat-error>
                            <span
                                *ngIf="employeeLanguageDetailsForm.get('competencyId').hasError('required') && employeeLanguageDetailsForm.get('competencyId').touched">
                                {{'HRMANAGAMENT.PLEASESELECTCOMPETENCY' | translate}}</span>
                        </mat-error>
                    </mat-form-field>
                </div>
                <div fxFlex="100">
                    <mat-form-field class="full-width">
                        <textarea matInput formControlName="comments"
                            placeholder="{{'HRMANAGAMENT.COMMENT' | translate}}"></textarea>
                        <mat-error>
                            <span *ngIf="employeeLanguageDetailsForm.get('comments').hasError('maxlength')">
                                {{'HRMANAGAMENT.COMMENTSHOULDNOTEXCEED800CHARACTERS' | translate}}</span>
                        </mat-error>
                    </mat-form-field>
                </div>
            </div>
        </div>
        <div class="text-center p-1">
            <button mat-button mat-raised-button color="primary" class="mr-1"
                [disabled]="!employeeLanguageDetailsForm.valid || (upsertEmployeeLanguageDetailsInProgress$ | async)">
                <mat-progress-bar color="primary" mode="indeterminate"
                    *ngIf="upsertEmployeeLanguageDetailsInProgress$ | async">
                </mat-progress-bar>
                <span *ngIf="!this.employeeLanguageDetailsId">
                    <fa-icon class="mr-05" icon="save"></fa-icon> {{'SAVE' | translate }}
                </span>
                <span *ngIf="this.employeeLanguageDetailsId">
                    <fa-icon class="mr-05" icon="pen"></fa-icon> {{'UPDATE' | translate}}
                </span>
            </button>
            <button mat-button mat-raised-button (click)="closePopover();(false)"
                [disabled]="(upsertEmployeeLanguageDetailsInProgress$ | async)">
                <fa-icon class="mr-05" icon="times"></fa-icon> {{'CANCEL' | translate}}
            </button>
        </div>
    </form>
