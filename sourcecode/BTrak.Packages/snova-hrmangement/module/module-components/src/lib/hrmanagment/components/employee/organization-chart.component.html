
<div class="full-height" *ngIf="(canAccess_feature_CanViewOrganizationChart)">
    <mat-card class="p-0 canteen-manage m-0">
        <mat-card-title class="full-width data-table-header drag-handler">
            <div fxLayout="row wrap">
                <div class="card-title-text p-05 ml-05" fxFlex fxLayoutAlign="start center">
                    <span class="hide-content-overflow">
                        {{ 'ANNOUNCEMENT.ORGANIZATIONCHART' | translate | titlecase }}
                    </span>
                </div>
                <div fxFlex="40px">
                    <button mat-icon-button matTooltip="{{ 'BILLINGDASHBOARD.REFRESH' | translate }}"
                        (click)="getOrgchartDetails()" [disabled]=isAnyOperationIsInprogress>
                        <fa-icon icon="redo" class="filter mat-color-accent">
                        </fa-icon>
                    </button>
                </div>
            </div>
        </mat-card-title>
        <mat-progress-bar color="primary" mode="indeterminate" *ngIf="isAnyOperationIsInprogress">
        </mat-progress-bar>
    </mat-card>
    <div class="no-drag">
        <div #orgdiagram style="width: 100%;" *ngIf="!showValidation"></div>
        <app-common-message-box *ngIf="showValidation"
            textToDisplay="{{'PERFORMANCE.NOCHAINSTODRAWACHART' | translate}}">
        </app-common-message-box>
    </div>
</div>

<app-common-message-box *ngIf="!(canAccess_feature_CanViewOrganizationChart)"
    textToDisplay="{{ 'PERMISSIONMESSAGE' | translate }}">
</app-common-message-box>

<!-- <div *ngIf="(canAccess_feature_CanViewOrganizationChart)">
<mat-card class="p-0 canteen-manage m-0">
    <mat-card-title class="full-width data-table-header drag-handler">
        <div fxLayout="row wrap">
            <div class="card-title-text p-05 ml-05" fxFlex fxLayoutAlign="start center">
                <span class="hide-content-overflow">
                    {{ 'ANNOUNCEMENT.ORGANIZATIONCHART' | translate | titlecase }}
                </span>
            </div>
            <div fxFlex="40px">
                <button mat-icon-button matTooltip="{{ 'BILLINGDASHBOARD.REFRESH' | translate }}"
                (click)="ngOnInit()" [disabled]=isAnyOperationIsInprogress>
                    <fa-icon icon="redo" class="filter mat-color-accent">
                    </fa-icon>
                </button>
            </div>
        </div>
    </mat-card-title>
    <mat-progress-bar color="primary" mode="indeterminate" *ngIf="isAnyOperationIsInprogress">
    </mat-progress-bar>
</mat-card>
<div class="no-drag orgchartcomponent">
    <ejs-diagram class="orgchart" #diagram id="diagram" width="100%" height="100%" 
    [getConnectorDefaults]='connDefaults' [getNodeDefaults]='nodeDefaults' [layout]='layout' [dataSourceSettings]='data'
    [setNodeTemplate]='setNodeTemplate' [tool]='tool' [snapSettings]='snapSettings' *ngIf="!showValidation">
</ejs-diagram>
    <app-common-message-box *ngIf="showValidation"
        textToDisplay="{{'PERFORMANCE.NOCHAINSTODRAWACHART' | translate}}">
    </app-common-message-box>
</div>
</div>
<app-common-message-box *ngIf="!(canAccess_feature_CanViewOrganizationChart)"
    textToDisplay="{{ 'PERMISSIONMESSAGE' | translate }}">
</app-common-message-box>
 -->
