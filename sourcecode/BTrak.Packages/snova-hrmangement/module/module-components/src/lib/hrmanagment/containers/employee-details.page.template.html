<div fxLayout="row wrap">
    <div fxFlex="100" fxFlex.gt-md="calc(100% - 300px)" class="my-profiletabs">
        <mat-tab-group class="mb-1" (selectedTabChange)="onTabClick($event)">
            <ng-container
                *ngIf="(canAccess_feature_ViewEmployeePersonalDetails) || (canAccess_feature_CanEditOtherEmployeeDetails ) || (canAccess_feature_ViewEmployeeContactDetails)">
                <mat-tab label="PersonalDetails">
                    <ng-template mat-tab-label>
                        {{'HRMANAGAMENT.PERSONALDETAILS' | translate}}
                    </ng-template>
                    <ng-template matTabContent>
                        <!-- <app-hr-component-employee-details [selectedEmployeeId]="selectedEmployeeId"
                            [isPermission]="isPermission" [userId]="userId"></app-hr-component-employee-details> -->
                    </ng-template>
                </mat-tab>
            </ng-container>
            <ng-container
                *ngIf="(canAccess_feature_ViewEmployeeIdentificationDetails) || (canAccess_feature_CanEditOtherEmployeeDetails )">
                <mat-tab label="LicenceDetails">
                    <ng-template mat-tab-label>
                        {{'HRMANAGAMENT.LICENCEDETAILS' | translate}}
                    </ng-template>
                    <ng-template matTabContent>
                        <app-hr-component-licence-details [isPermission]="isPermission"
                            [selectedEmployeeId]="selectedEmployeeId">
                        </app-hr-component-licence-details>
                    </ng-template>
                </mat-tab>
            </ng-container>
            <ng-container
                *ngIf="(canAccess_feature_ViewEmployeeEmergencyContactDetails) || (canAccess_feature_CanEditOtherEmployeeDetails )">
                <mat-tab label="EmergencyContacts">
                    <ng-template mat-tab-label>
                        {{'HRMANAGAMENT.EMERGENCYCONTACTS' | translate}}
                    </ng-template>
                    <ng-template matTabContent>
                        <app-hr-component-add-emergency-contacts [isPermission]="isPermission"
                            [selectedEmployeeId]="selectedEmployeeId">
                        </app-hr-component-add-emergency-contacts>
                    </ng-template>
                </mat-tab>
            </ng-container>
            <ng-container
                *ngIf="(canAccess_feature_ViewEmployeeDependentContactDetails) || (canAccess_feature_CanEditOtherEmployeeDetails )">
                <mat-tab label="Dependents">
                    <ng-template mat-tab-label>
                        {{'HRMANAGAMENT.DEPENDENTS' | translate}}
                    </ng-template>
                    <ng-template matTabContent>
                        <app-hr-component-dependent-details [selectedEmployeeId]="selectedEmployeeId"
                            [isPermission]="isPermission">
                        </app-hr-component-dependent-details>
                    </ng-template>
                </mat-tab>
            </ng-container>
            <ng-container
                *ngIf="(canAccess_feature_ViewEmployeeImmigrationDetails) || (canAccess_feature_CanEditOtherEmployeeDetails )">
                <mat-tab label="Immigration">
                    <ng-template mat-tab-label>
                        {{'HRMANAGAMENT.IMMIGRATION' | translate}}
                    </ng-template>
                    <ng-template matTabContent>
                        <app-hr-component-immigration-details [isPermission]="isPermission"
                            [selectedEmployeeId]="selectedEmployeeId">
                        </app-hr-component-immigration-details>
                    </ng-template>
                </mat-tab>
            </ng-container>
            <ng-container
                *ngIf="(((canAccess_feature_ViewEmployeeJobDetails) || (canAccess_feature_ViewEmploymentContractDetails)) && isPermission) || (canAccess_feature_CanEditOtherEmployeeDetails )">
                <mat-tab label="Job">
                    <ng-template mat-tab-label>
                        {{'HRMANAGAMENT.JOB' | translate}}
                    </ng-template>
                    <ng-template matTabContent>
                        <ng-container
                            *ngIf="((canAccess_feature_ViewEmployeeJobDetails) && isPermission) || (canAccess_feature_CanEditOtherEmployeeDetails )">
                            <app-hr-component-employee-job-details [selectedEmployeeId]="selectedEmployeeId"
                                [isPermission]="isPermission">
                            </app-hr-component-employee-job-details>
                        </ng-container>
                    </ng-template>
                </mat-tab>
            </ng-container>-->
            <ng-container
                *ngIf="(((canAccess_feature_ViewEmployeeSalaryDetails) || (canAccess_feature_ViewEmployeeBankDetails)) && isPermission) || (canAccess_feature_CanEditOtherEmployeeDetails )">
                <mat-tab label="Salary">
                    <ng-template mat-tab-label>
                        {{'HRMANAGAMENT.SALARY' | translate}}
                    </ng-template>
                    <ng-template matTabContent>
                        <ng-container
                            *ngIf="((canAccess_feature_ViewEmployeeSalaryDetails) && isPermission) || (canAccess_feature_CanEditOtherEmployeeDetails )">
                            <app-hr-component-employee-ratesheet-details [isPermission]="isPermission"
                                [selectedEmployeeId]="selectedEmployeeId">
                            </app-hr-component-employee-ratesheet-details>
                        </ng-container>
                        <ng-container
                            *ngIf="((canAccess_feature_ViewEmployeeSalaryDetails) && isPermission) || (canAccess_feature_CanEditOtherEmployeeDetails )">
                            <app-hr-component-salary-details [isPermission]="isPermission"
                                [selectedEmployeeId]="selectedEmployeeId">
                            </app-hr-component-salary-details>
                        </ng-container>
                        <ng-container
                            *ngIf="((canAccess_feature_ViewEmployeeBankDetails) && isPermission) || (canAccess_feature_CanEditOtherEmployeeDetails )">
                            <app-hr-component-bank-details [isPermission]="isPermission"
                                [selectedEmployeeId]="selectedEmployeeId">
                            </app-hr-component-bank-details>
                        </ng-container>
                        <ng-floating-action-menu placement="br" effect="mfb-slidein" iconClass='add'
                            activeIconClass='clear' toggle="hover" mainButtonClass="mat-bg-accent"
                            *ngIf="(((canAccess_feature_AddOrUpdateEmployeeSalaryDetails)||(canAccess_feature_AddOrUpdateEmployeeBankDetails)) && isPermission) ||  (canAccess_feature_CanEditOtherEmployeeDetails )">
                            <li
                                *ngIf="((canAccess_feature_ManageEmployeeRatesheet) && isPermission) ||  (canAccess_feature_CanEditOtherEmployeeDetails )">
                                <ng-floating-action-button iconClass='money-bill-alt' iconType='font-awesome'
                                    label="{{'HRMANAGAMENT.ADDRATESHEET' | translate}}"
                                    customClass="mat-bg-old-lace" (click)="openDialog('ratesheet')">
                                </ng-floating-action-button>
                            </li>
                            <li
                                *ngIf="((canAccess_feature_AddOrUpdateEmployeeSalaryDetails) && isPermission) ||  (canAccess_feature_CanEditOtherEmployeeDetails )">
                                <ng-floating-action-button iconClass='money-bill-alt' iconType='font-awesome'
                                    label="{{'HRMANAGAMENT.ADDSALARYDETAILS' | translate}}"
                                    customClass="mat-bg-old-lace" (click)="openDialog(null)">
                                </ng-floating-action-button>
                            </li>
                            <li
                                *ngIf="((canAccess_feature_AddOrUpdateEmployeeBankDetails)  && isPermission) || (canAccess_feature_CanEditOtherEmployeeDetails )">
                                <ng-floating-action-button iconClass='account_balance' iconType='mat-icon'
                                    label="{{'HRMANAGAMENT.ADDBANKDETAILS' | translate}}"
                                    customClass="mat-bg-unbleached-silk" [satPopoverAnchorFor]="addBankDetails"
                                    #editSalaryDetailsPopover="satPopoverAnchor"
                                    (click)="addBankDetailDetailsId(editSalaryDetailsPopover)">
                                </ng-floating-action-button>
                            </li>
                        </ng-floating-action-menu>
                    </ng-template>
                </mat-tab>
            </ng-container>
            <ng-container
                *ngIf="(canAccess_feature_ViewEmployeeReportToDetails) || (canAccess_feature_CanEditOtherEmployeeDetails )">
                <mat-tab label="ReportTo">
                    <ng-template mat-tab-label>
                        {{'HRMANAGAMENT.REPORTTO' | translate}}
                    </ng-template>
                    <ng-template matTabContent>
                        <app-hr-component-report-to [isPermission]="isPermission"
                            [selectedEmployeeId]="selectedEmployeeId">
                        </app-hr-component-report-to>
                    </ng-template>
                </mat-tab>
            </ng-container>
            <ng-container
                *ngIf="((canAccess_feature_ViewEmployeeWorkExperienceDetails) || (canAccess_feature_ViewEmployeeEducationDetails) || (canAccess_feature_ViewEmployeeSkillDetails) || (canAccess_feature_ViewEmployeeLanguageDetails) || (canAccess_feature_CanEditOtherEmployeeDetails ))">
                <mat-tab label="Qualifications">
                    <ng-template mat-tab-label>
                        {{'HRMANAGAMENT.QUALIFICATIONS' | translate}}
                    </ng-template>
                    <ng-template matTabContent>
                        <app-hr-component-employee-qualification-details [selectedEmployeeId]="selectedEmployeeId"
                            [isPermission]="isPermission"></app-hr-component-employee-qualification-details>
                    </ng-template>
                </mat-tab>
            </ng-container>
            <ng-container
                *ngIf="(canAccess_feature_ViewEmployeeMembershipDetails) || (canAccess_feature_CanEditOtherEmployeeDetails )">
                <mat-tab label="Memberships">
                    <ng-template mat-tab-label>
                        {{'HRMANAGAMENT.MEMBERSHIPS' | translate}}
                    </ng-template>
                    <ng-template matTabContent>
                        <app-hr-component-membership-details [isPermission]="isPermission"
                            [selectedEmployeeId]="selectedEmployeeId">
                        </app-hr-component-membership-details>
                    </ng-template>
                </mat-tab>
            </ng-container>
            <ng-container *ngIf="(canAccess_feature_ViewEmployeeShiftDetails) || (canAccess_feature_CanEditOtherEmployeeDetails ) ">
            <mat-tab label="ShiftTiming">
                <ng-template mat-tab-label>
                    {{'HRMANAGAMENT.SHIFTTIMING' | translate}}
                </ng-template>
                <ng-template matTabContent>
                    <app-hr-component-shift-details [isPermission]="isPermission"
                        [selectedEmployeeId]="selectedEmployeeId">
                    </app-hr-component-shift-details>
                </ng-template>
            </mat-tab>
        </ng-container>
            <ng-container
                *ngIf="!((canAccess_feature_ViewEmployeePersonalDetails) || (canAccess_feature_ViewEmployeeIdentificationDetails
                ) || (canAccess_feature_ViewEmployeeContactDetails) || (canAccess_feature_ViewEmployeeEmergencyContactDetails) || (canAccess_feature_ViewEmployeeDependentContactDetails) || (canAccess_feature_ViewEmployeeImmigrationDetails) || (canAccess_feature_ViewEmployeeJobDetails) || (canAccess_feature_ViewEmploymentContractDetails) || (canAccess_feature_ViewEmployeeSalaryDetails) || (canAccess_feature_ViewEmployeeBankDetails) || (canAccess_feature_ViewEmployeeReportToDetails) || (canAccess_feature_ViewEmployeeWorkExperienceDetails) || (canAccess_feature_ViewEmployeeEducationDetails) || (canAccess_feature_ViewEmployeeSkillDetails) || (canAccess_feature_ViewEmployeeLanguageDetails) || (canAccess_feature_ViewEmployeeMembershipDetails) || (canAccess_feature_CanEditOtherEmployeeDetails))">
                <mat-tab label="Loading">
                    <ng-template mat-tab-label>
                        {{'LOADING' | translate}}
                    </ng-template>
                    <ng-template matTabContent>
                        {{'LOADINGPLEASEWAIT' | translate}}
                    </ng-template>
                </mat-tab>
            </ng-container>
        </mat-tab-group>
    </div>
</div>

<sat-popover #addBankDetails [autoFocus]="false" hasBackdrop backdropClass="backdrop-color" [restoreFocus]="false"
    [interactiveClose]="false" scrollStrategy="reposition" verticalAlign="below" horizontalAlign="end">
    <mat-card class="p-0 mr-0">
        <app-hr-component-add-bank-details [selectedEmployeeId]="selectedEmployeeId"
            (closePopup)="closeUpsertSalaryDetailsPopover()">
        </app-hr-component-add-bank-details>
    </mat-card>
</sat-popover>