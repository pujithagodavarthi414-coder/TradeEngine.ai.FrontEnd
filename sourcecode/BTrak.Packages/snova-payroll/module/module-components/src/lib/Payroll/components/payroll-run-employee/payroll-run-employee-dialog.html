<div class="custom-dialog">
  <div class="custom-close" mat-dialog-close (click)="onNoClick()">
    <fa-icon icon="times" class="project-dialog"></fa-icon>
  </div>
</div>
<div mat-dialog-actions style="display: table;" class="payslip-table">
  <div id="html2Pdf">
    <div style="margin-left: 5px;">
      <table style="margin-left: 5px;width:950px;">
        <tbody>
          <tr>
            <td width="70%" height="100px">
              <h6 style="font-weight: bold;font-size: 20px;margin-bottom: 5px;">{{payslipDetails.companyName}}</h6>
              <div style="margin-top:0px; margin-bottom: 0; font-weight: bold;">{{'PAYROLL.HEADOFFICE' | translate}}:</div>
              <div style="margin-top:0px; margin-bottom: 0;"> {{payslipDetails.headOfficeAddress}}</div>
              <div style="margin-top:0px; margin-bottom: 0; font-weight: bold;"> {{'PAYROLL.ALLBRANCHES' | translate}}: </div>
              <div style="margin-top:0px; margin-bottom: 0;"> {{payslipDetails.companyBranches}}</div>
            </td>
            <td width="30%" style="text-align:right;" height="100px">
              <img style="margin-right:10px;width: 250px;margin-bottom: 10px;" src={{payslipDetails.payslipLogo}}>
            </td>
          </tr>
        </tbody>
      </table>
    </div>
    <div style="width:950px;">
      <h6 style="font-weight: bold;text-align: center;"> {{'PAYROLL.PAYSLIPFORTHEMONTH' | translate}} {{payslipDetails.payrollMonth}}
        <fa-icon style="cursor: pointer;font-size: 14px;float: right;" *ngIf="type == 'Edit'"
          class="icon-button mat-color-accent" icon="plus"
          matTooltip="{{'PAYROLLRUNEMPLOYEECOMPONENT.ADDCOMPONENT' | translate}}"
          (click)="selectedPayRollRunEmployeeComponent(payslipDetails,false)"></fa-icon>
      </h6>
    </div>
    <div style="width:950px;border:1px solid #000;">
      <table style="width:950px">

        <tr>
          <td width="20%" class="pl-05"> {{'PAYROLL.NAME' | translate}}:</td>
          <td width="30%">{{payslipDetails.employeeName}}</td>
          <td width="20%"> {{'PAYROLL.BANKNAME' | translate}}:</td>
          <td width="30%">{{payslipDetails.bankName}}</td>

        </tr>
        <tr>
          <td width="20%" class="pl-05"> {{'PAYROLL.DATEOFJOINING' | translate}}:</td>
          <td width="30%">{{payslipDetails.dateOfJoining | date: "dd-MMM-yyyy"}}</td>
          <td width="20%"> {{'PAYROLL.BANKACCOUNTNO' | translate}}:</td>
          <td width="30%">{{payslipDetails.bankAccountNumber}}</td>
        </tr>

        <tr>
          <td width="20%" class="pl-05"> {{'PAYROLL.DESIGGNATION' | translate}}:</td>
          <td width="30%">{{payslipDetails.designation}}</td>
          <td width="20%"> {{'PAYROLL.PFNo' | translate}}:</td>
          <td width="30%">{{payslipDetails.pfNumber}}</td>
        </tr>
        <tr>
          <td width="20%" class="pl-05"> {{'PAYROLL.DEPARTMENT' | translate}}:</td>
          <td width="30%">{{payslipDetails.department}}</td>
          <td width="20%"> {{'PAYROLL.UAN' | translate}}:</td>
          <td width="30%">{{payslipDetails.uan}}</td>
        </tr>
        <tr>
          <td width="20%" class="pl-05"> {{'PAYROLL.LOCATION' | translate}}:</td>
          <td width="30%">{{payslipDetails.location}}</td>
          <td width="20%"> {{'PAYROLL.ESINo' | translate}}:</td>
          <td width="30%">{{payslipDetails.esiNumber}}</td>
        </tr>
        <tr>
          <td width="20%" class="pl-05"> {{'PAYROLL.EFFECTIVEWORKDAYS' | translate}}:</td>
          <td width="30%">{{payslipDetails.effectiveWorkingDays}}</td>
          <td width="20%"> {{'PAYROLL.PANNo' | translate}}:</td>
          <td width="30%">{{payslipDetails.panNumber}}</td>
        </tr>
        <tr>
          <td width="20%" class="pl-05"> {{'PAYROLL.DAYSINMONTH' | translate}}:</td>
          <td width="30%">{{payslipDetails.daysInMonth}}</td>
          <td width="20%"> {{'PAYROLL.LOP' | translate}}:</td>
          <td width="30%">{{payslipDetails.lop}}</td>
        </tr>

      </table>
      <table style="margin-top: -25px;width:475px;float: left;border-top: none;border-right: none;" class="mt-0">
        <tr style="border: 1px solid black; border-left: none;border-right: none;" class="payslip-table-header">
          <th width="23%" class="pl-05">{{'PAYROLL.EARNINGS' | translate}}</th>
          <th width="10%" *ngIf="includeYtd">{{'PAYROLL.YTD' | translate}}</th>
          <th width="10%">
            {{payslipDetails.payrollMonth}}</th>
          <th width="7%" width="7%" [ngClass]="earningsComponentsLength >= deductonsComponentsLength ? 'border-r': ''">
          </th>
        </tr>
        <tr *ngFor="let pay of filterComponents(false)"
          [ngStyle]="{ 'background-color': (pay.isComponentUpdated || pay.isYTDComponentUpdated) ? 'yellow' : '' }">
          <td width="23%"><span *ngIf="!pay.isDeduction">{{pay.componentName}}</span></td>
          <td width="10%" *ngIf="includeYtd"><span *ngIf="!pay.isDeduction">{{pay.full}}</span></td>
          <td width="10%"><span *ngIf="!pay.isDeduction">{{pay.actual}}</span>
          </td>
          <td width="7%" [ngClass]="earningsComponentsLength >= deductonsComponentsLength ? 'border-r': ''">
            <fa-icon *ngIf="type == 'Edit'" matTooltip="{{'PAYROLLRUNEMPLOYEECOMPONENT.EDITCOMPONENT' | translate}}"
              style="cursor: pointer;" class="icon-button mat-color-accent" icon="edit"
              (click)="selectedPayRollRunEmployeeComponent(pay,true)"></fa-icon>
            &nbsp; <fa-icon style="cursor: pointer;" icon="history" class="mat-color-accent"
              matTooltip="{{'USERSTORYUNIQUE.HISTORY' | translate}}"
              (click)="openPayRollRunEmployeeComponentHistoryDialog(pay)">
            </fa-icon>
          </td>
        </tr>
      </table>
      <table style="margin-top: -25px;width:473px;float: left;border-top: none;" class="mt-0">
        <tr style="border: 1px solid black;border-left: none;border-right: none;" class="payslip-table-header">
          <th width="23%" class="pl-05"
            [ngClass]="deductonsComponentsLength > earningsComponentsLength ? 'borderleft': ''">{{'PAYROLL.TOTALDEDUCTIONS' | translate}}</th>
          <th width="10%" *ngIf="includeYtd">{{'PAYROLL.YTD' | translate}}</th>
          <th width="10%">{{payslipDetails.payrollMonth}}</th>
          <th width="7%" width="7%"></th>
        </tr>
        <tr *ngFor="let pay of filterComponents(true)"
          [ngStyle]="{ 'background-color': (pay.isComponentUpdated || pay.isYTDComponentUpdated) ? 'yellow' : '' }">
          <td width="23%" [ngClass]="deductonsComponentsLength > earningsComponentsLength ? 'borderleft': ''"><span
              *ngIf="pay.isDeduction">{{pay.componentName}}</span>
          </td>
          <td width="10%" *ngIf="includeYtd"><span *ngIf="pay.isDeduction">{{pay.full}}</span></td>
          <td width="10%"><span *ngIf="pay.isDeduction">{{pay.actual}}</span>
          </td>
          <td width="7%">
            <fa-icon *ngIf="type == 'Edit'" style="cursor: pointer;" class="icon-button mat-color-accent" icon="edit"
              matTooltip="{{'PAYROLLRUNEMPLOYEECOMPONENT.EDITCOMPONENT' | translate}}"
              (click)="selectedPayRollRunEmployeeComponent(pay,true)"></fa-icon>
            &nbsp; <fa-icon style="cursor: pointer;" icon="history" class="mat-color-accent"
              matTooltip="{{'USERSTORYUNIQUE.HISTORY' | translate}}"
              (click)="openPayRollRunEmployeeComponentHistoryDialog(pay)"></fa-icon>
          </td>
        </tr>
      </table>
      <table
        style="margin-top: -25px;width:475px;float: left;border-top:  1px solid black;border-bottom: 1px solid black"
        class="mt-0">
        <tr>
          <td width="23%" style="font-weight: bold;">{{'PAYROLL.TOTALEARNINGS' | translate}}:<span>{{payslipDetails.currencyCode}}</span>.</td>
          <td width="10%" *ngIf="includeYtd">{{payslipDetails.totalEarningsToDate}}</td>
          <td width="10%">
            {{payslipDetails.actualEarningsToDate}}</td>
          <td width="7%" [ngClass]="earningsComponentsLength >= deductonsComponentsLength ? 'border-r': ''"></td>
        </tr>
      </table>
      <table
        style="margin-top: -25px;width:473px;float: left;border-top:  1px solid black;border-bottom: 1px solid black;"
        class="mt-0">
        <tr>
          <td width="23%" style="font-weight: bold;"
            [ngClass]="deductonsComponentsLength > earningsComponentsLength ? 'borderleft': ''">{{'PAYROLL.TOTALDEDUCTIONS' | translate}}:
            <span>{{payslipDetails.currencyCode}}</span>.
          </td>
          <td width="10%" *ngIf="includeYtd">{{payslipDetails.totalDeductionsToDate}}</td>
          <td width="10%">{{payslipDetails.actualDeductionsToDate}}</td>
          <td width="7%"></td>
        </tr>
      </table>
      <table style="border-bottom: 1px solid rgb(3, 3, 3);width: 948px;">
        <tr>
          <td width="30%" class="payslip-table-header pl-05">{{'PAYROLL.NETPAYFORTHEMONTH' | translate}} ( Total Earnings - Total Deductions):
          </td>
          <td width="38%" class="payslip-table-header pl-05 text-left">{{payslipDetails.actualNetPayAmount}}
          </td>
        </tr>
        <tr>
          <td width="30%" class="payslip-table-header pl-05">{{'PAYROLL.NETPAYFORYEAR' | translate}} ( Total Earnings - Total Deductions):
          </td>
          <td width="38%" class="payslip-table-header pl-05 text-left">{{payslipDetails.netPayAmount}}
          </td>
        </tr>
      </table>
      <table style="border-bottom: 1px solid black;width: 949px;">
        <tr>
          <td width="30%" class="payslip-table-header pl-05">{{'PAYROLL.NETPAYFORTHEMONTH' | translate}} </td>
          <td width="58%" class="payslip-table-header pl-05">({{payslipDetails.actualNetPayAmountInWords}})</td>
        </tr>
      </table>
      <p style="text-align: center;" class="mb-0 mt-05">{{'PAYROLL.SYSTEMGENERATEMESSAGE' | translate}}.</p>
    </div>
  </div>
</div>