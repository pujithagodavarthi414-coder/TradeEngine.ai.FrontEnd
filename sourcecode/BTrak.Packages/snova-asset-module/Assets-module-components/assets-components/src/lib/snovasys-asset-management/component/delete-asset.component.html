<mat-card class="p-0 mr-0">
    <mat-card-title class="text-center">
        <div class="card-title-text mat-bg-primary p-05">{{'ASSETS.REGISTERASSETDAMAGEDETAILS' | translate}}</div>
    </mat-card-title>
    <mat-card-content class="p-05">
        <form [formGroup]="assetDeleteForm" #formDirective="ngForm" novalidate
            (submit)="assetDeleteForm.valid && deleteAsset()">
            <mat-form-field class="full-width">
                <mat-select placeholder="{{'ASSETS.DAMAGEDBY' | translate}}" formControlName="damagedByUserId" required>
                    <mat-option *ngFor="let emp of selectUserDropDownListData$ | async" [value]="emp.id">
                        <app-avatar class="employee_img" *ngIf="!emp.profileImage"
                            [name]="emp.fullName | removeSpecialCharacters" [isRound]="true" size="30"></app-avatar>
                        <img class="employee_img" *ngIf="emp.profileImage" src="{{emp.profileImage}}">{{emp.fullName}}
                    </mat-option>
                </mat-select>
                <mat-error>
                    <span
                        *ngIf="assetDeleteForm.get('damagedByUserId').hasError('required') && assetDeleteForm.get('damagedByUserId').touched">
                        {{'ASSETS.PLEASESELECTTHEUSER' | translate}}</span>
                </mat-error>
            </mat-form-field>
            <mat-form-field class="full-width">
                <input matInput [matDatepicker]="picker2" placeholder="{{'ASSETS.DAMAGEDDATE' | translate}}"
                    formControlName="damagedDate" (click)="picker2.open()" [max]="maxDate" [min]="minDateForDamageDate"
                    required autocomplete="off">
                <mat-error>
                    <span
                        *ngIf="assetDeleteForm.get('damagedDate').hasError('required') && assetDeleteForm.get('damagedDate').touched">
                        {{'ASSETS.PLEASEENTERDAMAGEDDATE' | translate}}</span>
                </mat-error>
                <mat-datepicker-toggle matSuffix [for]="picker2"></mat-datepicker-toggle>
                <mat-datepicker #picker2></mat-datepicker>
            </mat-form-field>
            <mat-form-field class="full-width">
                <textarea matInput placeholder="{{'ASSETS.DAMAGEDREASON' | translate}}" formControlName="damagedReason"
                    required></textarea>
                <mat-error>
                    <span
                        *ngIf="assetDeleteForm.get('damagedReason').hasError('required') && assetDeleteForm.get('damagedReason').touched">
                        {{'ASSETS.PLEASEENTERDAMAGEDREASON' | translate}} </span>
                    <span *ngIf="assetDeleteForm.get('damagedReason').hasError('maxlength')">&nbsp;
                        {{'ASSETS.THATCANTEXCEED800CHARACTERS' | translate}}</span>
                </mat-error>
            </mat-form-field>
            <div class="text-center">
                <button mat-button mat-raised-button color="primary" class="mr-1"
                    [disabled]="!assetDeleteForm.valid || (updateAssetInProgress$ | async)">
                    <mat-progress-bar color="primary" mode="indeterminate" *ngIf="updateAssetInProgress$ | async">
                    </mat-progress-bar>
                    <fa-icon class="mr-05" icon="save"></fa-icon> {{'ASSETS.SAVE' | translate}}
                </button>
                <button mat-button mat-raised-button (click)="cancelDeletion()">
                    <fa-icon class="mr-05" icon="times"></fa-icon> {{'ASSETS.CANCEL' | translate}}
                </button>
            </div>
        </form>
    </mat-card-content>
</mat-card>