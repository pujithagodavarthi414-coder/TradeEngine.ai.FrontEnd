<div class="custom-dialog">
    <div class="custom-close" mat-dialog-close (click)="cancelDialog()">
        <fa-icon icon="times" class="project-dialog"></fa-icon>
    </div>
</div>
<div class="mt-1 invoice-upsert-form" id="style-1">
    <div class="p-4 m-4">
        <div>
            <b>To:</b>&nbsp; {{grEDetails?.email }}
        </div>
        <div>
            <b>Subject:</b>&nbsp; Facture {{grEDetails?.month | date: 'MMMM , y' : 'fr-FR'}} Photon One
        </div>
        <div>
            <b>Body :</b>
            <div>
                <p>Ce mail a été généré automatiquement, ne pas répondre SVP.</p>
                <p>Pour toute communication: mfs.merchant.finance@gmail.com</p>
                <br>
                <p>Bonjour,</p>
                <p *ngIf="isThankyou">{{thankyouMessage}}</p>
                <br>
                <!-- <p>Merci pour votre règlement de notre dernière facture.
                <p> -->
                <p>Facture</p>
                <p>A réception du décompte de {{grEDetails?.grdName}} veuillez trouver en p.j. notre facture et annexes.
                </p>
                <br>
                <p>Auto Consommation :</p>
                <p>Total site {{total}}</p>
                <!-- <p>Très stable</p> -->
                <br>
                <p>PV :</p>
                <!-- <p>Production {{production}} ({{grEDetails?.month | date: 'mediumDate'}}) kWh soit {{K12Value | number: '1.1-2'}}% du PV Syst (bien!)</p> -->
                <p>Production {{production| number: '1.0'}}kWh (vs {{K12Value | number: '1.0'}}kWh PV Syst) soit {{soitPercent | number : '1.1-2'}}%. </p>
                <p>Autoconsommation {{autoConsumption | number: '1.0'}}kWh ( vs {{budgetValue | number: '1.0'}}kWh budget) soit {{budegtPercent | number : '1.1-2'}}% de la production PV.</p>
                <br>
                <p *ngIf="grEDetails?.outStandingAmount > 0 && isRemainder == true">{{remainderMessage}} {{grEDetails?.outStandingAmount | number: '1.2'}}</p>
                <p *ngIf="isGeneral">{{generalMessage}}</p>
                <p>Nous restons à votre disposition pour tout complément d'information et vous remercions de votre
                    collaboration. </p>
                <br>
                <pre style="font-size: 15px;font-family: 'Roboto';">Meilleures salutations,
Photon One SA
Nicolas Sanchez, Administrateur
+41 79 221 71 42</pre>
            </div>
        </div>
        <div>
            <b>Upload File</b>
            <app-dropzone [moduleTypeId]="moduleTypeId" [referenceTypeId]="referenceTypeId" [getFilesByReferenceId]="true"
                [referenceId]="entryFromReferenceId" [selectedParentFolderId]="selectedParentFolderId"
                [selectedStoreId]="selectedStoreId" [isButtonVisible]="true" (isFilesExist)="filesExist($event)"
                (closeFilePopup)="closeFilePopup()" [isToUploadFiles]="true">
            </app-dropzone>
        </div>
        <div>
            <div fxFlex fxLayoutAlign="end center">
                <button mat-raised-button color="primary" type="button" (click)="sendMail()" [disabled]="isAnyOperationIsInprogress">
                    <mat-progress-bar color="primary" mode="indeterminate" *ngIf="isAnyOperationIsInprogress">
                    </mat-progress-bar>
                    <fa-icon mat-icon-button class="mr-05" icon="envelope"></fa-icon>
                    Send Mail
                </button>
            </div>
        </div>
    </div>
</div>