<mat-progress-bar color="primary" mode="indeterminate" *ngIf="savingVendorInProgress$ | async"> </mat-progress-bar>
<mat-card-title class="text-center">
    <div class="card-title-text mat-bg-primary p-05" *ngIf="!editVendor">{{'ASSETS.ADDNEWVENDOR' | translate}}</div>
    <div class="card-title-text mat-bg-primary p-05" *ngIf="editVendor">{{'ASSETS.EDITVENDOR' | translate}}</div>
</mat-card-title>
<form [formGroup]="vendorForm" novalidate #formDirective="ngForm" (submit)="vendorForm.valid && saveVendor()">
    <div class="custom-mobile-popover p-1">
        <div fxLayout="row" fxLayout.xs="column" fxLayoutGap="5px">
            <div fxFlex="50" fxFlex.xs="100">
                <mat-form-field class="full-width">
                    <input matInput formControlName="supplierName" (keypress)="omitSpecialChar($event)"
                        placeholder="{{'ASSETS.VENDORNAME' | translate}}" required>
                    <mat-error>
                        <span
                            *ngIf="vendorForm.get('supplierName').hasError('required') && vendorForm.get('supplierName').touched">
                            {{'ASSETS.PLEASEENTERVENDORNAME' | translate}}</span>
                        <span *ngIf="vendorForm.get('supplierName').hasError('maxlength')">&nbsp;
                            {{'ASSETS.SHOULDNOTEXCEED50CHARACTERS' | translate}}</span>
                    </mat-error>
                </mat-form-field>
            </div>
            <div fxFlex="50" fxFlex.xs="100">
                <mat-form-field class="full-width">
                    <input matInput formControlName="supplierCompanyName"
                        placeholder="{{'ASSETS.COMPANYNAME' | translate}}">
                    <mat-error>
                        <span *ngIf="vendorForm.get('supplierCompanyName').hasError('maxlength')">
                            {{'ASSETS.SHOULDNOTEXCEED250CHARACTERS' | translate}}</span>
                    </mat-error>
                </mat-form-field>
            </div>
        </div>
        <div fxLayout="row" fxLayout.xs="column" fxLayoutGap="5px">
            <div fxFlex="50" fxFlex.xs="100">
                <mat-form-field class="full-width">
                    <input matInput formControlName="startedWorkingFrom" [matDatepicker]="picker3"
                        (click)="picker3.open()" placeholder="{{'ASSETS.STARTEDWORKINGFROM' | translate}}"
                        [max]="maxStartedWorkingDate" required autocomplete="off">
                    <mat-datepicker-toggle matSuffix [for]="picker3"></mat-datepicker-toggle>
                    <mat-datepicker #picker3></mat-datepicker>
                    <mat-error>
                        <span
                            *ngIf="vendorForm.get('startedWorkingFrom').hasError('required') && vendorForm.get('startedWorkingFrom').touched">
                            {{'ASSETS.PLEASESELECTADATE' | translate}}</span>
                    </mat-error>
                </mat-form-field>
            </div>
            <div fxFlex="50" fxFlex.xs="100">
                <mat-form-field class="full-width">
                    <input matInput formControlName="contactPosition" (keypress)="omitSpecialChar($event)"
                        placeholder="{{'ASSETS.CONTACTPOSITION' | translate}}">
                    <mat-error>
                        <span *ngIf="vendorForm.get('contactPosition').hasError('maxlength')">
                            {{'ASSETS.SHOULDNOTEXCEED250CHARACTERS' | translate}}</span>
                    </mat-error>
                </mat-form-field>
            </div>

        </div>
        <div fxLayout="row" fxLayout.xs="column" fxLayoutGap="5px">
            <div fxFlex="50" fxFlex.xs="100">
                <mat-form-field class="full-width">
                    <input matInput formControlName="companyPhoneNumber"
                        placeholder="{{'ASSETS.COMPANYPHONENUMBER' | translate}}" mobileNumber autocomplete="off">
                    <mat-error>
                        <span *ngIf="vendorForm.get('companyPhoneNumber').hasError('maxlength')">
                            {{'ASSETS.SHOULDNOTEXCEED20DIGITS' | translate}}
                        </span>
                    </mat-error>
                </mat-form-field>
            </div>
            <div fxFlex="50" fxFlex.xs="100">
                <mat-form-field class="full-width">
                    <input matInput formControlName="contactPhoneNumber"
                        placeholder="{{'ASSETS.CONTACTPHONENUMBER' | translate}}" mobileNumber autocomplete="off">
                    <mat-error>
                        <span *ngIf="vendorForm.get('contactPhoneNumber').hasError('maxlength')">
                            {{'ASSETS.SHOULDNOTEXCEED20DIGITS' | translate}}
                        </span>
                    </mat-error>
                </mat-form-field>
            </div>
        </div>
        <div fxLayout="row" fxLayout.xs="column" fxLayoutGap="5px">
            <div fxFlex="50" fxFlex.xs="100">
                <mat-form-field class="full-width">
                    <input matInput formControlName="vendorIntroducedBy" (keypress)="omitSpecialChar($event)"
                        placeholder="{{'ASSETS.VENDORINTRODUCEDBY' | translate}}">
                    <mat-error>
                        <span *ngIf="vendorForm.get('vendorIntroducedBy').hasError('maxlength')">
                            {{'ASSETS.SHOULDNOTEXCEED250CHARACTERS' | translate}}</span>
                    </mat-error>
                </mat-form-field>
            </div>
            <div fxFlex="50" fxFlex.xs="100">
                <mat-form-field class="full-width">
                    <input matInput formControlName="contactPerson" (keypress)="omitSpecialChar($event)"
                        placeholder=" {{'ASSETS.CONTACTPERSON' | translate}}">
                    <mat-error>
                        <span *ngIf="vendorForm.get('contactPerson').hasError('maxlength')">
                            {{'ASSETS.SHOULDNOTEXCEED250CHARACTERS' | translate}}
                        </span>
                    </mat-error>
                </mat-form-field>
            </div>
        </div>
    </div>
    <div fxLayout="row" fxLayout.xs="column" fxLayoutGap="5px" fxLayoutAlign="space-evenly center">
        <div class="text-center mb-1">
            <button type="submit" [disabled]="!vendorForm.valid || (anyOperationInProgress$ | async)" mat-button
                mat-raised-button color="primary" class="mr-1">
                <mat-progress-bar color="primary" mode="indeterminate" *ngIf="savingVendorInProgress$ | async">
                </mat-progress-bar>
                <fa-icon class="mr-05" icon="save"></fa-icon>
                {{'ASSETS.SAVE' | translate}}
            </button>
            <button mat-button mat-raised-button type="reset" (click)="closeDialog()"
                [disabled]="savingVendorInProgress$ | async">
                <fa-icon class="mr-05" icon="times"></fa-icon> {{'ASSETS.CANCEL' | translate}}
            </button>
        </div>
    </div>
</form>