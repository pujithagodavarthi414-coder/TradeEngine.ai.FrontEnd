<mat-card class="p-02 m-0" id="productivity-2">
    <div fxFlex="100" fxLayout="row wrap" fxLayout.xs="column" fxLayoutAlign.xs="center center"
        fxLayoutGap="10px" style="height:60px">
        <!-- <div fxFlex="35" fxLayout="row wrap" fxLayoutAlign="start center" fxLayoutAlign.lt-md="center center"
            fxFlex.sm="100">
            <div id="productivity-3" fxLayout="row wrap">
                <div class="mb-05">
                    <button mat-raised-button (click)="dayTypeForTimeUsage('day')"
                        color="{{primaryDay}}">{{'ACTIVITYTRACKER.DAY' | translate}}</button>
                </div>
                <div class="mb-05" *ngIf="!isTrailExpired">
                    <button mat-raised-button (click)="dayTypeForTimeUsage('week')"
                        color="{{primaryWeek}}">{{'ACTIVITYTRACKER.WEEK' | translate}}</button>
                </div>
                <div class="mb-05">
                    <button mat-raised-button (click)="dayTypeForTimeUsage('month')"
                        color="{{primaryMonth}}">{{'ACTIVITYTRACKER.MONTH' | translate}}</button>
                </div>
                <div class="mb-05">
                    <button mat-raised-button (click)="dayTypeForTimeUsage('daterange')"
                        color="{{primaryDateRange}}">{{'ACTIVITYTRACKER.DATERANGE' | translate}}
                    </button>
                </div>
            </div>
        </div> -->
        <div fxFlex fxLayout="row wrap">
            <div fxFlex fxLayout="row wrap" fxLayoutAlign="center center" fxLayoutAlign.xs="center center"
                fxLayoutAlign.sm="end center" *ngIf="day">
                <div fxLayout="row nowrap">
                    <fa-icon matTooltip="{{'TIMESHEET.ONEWEEKBACKWARD' | translate}}"
                        *ngIf="(!isTrailExpired || !isPreviousDisable) && (dayCount == 7)"
                        (click)="timeSheetDetailsForDay('backward','week')" class="mr-05 icon-button"
                        icon="angle-double-left">
                    </fa-icon>
                    <fa-icon matTooltip="{{'TIMESHEET.ONEDAYBACKWARD' | translate}}"
                        *ngIf="!isTrailExpired || !isPreviousDisable"
                        (click)="timeSheetDetailsForDay('backward','day');previous()" class="mr-05 icon-button"
                        icon="chevron-left">
                    </fa-icon>
                </div>
                <div class="reports-date-width">
                    <input matInput [matDatepicker]="picker1" (dateChange)="onDateChange($event)" [max]="maxDate"
                        class="date-picker" (click)="picker1.open()" [(ngModel)]="dateToday" [readonly]="true">
                    <mat-datepicker #picker1></mat-datepicker>
                </div>
                <div [hidden]="!dispalyForward" fxLayout="row nowrap" fxLayoutAlign="start center">
                    <fa-icon matTooltip="{{'TIMESHEET.ONEDAYFORWARD' | translate}}"
                        (click)="timeSheetDetailsForDay('forward','day');next()" class="ml-05 icon-button"
                        icon="chevron-right">
                    </fa-icon>
                    <fa-icon matTooltip="{{'TIMESHEET.ONEWEEKFORWARD' | translate}}"
                        (click)="timeSheetDetailsForDay('forward','week')" class="ml-05 icon-button"
                        icon="angle-double-right">
                    </fa-icon>
                </div>
            </div>
            <div *ngIf="week" fxFlex fxLayoutAlign="center center">
                <fa-icon (click)="getWeekBasedOnDate('left')" class="icon-button" icon="chevron-left"
                    *ngIf="!isTrailExpired"></fa-icon>
                <span class="month-display-elsement">&nbsp;&nbsp;&nbsp;&nbsp;{{selectedWeek | date: "MMM -
                    yyyy"}}&nbsp;&nbsp;</span><span *ngIf="weekNumber"
                    class="month-display-elsement">W{{weekNumber}}&nbsp;&nbsp;&nbsp;&nbsp;</span>
                <fa-icon (click)="getWeekBasedOnDate('right')" class="icon-button" icon="chevron-right"
                    [hidden]="!dispalyForward">
                </fa-icon>
            </div>
            <div *ngIf="month" fxFlex fxLayoutAlign="center center">
                <fa-icon (click)="getMonthBasedOnDate('left')" class="icon-button" icon="chevron-left">
                </fa-icon>
                <span class="month-display-elsement">&nbsp;&nbsp;&nbsp;&nbsp;{{selectedMonth | date:
                    "MMM-yyyy"}}&nbsp;&nbsp;&nbsp;&nbsp;</span>
                <fa-icon (click)="getMonthBasedOnDate('right')" class="icon-button" icon="chevron-right"
                    [hidden]="!dispalyForward">
                </fa-icon>
            </div>
            <div *ngIf="dateRange" fxLayout="row" fxLayout.xs="column" fxLayoutAlign="center center" fxLayoutGap="10px">
                <div fxFlex="48" fxFlex.sm="50" fxFlex.xs="100">
                    <mat-form-field color="accent">
                        <mat-label>{{ 'PERMISSIONHISTORY.FROMDATE' | translate }}</mat-label>
                        <input matInput [matDatepicker]="picker1" autocomplete="off" (click)="picker1.open()"
                            (dateChange)="dateFromChanged($event)" class="date-picker" [(ngModel)]="fromDate"
                            [min]="minDateOnTrailExpired" [max]="maxDate" [readonly]="true">
                        <mat-datepicker-toggle matSuffix [for]="picker1"></mat-datepicker-toggle>
                        <mat-datepicker #picker1></mat-datepicker>
                    </mat-form-field>
                </div>
                <div fxFlex="47" fxFlex.sm="40" fxFlex.xs="100">
                    <mat-form-field color="accent">
                        <mat-label>{{ 'PERMISSIONHISTORY.TODATE' | translate }}</mat-label>
                        <input matInput [matDatepicker]="picker2" autocomplete="off" [min]="minDate"
                            (click)="picker2.open()" (dateChange)="dateToChanged($event)" class="date-picker"
                            [max]="maxDate" [(ngModel)]="toDate" [readonly]="true">
                        <mat-datepicker-toggle matSuffix [for]="picker2"></mat-datepicker-toggle>
                        <mat-datepicker #picker2></mat-datepicker>
                    </mat-form-field>
                </div>
            </div>
        </div>
        <div fxFlex="10" fxLayoutAlign="end center" fxLayout="row nowrap" class="mr-0">
            <button type="submit" mat-icon-button (click)="filterClick()" [matMenuTriggerFor]="filterMenu">
                <fa-icon icon="filter" class="filter mat-color-accent"  matTooltip=" {{'HRMANAGAMENT.ADVANCESEARCH' | translate}}">
                </fa-icon>
            </button>
            <button mat-icon-button (click)="resetAllFilters()">
                <fa-icon matTooltip="{{'RESET' | translate}}" class="filter mat-color-accent" icon="undo">
                </fa-icon>
            </button>
        </div>
        <mat-menu #filterMenu="matMenu" class="filter-panel p-1" (click)="$event.stopPropagation()">
            <form [formGroup]="selectFilter" class="display-form-custom">
                <div class="mr-05" *ngIf="reportType != 2">
                    <mat-form-field class="full-width" (click)="$event.stopPropagation();">
                        <mat-select multiple formControlName="userIds"
                            placeholder="{{'RESOURCEUSAGEREPORT.SELECTUSER' | translate}}"
                            (selectionChange)="getSelectedEmployees()">
                            <mat-select-trigger>
                                {{selectedUsers}}
                            </mat-select-trigger>
                            <mat-option #allEmployeeSelected (click)="toggleAllEmployeesSelected();" [value]="0">
                                {{ 'PERMISSIONMANAGEMENT.SELECTALL' | translate }}</mat-option>
                            <mat-option #allEmployeeSelected (click)="toggleEmployeePerOne();" value="option"
                                *ngFor="let employee of employeeListDataDetails" [value]="employee.userId">
                                <div fxLayout="row wrap" fxLayoutGap="5px">
                                    <div fxFlex="35px">
                                        <app-avatar [name]="employee.userName | removeSpecialCharacters"
                                            [src]="employee.profileImage" [isRound]="true" size="30">
                                        </app-avatar>
                                    </div>
                                    <div fxFlex>
                                        <p class="mat-body-2">
                                            {{employee.userName}}
                                        </p>
                                    </div>
                                </div>
                            </mat-option>
                        </mat-select>
                    </mat-form-field>
                </div>
                <div class="mr-05">
                    <mat-form-field class="full-width" (click)="$event.stopPropagation();">
                        <mat-select formControlName="projectIds"
                            placeholder="{{'RESOURCEUSAGEREPORT.SELECTPROJECT' | translate | softLabelsPipe : softLabels}}"
                            multiple (selectionChange)="selectProject()">
                            <mat-select-trigger>
                                {{selectedProjects}}
                            </mat-select-trigger>
                            <mat-option [value]="0" #allProjectsSelected (click)="toggleAllProjectsSelection()">
                                {{'ADVANCEDSEARCH.SELECTALL' | translate}}
                            </mat-option>
                            <mat-option [value]="proj.projectId"
                                (click)="toggleProjectsSelected(allProjectsSelected.value)"
                                *ngFor="let proj of (projectSearchResults$ | async | projectOrder)">
                                {{ proj.projectName }}
                            </mat-option>
                        </mat-select>
                    </mat-form-field>
                </div>
                <div class="mr-05">
                    <mat-form-field class="full-width" (click)="$event.stopPropagation();">
                        <mat-select formControlName="goalIds"
                            placeholder="{{'RESOURCEUSAGEREPORT.SELECTGOAL' | translate | softLabelsPipe : softLabels}}"
                            multiple (selectionChange)="selectGoal()">
                            <mat-select-trigger>
                                {{selectedGoals}}
                            </mat-select-trigger>
                            <mat-option [value]="0" #allGoalsSelected (click)="toggleAllGoalsSelection()">
                                {{'ADVANCEDSEARCH.SELECTALL' | translate}}
                            </mat-option>
                            <mat-option [value]="goal.goalId" (click)="toggleGoalsSelected(allGoalsSelected.value)"
                                *ngFor="let goal of goalsList">
                                {{ goal.goalName }}
                            </mat-option>
                        </mat-select>
                    </mat-form-field>
                </div>
                <!-- <div class="pm-reports-date-filter">
                    <button  mat-raised-button color="primary" (click)="dateFilterOpen()">Date filter</button>
                </div> -->
            </form>
        </mat-menu>
    </div>
    <mat-divider *ngIf="filterStatus()"></mat-divider>
    <div fxFlex fxLayout="row wrap">
        <mat-divider *ngIf="!filterStatus()"></mat-divider>
        <div fxFlex fxLayout="row wrap" fxLayoutAlign="center center"  class="p-03" id="productivity-3" >
            <div class="mb-05">
                <button mat-raised-button (click)="dayTypeForTimeUsage('day')"
                    color="{{primaryDay}}">{{'ACTIVITYTRACKER.DAY' | translate}}</button>
            </div>
            <div class="mb-05" *ngIf="!isTrailExpired">
                <button mat-raised-button (click)="dayTypeForTimeUsage('week')"
                    color="{{primaryWeek}}">{{'ACTIVITYTRACKER.WEEK' | translate}}</button>
            </div>
            <div class="mb-05">
                <button mat-raised-button (click)="dayTypeForTimeUsage('month')"
                    color="{{primaryMonth}}">{{'ACTIVITYTRACKER.MONTH' | translate}}</button>
            </div>
            <div class="mb-05">
                <button mat-raised-button (click)="dayTypeForTimeUsage('daterange')"
                    color="{{primaryDateRange}}">{{'ACTIVITYTRACKER.DATERANGE' | translate}}
                </button>
            </div>
        </div>
        <!-- <div fxFlex="5" fxLayoutAlign="end center">
            <button mat-icon-button (click)="closeDateFilter()"
            matTooltip="Close date filter">
            <fa-icon icon="times" class="filter mat-color-accent">
            </fa-icon>
        </button>
        </div> -->
    </div>
    
    <!-- <mat-divider *ngIf="filterStatus()"></mat-divider>
    <div class="pt-2" *ngIf="filterStatus()" fxLayout="row wrap">
        <mat-chip disableRipple matRipple *ngIf="fromDate && dateRange" class="ml-05 m03">
            <div>
                <b>{{'PERMISSIONHISTORY.FROMDATE' | translate}}:</b>&nbsp;{{fromDate | date:"d MMM, y"}}
            </div>
        </mat-chip>
        <mat-chip disableRipple matRipple *ngIf="toDate && dateRange" class="ml-05 m03">
            <div>
                <b>{{'PERMISSIONHISTORY.TODATE' | translate}}:</b>&nbsp;{{toDate | date:"d MMM, y"}}
            </div>
        </mat-chip>
        <mat-chip disableRipple matRipple *ngIf="selectedUsers" class="ml-05 m03" fxLayout="row">
            <div>
                <b>{{'RESOURCEUSAGEREPORT.USER' | translate}}:</b>&nbsp;{{selectedUsers}}
            </div>
            <div (click)="resetUsers()" class="cursor-pointer ml-01">
                <fa-icon icon="times" class="times-on-hover"></fa-icon>
            </div>
        </mat-chip>
        <mat-chip disableRipple matRipple *ngIf="selectedProjects" class="ml-05 m03" fxLayout="row">
            <div>
                <b>{{'RESOURCEUSAGEREPORT.PROJECT' | translate}}:</b>&nbsp;{{selectedProjects}}
            </div>
            <div (click)="resetProjects()" class="cursor-pointer ml-01">
                <fa-icon icon="times" class="times-on-hover"></fa-icon>
            </div>
        </mat-chip>
        <mat-chip disableRipple matRipple *ngIf="selectedGoals" class="ml-05 m03" fxLayout="row">
            <div>
                <b>{{'RESOURCEUSAGEREPORT.GOAL' | translate}}:</b>&nbsp;{{selectedGoals}}
            </div>
            <div (click)="resetGoals()" class="cursor-pointer ml-01">
                <fa-icon icon="times" class="times-on-hover"></fa-icon>
            </div>
        </mat-chip>
    </div> -->

</mat-card>