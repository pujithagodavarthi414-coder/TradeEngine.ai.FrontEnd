<div class="p-05">
  <mat-progress-bar color="primary" mode="indeterminate" *ngIf="(anyOperationInProgress$ | async)">
  </mat-progress-bar>

  <div class="p-0 advancedsearch_data custom-box allgoals-bg mb-05"
    *ngIf="(canAccess_feature_AllGoals && canAccess_feature_AllGoalsWithAdvancedSearch)">
    <div fxLayout="row" fxLayout.xs="column" fxLayoutGap="0" fxLayoutGap.xs="10px">
      <div fxFlex fxLayoutAlign="start center">
        <div style="overflow: hidden;height: 32px;">
          <mat-label>
            <mat-chip disableRipple matRipple class="mr-08 mb-05" *ngIf="filterName">
              <b>Filter name </b>:{{filterName}}
            </mat-chip>
            <mat-chip disableRipple matRipple class="mr-08 mb-05" *ngIf="filtersData && filtersData.selectedOwners">
              <b>{{'ADVANCEDSEARCH.WORKITEMASSIGNEE'| translate | softLabelsPipe : softLabels}}
              </b>: <span *ngIf="filtersData && filtersData.selectedOwners.length > 50"
                matTooltip="{{filtersData && filtersData.selectedOwners}}">
                {{filtersData && filtersData.selectedOwners | slice:0:50}}...
              </span>
              <span *ngIf="filtersData && filtersData.selectedOwners.length < 50">
                {{filtersData && filtersData.selectedOwners}}
              </span>
              <fa-icon icon="times" class="ml-05 mat-color-accent cursor-pointer" (click)="clearWorkItemFilter()">
              </fa-icon>
            </mat-chip>
            <mat-chip disableRipple matRipple class="mr-08 mb-05" *ngIf="filtersData && filtersData.selectedUsers">
              <b>{{ 'ADVANCEDSEARCH.GOALRESPONSIBLEPERSON'| translate | softLabelsPipe : softLabels}} </b>:
              <span *ngIf="filtersData && filtersData.selectedUsers.length > 50"
                matTooltip="{{filtersData && filtersData.selectedUsers}}">
                {{filtersData && filtersData.selectedUsers | slice:0:50}}...
              </span>
              <span *ngIf="filtersData && filtersData.selectedUsers.length < 50">
                {{filtersData && filtersData.selectedUsers}}
              </span>
              <fa-icon icon="times" class="ml-05 mat-color-accent cursor-pointer" (click)="clearResponsibleFilter()">
              </fa-icon>
            </mat-chip>
             <mat-chip disableRipple matRipple class="mr-08 mb-05"
              *ngIf="filtersData && filtersData.selectedSprintUsers && isSprintsEnable">
              <b>{{ 'ADVANCEDSEARCH.SPRINTRESPONSIBLEPERSON'| translate | softLabelsPipe : softLabels}} </b>:
              <span *ngIf="filtersData && filtersData.selectedSprintUsers.length > 50"
                matTooltip="{{filtersData && filtersData.selectedSprintUsers}}">
                {{filtersData && filtersData.selectedSprintUsers | slice:0:50}}...
              </span>
              <span *ngIf="filtersData && filtersData.selectedSprintUsers.length < 50">
                {{filtersData && filtersData.selectedSprintUsers}}
              </span>
              <fa-icon icon="times" class="ml-05 mat-color-accent cursor-pointer"
                (click)="clearSprintResponsibleFilter()">
              </fa-icon>
            </mat-chip> 
            <mat-chip disableRipple matRipple class="mr-08 mb-05" *ngIf="filtersData && filtersData.selectedProjects">
              <b>{{ 'ADVANCEDSEARCH.PROJECTS' | translate |softLabelsPipe : softLabels}} </b>:
              <span *ngIf="filtersData && filtersData.selectedProjects.length > 50"
                matTooltip="{{filtersData && filtersData.selectedProjects}}">
                {{filtersData && filtersData.selectedProjects | slice:0:50}}...
              </span>
              <span *ngIf="filtersData && filtersData.selectedProjects.length < 50">
                {{filtersData && filtersData.selectedProjects}}
              </span>
              <fa-icon icon="times" class="ml-05 mat-color-accent cursor-pointer" (click)="clearProjects()">
              </fa-icon>
            </mat-chip>
            <mat-chip disableRipple matRipple class="mr-08 mb-05" *ngIf="filtersData && filtersData.selectedGoalStatus">
              <b>{{'ADVANCEDSEARCH.GOALSTATUS' | translate | softLabelsPipe : softLabels}} </b>:
              <span *ngIf="filtersData && filtersData.selectedGoalStatus.length > 50"
                matTooltip="{{filtersData && filtersData.selectedGoalStatus}}">
                {{filtersData && filtersData.selectedGoalStatus | slice:0:50}}...
              </span>
              <span *ngIf="filtersData && filtersData.selectedGoalStatus.length < 50">
                {{filtersData && filtersData.selectedGoalStatus}}
              </span>
              <fa-icon icon="times" class="ml-05 mat-color-accent cursor-pointer" (click)="clearGoalFilter()">
              </fa-icon>
            </mat-chip>
             <mat-chip disableRipple matRipple class="mr-08 mb-05"
              *ngIf="filtersData && filtersData.selectedSprintStatus && isSprintsEnable">
              <b>{{'ADVANCEDSEARCH.SPRINTSTATUS' | translate | softLabelsPipe : softLabels}} </b>:
              <span *ngIf="filtersData && filtersData.selectedSprintStatus.length > 50"
                matTooltip="{{filtersData && filtersData.selectedSprintStatus}}">
                {{filtersData && filtersData.selectedSprintStatus | slice:0:50}}...
              </span>
              <span *ngIf="filtersData && filtersData.selectedSprintStatus.length < 50">
                {{filtersData && filtersData.selectedSprintStatus}}
              </span>
              <fa-icon icon="times" class="ml-05 mat-color-accent cursor-pointer" (click)="clearSprintFilter()">
              </fa-icon>
            </mat-chip> 
            <mat-chip disableRipple matRipple class="mr-08 mb-05"
              *ngIf="filtersData && filtersData.selectedUserStoryStatus">
              <b>{{'ADVANCEDSEARCH.WORKITEMSTATUS'| translate | softLabelsPipe : softLabels}} </b>:
              <span *ngIf="filtersData && filtersData.selectedUserStoryStatus.length > 50"
                matTooltip="{{filtersData && filtersData.selectedUserStoryStatus}}">
                {{filtersData && filtersData.selectedUserStoryStatus | slice:0:50}}...
              </span>
              <span *ngIf="filtersData && filtersData.selectedUserStoryStatus.length < 50">
                {{filtersData && filtersData.selectedUserStoryStatus}}
              </span>
              <fa-icon icon="times" class="ml-05 mat-color-accent cursor-pointer"
                (click)="clearUserStoryStatusFilter()">
              </fa-icon>
            </mat-chip>
            <mat-chip disableRipple matRipple class="mr-08 mb-05" *ngIf="filtersData && filtersData.goalShortName">
              <b>{{ 'ADVANCEDSEARCH.GOALNAME' | translate | softLabelsPipe : softLabels}} </b>:
              {{filtersData && filtersData.goalShortName}}
              <fa-icon icon="times" class="ml-05 mat-color-accent cursor-pointer" (click)="clearGoalName()">
              </fa-icon>
            </mat-chip>
             <mat-chip disableRipple matRipple class="mr-08 mb-05"
              *ngIf="filtersData && filtersData.sprintName && isSprintsEnable">
              <b>{{ 'QAPERFORMANCE.SPRINTNAME' | translate | softLabelsPipe : softLabels}} </b>:
              {{filtersData && filtersData.sprintName}}
              <fa-icon icon="times" class="ml-05 mat-color-accent cursor-pointer" (click)="clearSprintName()">
              </fa-icon>
            </mat-chip>
            <mat-chip disableRipple matRipple class="mr-08 mb-05" *ngIf="filtersData && filtersData.goalTags">
              <b>{{'ADVANCEDSEARCH.GOALTAGS' | translate }} </b>: {{filtersData && filtersData.goalTags}}
              <fa-icon icon="times" class="ml-05 mat-color-accent cursor-pointer" (click)="clearGoalTags()">
              </fa-icon>
            </mat-chip>
            <mat-chip disableRipple matRipple class="mr-08 mb-05" *ngIf="filtersData && filtersData.workItemTags">
              <b>{{'ADVANCEDSEARCH.WORKITEMTAGS' | translate }} </b>: {{filtersData && filtersData.workItemTags}}
              <fa-icon icon="times" class="ml-05 mat-color-accent cursor-pointer" (click)="clearWorkItems()">
              </fa-icon>
            </mat-chip>
            <mat-chip disableRipple matRipple class="mr-08 mb-05" *ngIf="filtersData && filtersData.dateFrom">
              <b>{{ 'ADVANCEDSEARCH.DEADLINEDATEFROM' | translate | softLabelsPipe : softLabels}} </b>:
              {{filtersData && filtersData.dateFrom | date: 'dd-MMM-yyyy' }}
              <fa-icon icon="times" class="ml-05 mat-color-accent cursor-pointer" (click)="clearDateFrom()">
              </fa-icon>
            </mat-chip>
            <mat-chip matRipple class="mr-08 mb-05" *ngIf="filtersData && filtersData.dateTo">
              <b>{{ 'ADVANCEDSEARCH.DEADLINEDATETO' | translate | softLabelsPipe : softLabels }}</b> :
              {{filtersData && filtersData.dateTo | date: 'dd-MMM-yyyy' }}
              <fa-icon icon="times" class="ml-05 mat-color-accent cursor-pointer" (click)="clearDateTo()">
              </fa-icon>
            </mat-chip>
            <mat-chip disableRipple matRipple class="mr-08 mb-05"
              *ngIf="filtersData && filtersData.sprintStartDate && isSprintsEnable">
              <b>{{ 'ADVANCEDSEARCH.SPRINTSTARTDATE' | translate | softLabelsPipe : softLabels}} </b>:
              {{filtersData && filtersData.sprintStartDate | date: 'dd-MMM-yyyy' }}
              <fa-icon icon="times" class="ml-05 mat-color-accent cursor-pointer" (click)="clearSprintStartDate()">
              </fa-icon>
            </mat-chip>
            <mat-chip matRipple class="mr-08 mb-05" *ngIf="filtersData && filtersData.sprintEndDate && isSprintsEnable">
              <b>{{ 'ADVANCEDSEARCH.SPRINTENDDATE' | translate | softLabelsPipe : softLabels }}</b> :
              {{filtersData && filtersData.sprintEndDate | date: 'dd-MMM-yyyy' }}
              <fa-icon icon="times" class="ml-05 mat-color-accent cursor-pointer" (click)="clearSprintEndDate()">
              </fa-icon>
            </mat-chip>
            <mat-chip matRipple class="mr-08 mb-05" *ngIf="filtersData && filtersData.dependencyUserIds">
              <b>{{ 'ADVANCEDSEARCH.DEPENDENCYUSER' | translate | softLabelsPipe : softLabels }}</b> :
              <span *ngIf="filtersData && filtersData.selectedDependencyUsers.length > 50"
                matTooltip="{{filtersData && filtersData.selectedDependencyUsers}}">
                {{filtersData && filtersData.selectedDependencyUsers | slice:0:50}}...
              </span>
              <span *ngIf="filtersData && filtersData.selectedDependencyUsers.length < 50">
                {{filtersData && filtersData.selectedDependencyUsers}}
              </span>
              <fa-icon icon="times" class="ml-05 mat-color-accent cursor-pointer" (click)="clearDependencyUser()">
              </fa-icon>
            </mat-chip>
            <mat-chip matRipple class="mr-08 mb-05" *ngIf="filtersData && filtersData.bugCausedUserIds">
              <b>{{ 'ADVANCEDSEARCH.BUGCAUSEDUSER' | translate | softLabelsPipe : softLabels }}</b> :
              <span *ngIf="filtersData && filtersData.selectedBugCausedUsers.length > 50"
                matTooltip="{{filtersData && filtersData.selectedBugCausedUsers}}">
                {{filtersData && filtersData.selectedBugCausedUsers | slice:0:50}}...
              </span>
              <span *ngIf="filtersData && filtersData.selectedBugCausedUsers.length < 50">
                {{filtersData && filtersData.selectedBugCausedUsers}}
              </span>
              <fa-icon icon="times" class="ml-05 mat-color-accent cursor-pointer" (click)="clearBugCausedUser()">
              </fa-icon>
            </mat-chip>
            <mat-chip matRipple class="mr-08 mb-05" *ngIf="filtersData && filtersData.userStoryTypeIds">
              <b>{{ 'ADVANCEDSEARCH.USERSTORYTYPES' | translate | softLabelsPipe : softLabels }}</b> :
              <span *ngIf="filtersData && filtersData.selectedUserStoryTypes.length > 50"
                matTooltip="{{filtersData && filtersData.selectedUserStoryTypes}}">
                {{filtersData && filtersData.selectedUserStoryTypes | slice:0:50}}...
              </span>
              <span *ngIf="filtersData && filtersData.selectedUserStoryTypes.length < 50">
                {{filtersData && filtersData.selectedUserStoryTypes}}
              </span>
              <fa-icon icon="times" class="ml-05 mat-color-accent cursor-pointer" (click)="clearWorkItemTypes()">
              </fa-icon>
            </mat-chip>
            <mat-chip matRipple class="mr-08 mb-05" *ngIf="filtersData && filtersData.userStoryName">
              <b>{{ 'ADVANCEDSEARCH.USERSTORYNAME' | translate | softLabelsPipe : softLabels }}</b> :
              {{filtersData && filtersData.userStoryName }}
              <fa-icon icon="times" class="ml-05 mat-color-accent cursor-pointer" (click)="clearUserStoryName()">
              </fa-icon>
            </mat-chip>
            <mat-chip matRipple class="mr-08 mb-05" *ngIf="filtersData && filtersData.versionName">
              <b>{{ 'ADVANCEDSEARCH.VERSIONNAME' | translate | softLabelsPipe : softLabels }}</b> :
              {{filtersData && filtersData.versionName }}
              <fa-icon icon="times" class="ml-05 mat-color-accent cursor-pointer" (click)="clearVersionName()">
              </fa-icon>
            </mat-chip>
            <mat-chip matRipple class="mr-08 mb-05" *ngIf="filtersData && filtersData.bugPriorityIds">
              <b>{{ 'ADVANCEDSEARCH.BUGPRIOROTY' | translate | softLabelsPipe : softLabels }}</b> :
              <span *ngIf="filtersData && filtersData.selectedBugPriorities.length > 50"
                matTooltip="{{filtersData && filtersData.selectedBugPriorities}}">
                {{filtersData && filtersData.selectedBugPriorities | slice:0:50}}...
              </span>
              <span *ngIf="filtersData && filtersData.selectedBugPriorities.length < 50">
                {{filtersData && filtersData.selectedBugPriorities}}
              </span>
              <fa-icon icon="times" class="ml-05 mat-color-accent cursor-pointer" (click)="clearBugPriorities()">
              </fa-icon>
            </mat-chip>
            <mat-chip matRipple class="mr-08 mb-05" *ngIf="filtersData && filtersData.projectFeatureIds">
              <b>{{ 'ADVANCEDSEARCH.COMPONENT' | translate | softLabelsPipe : softLabels }}</b> :
              <span *ngIf="filtersData && filtersData.selectedComponents.length > 50"
                matTooltip="{{filtersData && filtersData.selectedComponents}}">
                {{filtersData && filtersData.selectedComponents | slice:0:50}}...
              </span>
              <span *ngIf="filtersData && filtersData.selectedComponents.length < 50">
                {{filtersData && filtersData.selectedComponents}}
              </span>
              <fa-icon icon="times" class="ml-05 mat-color-accent cursor-pointer" (click)="clearComponets()">
              </fa-icon>
            </mat-chip>
            <mat-chip disableRipple matRipple class="mr-08 mb-05" *ngIf="filtersData && filtersData.createdDateFrom">
              <b>{{ 'ADVANCEDSEARCH.CREATEDDATEFROM' | translate | softLabelsPipe : softLabels}} </b>:
              {{filtersData && filtersData.createdDateFrom | date: 'dd MMM yyyy' }}
              <fa-icon icon="times" class="ml-05 mat-color-accent cursor-pointer" (click)="clearCreateDateFrom()">
              </fa-icon>
            </mat-chip>
            <mat-chip matRipple class="mr-08 mb-05" *ngIf="filtersData && filtersData.createdDateTo">
              <b>{{ 'ADVANCEDSEARCH.CREATEDDATETO' | translate | softLabelsPipe : softLabels }}</b> :
              {{filtersData && filtersData.createdDateTo | date: 'dd MMM yyyy' }}
              <fa-icon icon="times" class="ml-05 mat-color-accent cursor-pointer" (click)="clearCreateDateTo()">
              </fa-icon>
            </mat-chip>
            <mat-chip disableRipple matRipple class="mr-08 mb-05" *ngIf="filtersData && filtersData.updatedDateFrom">
              <b>{{ 'ADVANCEDSEARCH.UPDATEDDATEFROM' | translate | softLabelsPipe : softLabels}} </b>:
              {{filtersData && filtersData.updatedDateFrom | date: 'dd MMM yyyy' }}
              <fa-icon icon="times" class="ml-05 mat-color-accent cursor-pointer" (click)="clearUpdateDateFrom()">
              </fa-icon>
            </mat-chip>
            <mat-chip matRipple class="mr-08 mb-05" *ngIf="filtersData && filtersData.updatedDateTo">
              <b>{{ 'ADVANCEDSEARCH.UPDATEDDATETO' | translate | softLabelsPipe : softLabels }}</b> :
              {{filtersData && filtersData.updatedDateTo | date: 'dd MMM yyyy' }}
              <fa-icon icon="times" class="ml-05 mat-color-accent cursor-pointer" (click)="clearUpdateDateTo()">
              </fa-icon>
            </mat-chip>
            <mat-chip matRipple class="mr-08 mb-05" *ngIf="filtersData && filtersData.sortBy">
              <b>{{ 'ADVANCEDSEARCH.SORTBY' | translate | softLabelsPipe : softLabels }}</b> :
              {{filtersData && sortByText }}
              <fa-icon icon="times" class="ml-05 mat-color-accent cursor-pointer" (click)="clearSortBy()">
              </fa-icon>
            </mat-chip>
            <mat-chip disableRipple matRipple class="mr-08 mb-05"
              *ngIf="filtersData && filtersData.selectedGoalFilters">
              <b>{{'ADVANCEDSEARCH.OPTIONS' | translate }} </b>:
              <span *ngIf="filtersData.selectedGoalFilters">
                {{filtersData && filtersData.selectedGoalFilters}}
              </span>
              <fa-icon icon="times" class="ml-05 mat-color-accent cursor-pointer" (click)="clearOptions()">
              </fa-icon>
            </mat-chip>
          </mat-label>
        </div>
        <mat-chip disableRipple matRipple class="mr-08 cursor-pointer" *ngIf="showMoreFilters"
          (click)="openExtraFilters()" style="max-width: 33px;min-width: 33px;">
          <span>
            <b>...</b>
          </span>
        </mat-chip>
      </div>
      <div fxFlex="40px" fxLayoutAlign="end center" style="cursor: pointer;">
        <button class="text-center" (click)="resetSearch()" matTooltip="{{'ADVANCEDSEARCH.RESET' | translate}}"
          mat-icon-button>
          <fa-icon class="filter mat-color-accent" icon="undo"></fa-icon>
        </button>
      </div>
      <div fxFlex="40px" fxLayoutAlign="end center" style="cursor: pointer;"
        *ngIf="(canAccess_feature_AllGoalsWithAdvancedSearch)">
        <button class="text-center" (click)="showFilters()" matTooltip=" {{'PROJECTTYPE.SEARCHTOOLTIP' | translate}}"
          mat-icon-button>
          <fa-icon icon="filter" [ngClass]="{ 'filter-icon': !isFiltersVisible ,'mat-color-accent': isFiltersVisible }">
          </fa-icon>
        </button>
      </div>
      <!--<div fxFlex="105px" fxLayoutAlign="end center" (click)="openProjectsDialog()" style="cursor: pointer;"
        class="pr-03">
        <mat-icon class="mat-color-accent">work</mat-icon>
        <span class="select-label project-name hide-content-overflow"
          matTooltip="{{Projects}}">{{'Projects' | softLabelsPipe : softLabels }}</span>
        <span class="select-arrow-wrapper">
          <span class="ng-arrow"></span>
        </span>
      </div>-->
    </div>
  </div>

  <app-common-message-box *ngIf="!(canAccess_feature_AllGoals)" textToDisplay="{{'DONTHAVEANYPERMISSIONS'|translate}}">
  </app-common-message-box>

  <app-pm-goal-browse-board *ngIf="bindAllGoalsPage()" [goalSearchCriteria]="activeGoalsSearchCriteria" 
    [isFiltersVisible]="isFiltersVisible" [isInput]="isInput" (emitSprintsView)="emitSprintsView($event)">
  </app-pm-goal-browse-board>
</div>