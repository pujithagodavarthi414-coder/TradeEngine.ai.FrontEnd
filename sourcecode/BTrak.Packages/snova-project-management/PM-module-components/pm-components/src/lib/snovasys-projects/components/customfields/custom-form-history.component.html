<mat-progress-bar color="primary" mode="indeterminate" *ngIf="(anyOperationInProgress$ | async)">
</mat-progress-bar>
<div *ngFor="let customHistory of (customFieldHistoryModel$|async | customFieldHistory)"  class="hide-content-overflow">
    <div fxLayout="row wrap" fxLayoutGap="10px" class="p-05">
        <div mat-card-avatar fxFlex="5" fxFlex.gt-lg="3" fxFlex.xs="13">
            <app-avatar matTooltip="{{ customHistory.fullName }}"
                [name]="customHistory.fullName | removeSpecialCharacters"
                [src]="customHistory.profileImage | fetchSizedAndCachedImage: '20':''" [isRound]="true" size="20">
            </app-avatar>
        </div>
        <div fxFlex fxLayout="column" fxLayoutGap="5px">
            <div fxLayout="row">
                <div fxFlex="75" fxFlex.gt-lg="45" fxFlex.lg="55" fxFlex.md="70">
                    <span *ngIf="customHistory.description == 'FormDataJsonInserted'">
                        {{customHistory.fullName}} {{'GENERICFORM.SUBMITTEDFORMDATA' | translate}}
                    </span>
                    <span *ngIf="customHistory.description == 'FormDataJsonUpdated'">
                        {{customHistory.fullName}} {{'GENERICFORM.UPDATEDFORMDATA' | translate}}
                    </span>
                    <span *ngIf="customHistory.description == 'FormJsonUpdated'">
                        {{customHistory.fullName}} {{'GENERICFORM.UPDATEDFORM' | translate}}
                    </span>
                    <span *ngIf="customHistory.description == 'FormDataJsonCreated'">
                        {{customHistory.fullName}} {{'GENERICFORM.CREATEDFORMDATA' | translate}}
                    </span>
                    <span *ngIf="customHistory.description == 'FormDeleted'">
                        {{customHistory.fullName}} {{'GENERICFORM.DELTEFORM' | translate}} {{customHistory.newValue}}
                    </span>
                    <div fxLayout="row" *ngIf="customHistory.description == 'FormNameUpdated'">
                        <span *ngIf="customHistory.description == 'FormNameUpdated'">
                            {{customHistory.fullName}} {{'GENERICFORM.UPDATEDFORMNAME' | translate}}
                        </span>
                        <b><span [innerHtml]="customHistory.oldValue"></span></b>  
                        {{ 'BILLINGMANAGEMENT.SMALLTO' | translate }}
                        <b><span [innerHtml]="customHistory .newValue"></span></b>
                        {{ 'BILLINGMANAGEMENT.DONE' | translate }}
                    </div>
                </div>
                <div fxFlex>
                    <span class="pull-right"
                        matTooltip="{{customHistory.createdDateTime | utcToLocalTime | date:'dd-MM-yyyy, h:mm a ' }}">{{customHistory.createdDateTime | utcToLocalTime | timeago }}</span>
                </div>
            </div>
            <div fxLayout="row">
                <div class="assets-comments">
                    <span class="user-name-link">
                        {{customHistory.fieldName}}&nbsp;
                    </span>
                </div>
            </div>
            <div fxLayout="row">
                <app-custom-field-history-view *ngIf="customHistory" [customHistory]="customHistory">
                </app-custom-field-history-view>
            </div>
        </div>
    </div>
</div>

<app-common-message-box *ngIf="(customFieldHistoryModel$|async | customFieldHistory)?.length == 0"
    textToDisplay="{{'NODATATODISPLAY' | translate}}">
</app-common-message-box>