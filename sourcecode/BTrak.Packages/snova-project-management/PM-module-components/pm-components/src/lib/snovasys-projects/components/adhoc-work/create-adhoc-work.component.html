<!-- <div>
    <mat-card-title class="text-center">
        <div class="card-title-text mat-bg-primary p-05">
            {{'ADHOCWORK.CREATEADHOCWORK'|translate}}
        </div>
    </mat-card-title>
    <form [formGroup]="adHocWorkForm" novalidate (submit)="adHocWorkForm.valid && saveAdhocUserStory()"
        #formDirective="ngForm">
        <div class="card-content p-05">
            <div>
                <div fxLayout="row wrap">
                    <div *ngIf="adHocWorkForm" fxFlex="100">
                        <mat-form-field class="full-width">
                            <textarea formControlName="userStoryName" matInput
                                placeholder="{{ 'USERSTORY.USERSTORY' | translate | softLabelsPipe : softLabels}}"
                                required></textarea>
                            <mat-error>
                                <span *ngIf="
                    adHocWorkForm.get('userStoryName').hasError(
                          'required'
                        ) &&
                        adHocWorkForm.get('userStoryName').touched
                      ">{{ 'USERSTORY.PLEASEENTERUSERSTORYNAME' | translate | softLabelsPipe : softLabels}}</span>
                                <span
                                    *ngIf="
                    adHocWorkForm.get('userStoryName').hasError(
                          'maxlength'
                        )
                      ">{{ 'USERSTORY.USERSTORYNAMECANNOTEXCEED800CHARACTERS' | translate | softLabelsPipe : softLabels}}</span>
                            </mat-error>
                        </mat-form-field>
                    </div>
                </div>
                <div fxLayout="row wrap" fxLayoutGap="10px">
                    <div fxFlex="100" fxFlex.gt-sm="48">
                        <mat-form-field class="full-width">
                            <mat-select formControlName="ownerUserId"
                                (selectionChange)="getResponsiblePerson($event.value)"
                                placeholder="{{ 'USERSTORY.SELECTOWNER' | translate }}" required>
                                <mat-select-trigger>
                                    {{selectedMember}}
                                </mat-select-trigger>
                                <mat-option [value]="teamLead.id" *ngFor="let teamLead of users">
                                    <app-avatar class="employee_img" *ngIf="!teamLead.profileImage"
                                        [name]="teamLead.fullName | removeSpecialCharacters" [isRound]="true" size="30">
                                    </app-avatar>
                                    <img class="employee_img" *ngIf="teamLead.profileImage"
                                        [src]="teamLead.profileImage | fetchSizedAndCachedImage: '40':''">{{ teamLead.fullName }}
                                </mat-option>
                            </mat-select>
                            <mat-error>
                                <span
                                    *ngIf="!adHocWorkForm.get('ownerUserId').valid && adHocWorkForm.get('ownerUserId').touched">
                                    {{ 'USERSTORY.PLEASESELECTOWNER' | translate }} </span>
                            </mat-error>
                        </mat-form-field>
                    </div>
                    <div fxFlex="100"  fxFlex.gt-sm="48">
                        <mat-form-field class="full-width custom-selectbox" (click)="$event.stopPropagation()">
                          <mat-select placeholder="{{ 'USERDETAIL.USERSTORYTYPE'|translate | softLabelsPipe : softLabels}}"
                               formControlName="userStoryTypeId" required>
                              <mat-option *ngFor="let userStoryType of (userStoryTypes$ | async)"
                                  [value]="userStoryType.userStoryTypeId">
                                  {{ userStoryType.userStoryTypeName | softLabelsPipe : softLabels}}
                              </mat-option>
                          </mat-select>
                          <mat-error>
                              <span
                                  *ngIf="!adHocWorkForm.get('userStoryTypeId').valid && adHocWorkForm.get('userStoryTypeId').touched">
                                  {{ 'USERSTORY.PLEASESELECTUSERSTORYTYPE' | translate | softLabelsPipe : softLabels}}
                              </span>
                          </mat-error>
                      </mat-form-field>
                      </div>
                </div>
                <div fxLayout="row wrap" fxLayoutGap="10px">
                    <div fxFlex="100" fxFlex.gt-sm="48">
                        <app-common-estimatedTime [estimatedTime]="estimatedTime" [isDisabled]="false"
                            [estimationTimeReset]="estimationTimeReset"
                            (totalEstimatedTimeInHours)="changeEstimatedTime($event)"></app-common-estimatedTime>

                    </div>
                    <div fxFlex="100" fxFlex.gt-sm="48">
                        <mat-form-field class="full-width">
                            <input matInput formControlName="deadLineDate" matInput [min]="minDate"
                                [matDatetimepicker]="deadlineDatePicker" required autocomplete="false"
                                placeholder="{{ 'USERSTORY.DEADLINE' | translate | softLabelsPipe : softLabels}}" (click)="deadlineDatePicker.open()">
                            <mat-datetimepicker-toggle [for]="deadlineDatePicker" matSuffix></mat-datetimepicker-toggle>
                            <mat-datetimepicker #deadlineDatePicker type="datetime">
                            </mat-datetimepicker>
                            <mat-error>
                                <span *ngIf="
                        !adHocWorkForm.get('deadLineDate').valid &&
                        adHocWorkForm.get('deadLineDate').touched
                      ">{{ 'USERSTORY.PLEASESELECTDEADLINEDATE' | translate | softLabelsPipe : softLabels}}</span>
                            </mat-error>
                        </mat-form-field>
                    </div>
                </div>
            </div>

            <div class="text-center mt-05">
                <button mat-raised-button color="primary" class="mr-05" type="submit"
                    [disabled]="!adHocWorkForm.valid || (anyOperationInProgress$|async) || addButtonDisable">
                    <fa-icon icon="plus" class="mr-05"></fa-icon>{{ 'ADHOCWORK.ADD' | translate }} &nbsp;<i
                        class="fa fa-spin fa-spinner" *ngIf="(anyOperationInProgress$ | async)"></i>
                </button>
                <button mat-raised-button (click)="closeAdhocWorkDialog(); (false)">
                    <fa-icon icon="times" class="mr-05"></fa-icon>{{ 'DISMISS' | translate }}
                </button>
            </div>
        </div>
    </form>
</div> -->

<div class="p-05 pt-0" *ngIf="!isUserStoryInputVisible">
    <a (click)="showUserstoryInput();" class="new-userstory">
        <fa-icon icon="plus" class="mr-05"></fa-icon>
        <span>
            {{'ADHOCWORK.CREATEWORK'|translate}}
        </span>
    </a>

</div>
<div class="mb-05 p-05 pt-0" *ngIf="isUserStoryInputVisible">
    <form [formGroup]="adHocWorkForm" novalidate (keyup)="keyDownFunction($event)" #formDirective="ngForm">
        <div fxLayout="row wrap">
            <div fxFlex fxLayout="column wrap" class="full-width mr-05">
                <mat-form-field class="full-width">
                    <input formControlName="userStoryName" (input)="checkName(adHocWorkForm.get('userStoryName').value)" matInputAutofocus
                        matInput trim required>
                </mat-form-field>
                <mat-error>
                    <span
                        *ngIf="isUserStoryName">{{ 'USERSTORY.PLEASEENTERUSERSTORYNAME' | translate | softLabelsPipe : softLabels}}</span>
                    <span
                        *ngIf="isLengthValidation">{{ 'USERSTORY.USERSTORYNAMECANNOTEXCEED800CHARACTERS' | translate | softLabelsPipe : softLabels}}</span>
                </mat-error>
                <span
                    style="color: gray;">{{ 'USERSTORY.ENTERKEYAFTEREACHWORKITEM' | translate | softLabelsPipe : softLabels}}</span>
            </div>
        </div>
    </form>
</div>