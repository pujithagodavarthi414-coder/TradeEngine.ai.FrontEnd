<mat-progress-bar color="primary" mode="indeterminate" *ngIf="(anyOperationInProgress$ | async)">
</mat-progress-bar>
<mat-card class="p-0 test-display" fxFlex="100" fxFlex.gt-sm="100"
    *ngIf="!(anyOperationInProgress$ | async) && (userStoryHistory$ | async).length === 0">
    <div fxLayout="row" fxFlex="100" class="p-05">
        <fa-icon icon="info-circle"></fa-icon>
        <p class="ml-1">{{'TESTMANAGEMENT.NOHISTORYFOUND' | translate}}</p>
    </div>
</mat-card>
<div class="history-tab" *ngIf="!(anyOperationInProgress$ | async)">
    <div *ngFor="let history of (userStoryHistory$ | async)">
        <div fxLayout="row wrap" fxLayoutGap="10px">
            <div mat-card-avatar fxFlex="5" fxFlex.gt-lg="3" fxFlex.xs="13">
                <app-avatar matTooltip="{{ history.testedByName }}"
                    [name]="history.testedByName | removeSpecialCharacters"
                    [src]="history.testedByProfileImage | fetchSizedAndCachedImage: '20':''" [isRound]="true" size="20">
                </app-avatar>
            </div>
            <div fxFlex fxLayout="column" fxLayoutGap="5px">
                <div fxLayout="row">
                    <div fxFlex="50" ffxFlex.gt-lg="52" fxFlex.lg="52" fxFlex.md="60">
                        <span matTooltip="{{history.testedByName}}" *ngIf="history.testedByName.length > 30">
                            {{history.testedByName | slice : 0 :30}}....
                        </span>
                        <span matTooltip="{{history.testedByName}}" *ngIf="history.testedByName.length < 30">
                            {{history.testedByName}}
                        </span>
                        <b></b>
                    </div>
                    <div fxFlex>
                        <span class="pull-right">{{history.createdDateTime | utcToLocalTime | date:'medium' }}</span>
                    </div>
                </div>
                <div class="mb-05" fxLayout="row">
                    <span [innerHTML]="history.description"></span>
                </div>
            </div>
        </div>
    </div>
</div>