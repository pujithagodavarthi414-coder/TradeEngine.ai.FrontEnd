<mat-progress-bar color="primary" mode="indeterminate" *ngIf="(anyOperationInProgress$ | async)">
</mat-progress-bar>
<div *ngIf="userStoryInputData">
    <app-ts-component-trackerscreenshots [userStoryInputData]="userStoryInputData">
    </app-ts-component-trackerscreenshots>
</div>

<mat-slide-toggle class="mr-1 history-switch"  *ngIf="!(anyOperationInProgress$ | async)" [checked]="isLastSeenShow" matTooltip = "{{'USERSTORY.INCLUDEUSERSTORYVIEW'|translate  | softLabelsPipe : softLabels }}"
    (change)="getUserStoryHistory()" [disabled]="(anyOperationInProgress$|async)">
</mat-slide-toggle>
<div class="history-tab" id="style-1">
    <div *ngFor="let history of (userstoryHistory$|async | historyPipe: 'descriptionSlug':isLastSeenShow)">
        <div fxLayout="row wrap" fxLayoutGap="10px" class="p-05">
            <div mat-card-avatar fxFlex="5" fxFlex.gt-lg="3" fxFlex.xs="13">
                <app-avatar matTooltip="{{ history.fullName }}" [name]="history.fullName | removeSpecialCharacters"
                    [src]="history.profileImage | fetchSizedAndCachedImage: '20':''" [isRound]="true" size="20">
                </app-avatar>
            </div>
            <div fxFlex fxLayout="column" fxLayoutGap="5px">
                <div fxLayout="row">
                    <div fxFlex="50" fxFlex.gt-lg="52" fxFlex.lg="52" fxFlex.md="60" matTooltip=" {{history.fullName}}"   *ngIf="history.fullName.length > 30">
                        {{history.fullName | slice:0:30}}...
                    </div>
                    <div fxFlex="50" fxFlex.gt-lg="52" fxFlex.lg="52" fxFlex.md="60" *ngIf="history.fullName.length < 30">
                        {{history.fullName}}
                    </div>
                    <div fxFlex>
                        <span class="pull-right"
                            matTooltip="{{history.createdDateTime| timeZoneData : 'dd MMM yyyy h:mm
                            a' : currentUserTimeZoneOffset }}">{{history.createdDateTime | timeZoneData  : 'dd MMM yyyy h:mm
                            a' : currentUserTimeZoneOffset| timeago }}</span>
                    </div>
                </div>
                <div fxLayout="row">
                    <span class="userstory-fullname" [innerHTML]="history.description"></span>
                </div>
            </div>
        </div>
    </div>
</div>