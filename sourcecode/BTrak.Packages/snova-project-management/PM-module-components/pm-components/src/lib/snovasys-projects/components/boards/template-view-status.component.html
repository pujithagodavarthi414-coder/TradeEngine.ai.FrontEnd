<div class="template-default-board custom-box p-0 m-0 user-card">
  <mat-card-content class="p-0 goalstatus user-story mb-0 goalstatus-backlog" id="style-1"   [ngClass]="{ 'goalstatus-height': isVisible}">
    <mat-list class="compact-list p-0">
      <div fxLayout="row wrap" class="full-width mt-05" *ngIf="(getUserStoriesLoading$ | async)">
        <div fxFlex="100" *ngFor="let form of UserstoryLoader(UserstoryLoaderCount).fill(1)">
          <div fxLayout="row wrap" class="userstory-loader m-0 p-0">
            <div fxFlex="92" fxFlexOffset="10px">
              <div fxLayout="row p-05">

                <div fxFlex="39">
                  <p class="mat-small p-05 userstory-emptytext loading-bg"></p>
                </div>
                <div fxFlex="1" fxFlexOffset="28">
                  <p class="mat-small userstory-emptytext goal-loader-img loading-bg"></p>
                </div>
                <div fxFlex="3" fxFlexOffset="3">
                  <p class="mat-small p-05 userstory-emptytext  loading-bg"></p>
                </div>
                <div fxFlex="3" fxFlexOffset="3">
                  <p class="mat-small p-05 userstory-emptytext loading-bg"></p>
                </div>
                <div fxFlexOffset="6" fxFlex="13">
                  <p class="mat-small p-05 userstory-emptytext loading-bg"></p>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>

      <div *ngIf=" !(getUserStoriesLoading$ | async) && (userStories$ | async) ?.length == 0">
        <app-common-message-box
          textToDisplay="{{ 'USERSTORY.USERSTORIESSNOTFOUND' | translate | softLabelsPipe : softLabels }}">
        </app-common-message-box>
      </div>
      <!-- <div dragula="userStories" [(dragulaModel)]="userStories"> -->
      <div>
        <div class="user-story-list" *ngFor="let userStory of (userStories$ | async)">

          <div fxLayout="row wrap">
            <div fxFlex="100">
              <app-pm-component-template-view-summary [userStory]="userStory" [isSelected]="userStory.userStoryId === userStoryId" (click) = "handleClickEvent(userStory)"></app-pm-component-template-view-summary>
            </div>
          </div>
        </div>
      </div>
      <div></div>
    </mat-list>
  </mat-card-content>
  <div class="add-userstory">
    <app-pm-component-create-workitem [templateId]="template.templateId"   (openNewUserStory)="openNewUserStory($event)">
    </app-pm-component-create-workitem>
  </div>
</div>