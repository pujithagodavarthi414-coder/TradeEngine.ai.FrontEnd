<!-- <div class="custom-dialog">
    <div class="custom-close" mat-dialog-close (click)="onNoClick()">
        <fa-icon icon="times" class="project-dialog"></fa-icon>
    </div>
</div> -->
<mat-progress-bar color="primary" mode="indeterminate" *ngIf="(anyOperationInProgress$ | async)">
</mat-progress-bar>
<div *ngIf="!(anyOperationInProgress$|async)" id="style-1">
    <!-- <mat-card-title class="text-center">
        <div class="card-title-text mat-bg-primary p-05">
            {{ 'GOALS.CUSTOMFILTERS' | translate }}
        </div>
    </mat-card-title> -->
    <app-common-message-box *ngIf="(goalFiltersList$|async)?.length === 0 "
        textToDisplay="{{'NODATATODISPLAY'|translate}}">
    </app-common-message-box>
    <mat-list class="compact-list p-0" style="height: calc(100vh - 495px);">
        <div *ngFor="let goalFilter of (goalFiltersList$|async)"
            [ngStyle]="{ 'background-color': goalFilter.goalFilterId == goalFilterSelected ? '#e6f5ff' : '' }"
            class="link-user-story-list">
            <div fxLayout="row wrap">
                <div fxLayout="row" fxFlex="100" (click)="applyFilters(goalFilter)" class="goal-filters">
                    <div fxFlex="2px" class="userstory-left">
                        &nbsp;
                    </div>
                    <div fxFlex="80" fxFlex.lt-lg="77" class="mr-05 mt-02 userStory-name">
                        <span class="allgoals_txt userStory-name-control" matTooltip="{{goalFilter.goalFilterName}}"
                            matTooltipShowDelay="1000" matTooltipClass="tooltip-overflow">
                            {{goalFilter.goalFilterName}}</span>
                    </div>
                    <!-- <fa-icon fxFlex="20" icon="archive" class="mt-06"
                        *ngIf="isPermissionExists && checkIsPermissionExists(goalFilter.createdByUserId)"
                        [satPopoverAnchorFor]="archiveGoalFilterPopover" #archiveGoalPopup="satPopoverAnchor"
                        (click)="$event.stopPropagation();archiveGoalFilter(goalFilter,archiveGoalPopup)"></fa-icon> -->
                    <button fxFlex="5" class="text-center mt-06" matTooltip="{{'USERSTORY.EDIT' | translate }}"
                        (click)="editFilter(goalFilter);$event.stopPropagation()" mat-icon-button
                        *ngIf="isPermissionExists && checkIsPermissionExists(goalFilter.createdByUserId)">
                        <fa-icon icon="edit" class="mat-color-accent"></fa-icon>
                    </button>
                    <mat-icon fxFlex="5" class="mt-05 mat-color-accent" title="{{ 'AUDIT.ARCHIVE' | translate }}"
                        *ngIf="isPermissionExists && checkIsPermissionExists(goalFilter.createdByUserId)"
                        [satPopoverAnchorFor]="archiveGoalFilterPopover" #archiveGoalPopup="satPopoverAnchor"
                        (click)="$event.stopPropagation();archiveGoalFilter(goalFilter,archiveGoalPopup)">archive
                    </mat-icon>
                </div>
            </div>
        </div>
    </mat-list>
</div>

<sat-popover #archiveGoalFilterPopover verticalAlign="below" hasBackdrop horizontalAlign="start"
    backdropClass="backdrop-color">
    <mat-card class="filter-data m-1">
        <mat-card-title class="text-center">
            <div class="card-title-text mb-1">
                {{ 'ADVANCEDSEARCH.ARCHIVEGOALFILTER' | translate | softLabelsPipe : softLabels}}</div>
        </mat-card-title>
        <div class="text-center m-1">
            <button mat-raised-button color="primary" class="mr-05"
                (click)="IsArchivedGoalFilter(); $event.stopPropagation()"
                [disabled]="(archiveGoalFiltersIsInProgress$ | async)">
                <mat-progress-bar color="primary" mode="indeterminate"
                    *ngIf="(archiveGoalFiltersIsInProgress$ | async)">
                </mat-progress-bar>
                <fa-icon icon="check" class="mr-05"></fa-icon> {{ 'YES' | translate }}
            </button>
            <button mat-raised-button (click)="closeArchiveDialog()"
                [disabled]="(archiveGoalFiltersIsInProgress$ | async)">
                <fa-icon icon="times" class="mr-05"></fa-icon>{{ 'NO' | translate }}
            </button>
        </div>
    </mat-card>
</sat-popover>