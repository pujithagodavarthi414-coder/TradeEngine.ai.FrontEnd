<!-- <div class="card-title-text p-05"><h6><b>{{'GOALACTIVITY.GOALBURNDOWNCHART' | translate}}</b></h6> 
</div>
<mat-card class="default" class="p-0">
    <mat-card-title class="full-width">
        <div fxLayout="row" fxLayout.xs="column" fxLayoutGap="0" fxLayoutGap.xs="10px">
            <div fxFlex fxLayoutAlign="start center">
                <button type="submit" mat-icon-button class="pull-right" (click)="filterClick()">
                    <fa-icon icon="filter"  matTooltip=" {{'HRMANAGAMENT.ADVANCESEARCH' | translate}}" [ngClass]="{ 'filter-icon': !isOpen ,'mat-color-accent': isOpen }">
                    </fa-icon>
                </button>
            </div>
            <div fxFill>
                <div class="filter-section" [hidden]="!isOpen"> 
                    <ul>
                        <li class="p-0">
                            <button mat-icon-button (click)="resetAllFilters()">
                                <fa-icon  matTooltip="{{'RESET' | translate}}" class="filter mat-color-accent" icon="undo"></fa-icon>
                            </button>
                        </li>
                        <li [ngClass]="{ 'active': selectEmployeeFilterIsActive }" [satPopoverAnchorFor]="namePopover"
                            hasBackdrop (click)="namePopover.toggle()">
                            <a>
                                <mat-icon>arrow_drop_down</mat-icon>{{'WORKLOGGING.EMPLOYEE' | translate | softLabelsPipe : softLabels}}
                            </a>
                            <sat-popover #namePopover verticalAlign="below" hasBackdrop horizontalAlign="start">
                                <mat-card class="filter-data">
                                    <mat-form-field>
                                        <mat-select placeholder="{{'WORKLOGGING.SELECTEMPLOYEENAME' | translate | softLabelsPipe : softLabels}}"
                                            [(ngModel)]="selectedEmployeeId"
                                            (selectionChange)="selectedEmployeesId($event.value)">
                                            <mat-option *ngFor="let employee of (employeeList$ | async|assigneeFilter: 'id':userStories)" [value]="employee.projectMember.id">
                                                <app-avatar class="employee_img" *ngIf="!employee.projectMember.profileImage"
                                                    [name]="employee.projectMember.name | removeSpecialCharacters"
                                                    [isRound]="true" size="30"></app-avatar>
                                                <img class="employee_img" *ngIf="employee.projectMember.profileImage"
                                                    src="{{employee.projectMember.profileImage}}">{{employee.projectMember.name}}
                                            </mat-option>
                                        </mat-select>
                                    </mat-form-field>
                                </mat-card>
                            </sat-popover>
                        </li>
                        <li [ngClass]="{ 'active': true }" [satPopoverAnchorFor]="reportToPopover"
                        (click)="reportToPopover.toggle()">
                        <a>
                            <mat-icon>arrow_drop_down</mat-icon>{{'MYPROFILE.FROMDATE' | translate}}
                        </a>
                        <sat-popover #reportToPopover verticalAlign="below" hasBackdrop horizontalAlign="start">
                            <mat-card class="filter-data">
                                <mat-form-field>
                                    <mat-label>{{'MYPROFILE.FROMDATE' | translate}}</mat-label>
                                    <input matInput [matDatepicker]="picker1" [(ngModel)]="fromDate" [min]="minDateForFromDate" [max] = "maxDate"
                                        (click)="picker1.open()" autocomplete="off"
                                        (dateChange)="dateFromChanged($event)" class="date-picker"
                                        [readonly]="true">
                                    <mat-datepicker-toggle matSuffix [for]="picker1">
                                    </mat-datepicker-toggle>
                                    <mat-datepicker #picker1></mat-datepicker>
                                </mat-form-field>
                            </mat-card>
                        </sat-popover>
                    </li>
                    <li [ngClass]="{ 'active': true }" [satPopoverAnchorFor]="departmentPopover"
                        (click)="departmentPopover.toggle()">
                        <a>
                            <mat-icon>arrow_drop_down</mat-icon>{{'MYPROFILE.TODATE' | translate}}
                        </a>
                        <sat-popover #departmentPopover verticalAlign="below" hasBackdrop horizontalAlign="start">
                            <mat-card class="filter-data">
                                <mat-form-field>
                                    <mat-label>{{'MYPROFILE.TODATE' | translate}}</mat-label>
                                    <input matInput [matDatepicker]="picker2" [(ngModel)]="toDate" [min]="minDate" [max] = "maxDate"
                                        (click)="picker2.open()" autocomplete="off"
                                        (dateChange)="dateToChanged($event)" class="date-picker" [readonly]="true">
                                    <mat-datepicker-toggle matSuffix [for]="picker2">
                                    </mat-datepicker-toggle>
                                    <mat-datepicker #picker2></mat-datepicker>
                                </mat-form-field>
                            </mat-card>
                        </sat-popover>
                    </li>
                    </ul>
                </div>
            </div>
        </div>
        <mat-divider></mat-divider>
    </mat-card-title>
</mat-card> -->

<mat-card class="p-0 canteen-manage m-0 custom-box" fxLayout="column">
    <mat-card-title class="full-width data-table-header">
        <div fxLayout="row wrap" fxLayoutAlign="start center">
            <div class="card-title-text p-05 full-width ml-05 drag-handler" fxFlex fxLayoutAlign="start center">
                <span class="hide-content-overflow" *ngIf="!isFromSprint"
                    matTooltip="{{'GOALACTIVITY.GOALBURNDOWNCHART' | translate | softLabelsPipe : softLabels | titlecase}}">
                    {{'GOALACTIVITY.GOALBURNDOWNCHART' | translate | softLabelsPipe : softLabels | titlecase}}
                </span>
                <span class="hide-content-overflow" *ngIf="isFromSprint"
                    matTooltip="{{'GOALACTIVITY.SPRINTBURNDOWNCHART' | translate | softLabelsPipe : softLabels | titlecase}}">
                    {{'GOALACTIVITY.SPRINTBURNDOWNCHART' | translate | softLabelsPipe : softLabels | titlecase}}
                </span>
            </div>
            <div fxFlex="40px" fxLayoutAlign="end center"
                *ngIf="dashboardFilters && (dashboardFilters.goalId || dashboardFilters.sprintId)">
                <button mat-icon-button matTooltip="{{'RESET' | translate}}" (click)="resetAllFilters()">
                    <fa-icon class="filter mat-color-accent" icon="undo"></fa-icon>
                </button>
            </div>
            <div fxFlex="40px" fxLayoutAlign="end center"
                *ngIf="dashboardFilters && (dashboardFilters.goalId || dashboardFilters.sprintId)">
                <button type="submit" mat-icon-button (click)="filterClick()" [matMenuTriggerFor]="filterMenu"
                    matTooltip=" {{'HRMANAGAMENT.ADVANCESEARCH' | translate}}">
                    <fa-icon icon="filter" [ngClass]="{ 'filter-icon': !isOpen ,'mat-color-accent': isOpen }">
                    </fa-icon>
                </button>
            </div>
            <mat-menu #filterMenu="matMenu" class="filter-panel" (click)="$event.stopPropagation()">

                <button mat-menu-item [matMenuTriggerFor]="searchGoal" *ngIf="!isFromSprint">
                    {{'USERDETAIL.GOAL' | translate}}</button>
                <button mat-menu-item [matMenuTriggerFor]="searchSprint" *ngIf="isFromSprint">
                    {{'SPRINT' | translate}}</button>               

                <button mat-menu-item [matMenuTriggerFor]="nameSearch">
                    {{'WORKLOGGING.EMPLOYEE' | translate | softLabelsPipe : softLabels}}</button>
                <button mat-menu-item [matMenuTriggerFor]="fromDates">
                    {{'MYPROFILE.FROMDATE' | translate}}</button>
                <button mat-menu-item [matMenuTriggerFor]="toDates">
                    {{'MYPROFILE.TODATE' | translate}}</button>
                <div class="p-05">
                    <mat-checkbox [(ngModel)]="userStoryPoints" (change)="enableUserStoryPointsView($event)"
                        *ngIf="isFromSprint">
                        {{'WORKLOGGING.ENABLEUSERSTORYPOINTS' | translate}}
                    </mat-checkbox>
                </div>

            </mat-menu>

            <mat-menu #searchGoal="matMenu">
                <mat-card class="filter-data" (click)="$event.stopPropagation()">
                    <div fxFlex="180px" class="ml-05 mr-05">
                        <mat-form-field>
                            <mat-select placeholder="{{'USERDETAIL.GOAL' |translate}}"
                                (selectionChange)="selectGoalId($event.value)" [(ngModel)]="selectedGoalId">
                                <mat-option *ngFor="let goal of (goalsList)" [value]="goal.goalId">
                                    {{ goal.goalName  }}
                                </mat-option>
                            </mat-select>
                        </mat-form-field>
                    </div>
                </mat-card>
            </mat-menu>
            <mat-menu #searchSprint="matMenu">
                <mat-card class="filter-data" (click)="$event.stopPropagation()">
                    <div fxFlex="180px" class="ml-05 mr-05">
                        <mat-form-field>
                            <mat-select placeholder="{{'SPRINT' |translate}}"
                                (selectionChange)="selectSprintId($event.value)" [(ngModel)]="selectedSprintId">
                                <mat-option *ngFor="let sprint of (sprintsList)" [value]="sprint.sprintId">
                                    {{ sprint.sprintName  }}
                                </mat-option>
                            </mat-select>
                        </mat-form-field>
                    </div>
                </mat-card>
            </mat-menu>

            <mat-menu #nameSearch="matMenu">
                <mat-card class="filter-data" (click)="$event.stopPropagation()">
                    <div fxFlex="180px" class="ml-05 mr-05">
                        <mat-form-field>
                            <mat-select
                                placeholder="{{'WORKLOGGING.SELECTEMPLOYEENAME' | translate | softLabelsPipe : softLabels}}"
                                [(ngModel)]="selectedEmployeeId"
                                (selectionChange)="selectedEmployeesId($event.value, $event)">
                                <mat-option
                                    *ngFor="let employee of (userStories | assigneeFilter: 'id':userStories | sortByComponent : 'ownerName')"
                                    [value]="employee.ownerUserId">
                                    <app-avatar class="employee_img" *ngIf="!employee.ownerProfileImage"
                                        [name]="employee.ownerName | removeSpecialCharacters" [isRound]="true"
                                        size="30"></app-avatar>
                                    <img class="employee_img" *ngIf="employee.ownerProfileImage"
                                        src="{{employee.ownerProfileImage}}">{{employee.ownerName}}
                                </mat-option>
                            </mat-select>
                        </mat-form-field>
                    </div>
                </mat-card>
            </mat-menu>
            <mat-menu #fromDates="matMenu">
                <mat-card class="filter-data">
                    <mat-form-field>
                        <mat-label>{{'MYPROFILE.FROMDATE' | translate}}</mat-label>
                        <input matInput [matDatepicker]="picker1" [(ngModel)]="fromDate" [min]="minDateForFromDate"
                            [max]="maxDate" (click)="picker1.open()" autocomplete="off"
                            (dateChange)="dateFromChanged($event)" class="date-picker" [readonly]="true">
                        <mat-datepicker-toggle matSuffix [for]="picker1">
                        </mat-datepicker-toggle>
                        <mat-datepicker #picker1></mat-datepicker>
                    </mat-form-field>
                </mat-card>
            </mat-menu>
            <mat-menu #toDates="matMenu">
                <mat-card class="filter-data">
                    <mat-form-field>
                        <mat-label>{{'MYPROFILE.TODATE' | translate}}</mat-label>
                        <input matInput [matDatepicker]="picker2" [(ngModel)]="toDate" [min]="fromDate"
                            (click)="picker2.open()" autocomplete="off" (dateChange)="dateToChanged($event)"
                            class="date-picker" [readonly]="true">
                        <mat-datepicker-toggle matSuffix [for]="picker2">
                        </mat-datepicker-toggle>
                        <mat-datepicker #picker2></mat-datepicker>
                    </mat-form-field>
                </mat-card>
            </mat-menu>

        </div>
        <mat-divider></mat-divider>
    </mat-card-title>
    <div fxFlex class="p-05" fxLayout="row"
        *ngIf="dashboardFilters && (dashboardFilters.goalId || dashboardFilters.sprintId)">
        <mat-chip disableRipple matRipple class="mr-08" *ngIf="employeeName">
            <b>{{'WORKLOGGING.EMPLOYEE' | translate | softLabelsPipe : softLabels}}:&nbsp;</b>
            {{ employeeName }}
            <fa-icon icon="times" class="ml-05 mat-color-accent cursor-pointer"
                (click)="selectedEmployeesId('all',null)">
            </fa-icon>
        </mat-chip>
        <mat-chip disableRipple matRipple class="mr-08" *ngIf="fromDate && !isFromSprint">
            <b>{{'MYPROFILE.FROMDATE' | translate}}:&nbsp;</b>
            {{ fromDate | date: "dd-MMM-yyyy"}}
            <fa-icon icon="times" class="ml-05 mat-color-accent cursor-pointer" (click)="resetFromDate()">
            </fa-icon>
        </mat-chip>
        <mat-chip disableRipple matRipple class="mr-08" *ngIf="toDate && !isFromSprint">
            <b>{{'MYPROFILE.TODATE' | translate}}:&nbsp;</b>
            {{ toDate | date: "dd-MMM-yyyy"}}
            <fa-icon icon="times" class="ml-05 mat-color-accent cursor-pointer" (click)="resetToDate()">
            </fa-icon>
        </mat-chip>
        <mat-chip disableRipple matRipple class="mr-08" *ngIf="userStoryPoints && isFromSprint">
            <b>{{'MYPROFILE.ISENABLECHARTINSTORYPOINTS' | translate}}:&nbsp;</b>
            {{userStoryPoints}}
            <fa-icon icon="times" class="ml-05 mat-color-accent cursor-pointer" (click)="resetToStoryPoints()">
            </fa-icon>
        </mat-chip>
    </div>
</mat-card>
<mat-progress-bar color="primary" mode="indeterminate" *ngIf="isAnyOperationIsInprogress">
</mat-progress-bar>
<div *ngIf="dashboardFilters && (dashboardFilters.goalId || dashboardFilters.sprintId) && !isVisible" class="p-1">
    {{'NODATATOGENERATEREPORT' | translate}}</div>
<div class="p-1"
    *ngIf="(!dashboardFilters || (!dashboardFilters.goalId && !isFromSprint) || (!dashboardFilters.sprintId && isFromSprint)) && !isVisible">
    <span>{{'PROJECTS.YOUCANTACCESSHERE' | translate}}
        <a class="add-test-case" (click)="navigateToProjects()">{{'TIMEPUNCHCARD.CLICKHERE' | translate}}</a>
        {{'PROJECTS.TONAVIGATETOPROJECTS' | translate | softLabelsPipe : softLabels}}
    </span>
</div>
<div class="full-height no-drag" id="widget-scroll-id">
    <div [attr.id]="dashboardId" *ngIf="dashboardId" class="custom-box style-1"></div>
    <div *ngIf="isVisible" id="tooltip"></div>
</div>
<style>
    .svg-container {
        display: inline-block;
        position: relative;
        width: 100%;
        padding-bottom: 0px;
        vertical-align: top;
        overflow: hidden;
    }

    .svg-content-responsive {
        display: inline-block;
        position: absolute;
        top: 10px;
        left: 0;
    }

    .toolTip {
        position: absolute;
        display: none;
        min-width: 80px;
        height: auto;
        background: none repeat scroll 0 0 #ffffff;
        border: 1px solid black;
        padding: 14px;
        text-align: center;
    }
</style>