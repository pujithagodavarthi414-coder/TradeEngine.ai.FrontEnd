<div class="custom-dialog">
    <div class="custom-close"  mat-dialog-close (click)="closeDialog()"><fa-icon icon="times" class="project-dialog" ></fa-icon></div>
</div>

  <div mat-dialog-content class="project-dialogContent" id="style-1" style="max-height:100vh !important">
    <mat-card class="default" class="p-0">
        <mat-card-title class="full-width">
            <div class="card-title-text  mat-bg-primary p-05 mb-1">
                {{'USERSTORY.UPLOADWORKITEMLIST' | translate | softLabelsPipe : softLabels}}
            </div>
            <div class="activity-data ml-05 mr-05">

                <kendo-grid [data]="gridView" [filter]="state.filter" [skip]="skip"
                            [sortable]="true" [scrollable]="true" [pageSize]="pageSize" [pageable]="true" (pageChange)="pageChange($event)">

                    <kendo-grid-column field="isEmployeeValid" width="150"
                        title="{{'USERSTORY.ISWORKITEMVALID' | translate | softLabelsPipe : softLabels}}">
                        <ng-template kendoGridCellTemplate let-dataItem>
                            <div [matTooltip]="dataItem.isWorkitemValid" matTooltipShowDelay="500">
                                <span *ngIf="dataItem.isWorkitemValid"
                                    style="color: green;font-weight: bold;">{{ dataItem.isWorkitemValid }}</span>
                                <span *ngIf="!dataItem.isWorkitemValid"
                                    style="color : red;font-weight: bold;">{{ dataItem.isWorkitemValid }}</span>
                            </div>
                        </ng-template>
                    </kendo-grid-column>
                    <kendo-grid-column field="userStoryName" title="{{'USERSTORY.USERSTORY' | translate | softLabelsPipe :softLabels}}" width="500">
                    </kendo-grid-column>
                    <kendo-grid-column field="ownerName" title="{{'USERSTORY.ASSIGNEE' | translate | softLabelsPipe :softLabels}}" width="150">
                    </kendo-grid-column>
                    <kendo-grid-column field="userStoryType" title="{{'USERSTORYUNIQUE.WORKITEMTYPE' | translate | softLabelsPipe :softLabels}}" width="150">
                    </kendo-grid-column>
                    <kendo-grid-column field="estimatedTime" title="{{'USERSTORYUNIQUE.ESTIMATEDTIME' | translate | softLabelsPipe :softLabels}}" width="150">
                    </kendo-grid-column>
                    <kendo-grid-column field="sprintEstimatedTime" title="{{'USERSTORYUNIQUE.STORYPOINTS' | translate | softLabelsPipe :softLabels}}" width="150"
                    *ngIf="isFromSprint">
                    </kendo-grid-column>
                    <kendo-grid-column field="deadLineDate" title="{{'USERSTORY.DEADLINE' | translate | softLabelsPipe :softLabels}}" width="150" *ngIf="!isFromSprint">
                        <ng-template kendoGridCellTemplate let-dataItem>
                            <div *ngIf="dataItem.deadLineDate != null">{{ dataItem.deadLineDate | date: "dd-MMM-yyyy"  }}
                            </div>
                        </ng-template>
                    </kendo-grid-column>
                    <kendo-grid-column field="bugPriority" title="{{'USERSTORYUNIQUE.BUGPRIORITY' | translate}}" width="150" *ngIf="isBugFilters">
                    </kendo-grid-column>
                    <kendo-grid-column field="projectComponent" title="{{'USERSTORYUNIQUE.COMPONENT' | translate | softLabelsPipe :softLabels}}" width="150" *ngIf="isBugFilters">
                    </kendo-grid-column>
                    <kendo-grid-column field="bugCausedUser" title="{{'USERSTORYUNIQUE.BUGCAUSEDUSER' | translate}}" width="150" *ngIf="isBugFilters">
                    </kendo-grid-column>
                    <kendo-grid-column field="versionName" title="{{'USERSTORY.VERSIONNAME' | translate}}" width="150" *ngIf="isBugFilters">
                    </kendo-grid-column>
                    <kendo-grid-column field="messages" title="{{'HRMANAGAMENT.MESSAGE' | translate | softLabelsPipe :softLabels}}" width="300">
                        <ng-template kendoGridCellTemplate let-dataItem>
                            <div [matTooltip]="dataItem.isEmployeeValid" matTooltipShowDelay="500">
                                <span style="color : red;font-weight: bold;">{{ dataItem.messages | softLabelsPipe :softLabels}}</span>
                            </div>
                        </ng-template>
                    </kendo-grid-column>
                    <kendo-grid-column field="warningMessages" title="{{'HRMANAGAMENT.WARNINGMESSAGE' | translate | softLabelsPipe :softLabels}}" width="300">
                        <ng-template kendoGridCellTemplate let-dataItem>
                            <div [matTooltip]="dataItem.isEmployeeValid" matTooltipShowDelay="500">
                                <span style="color :orange;font-weight: bold;">{{ dataItem.warningMessages | softLabelsPipe :softLabels}}</span>
                            </div>
                        </ng-template>
                    </kendo-grid-column>
                </kendo-grid>
            </div>
        </mat-card-title>
    </mat-card>
   
    <div fxLayout="row" style="text-align: right; margin-top: 20px;">
        <div fxFlex="50" style="text-align: left;">
            <span> {{'USERSTORY.TOTALWORKITEMLISTTEXT' | translate | softLabelsPipe : softLabels}} : {{workItemList.length}} / {{workItemListDataDetails.length}} </span>
        </div>
        <div fxFlex="50" style="text-align: right;">
            <button mat-raised-button color="primary" [disabled]="isUploading" type="button" class="mr-05" (click)="UploadWorkItemList()">
                <fa-icon icon="plus" class="mr-05"></fa-icon> {{'HRMANAGAMENT.UPLOADTEXT' | translate}}
            </button>
        </div>
        
    </div>
</div>

