<mat-progress-bar color="primary" mode="indeterminate"
    *ngIf="(anyOperationInProgress$ | async) || (linkTypesOperationInProgress$|async)">
</mat-progress-bar>
<div *ngIf="!(anyOperationInProgress$|async) && !(linkTypesOperationInProgress$|async)">
    <div *ngFor="let userStoryLinkType of (userStoryLinkTypes$|async)">
        <span
            *ngIf="(userStories$ |async | userStoryLinkFilter : 'linkUserStoryTypeId':userStoryLinkType.linkUserStoryTypeId) ?.length > 0">
            {{userStoryLinkType.linkUserStoryTypeName}}
        </span>
        <mat-list class="compact-list p-0">
            <div class="link-user-story-list"
                *ngFor="let userStory of (userStories$|async | userStoryLinkFilter : 'linkUserStoryTypeId':userStoryLinkType.linkUserStoryTypeId)">
                <userstory-link-summary [userStory]="userStory" [userStoryId]="userStoryId"
                    [isArchivePermission]="isArchivePermission" [isSprintUserStories]="isSprintUserStories"
                    [isSelected]="highlightUserStorySelected(userStory.linkUserStoryId)"
                    (selectUserStory)="selectedUserStory($event)"></userstory-link-summary>
            </div>
        </mat-list>
    </div>
</div>
<div class="add-userstory userstory-detail-subuserstory" *ngIf="isAddPermission">
    <app-pm-component-create-user-story-link [userStoryId]="userStoryId" [projectId]="projectId"
        [isSprintUserStories]="isSprintUserStories">
    </app-pm-component-create-user-story-link>
</div>
<app-common-message-box *ngIf="!(anyOperationInProgress$|async)  && (userStories$|async)?.length == 0"
    textToDisplay="{{'NODATATODISPLAY' | translate}}">
</app-common-message-box>