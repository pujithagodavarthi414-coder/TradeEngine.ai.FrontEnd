<mat-card-title class="">
    <div class="card-title-text p-05" fxLayout="row">
        <div fxFlex fxLayoutAlign="end center" (click)="closeDialog()">
            <fa-icon class="icon-button" icon="times"></fa-icon>
        </div>
    </div>
</mat-card-title>

<div class="p-05 ml-1" fxLayout="row wrap" fxLayout.xs="column" fxLayoutGap.xs="0" fxLayoutGap="10px">
    <div fxFlex>
        <mat-form-field class="full-width">
            <mat-select placeholder="{{ 'GOALS.TRIGGERNAME' | translate }}" [(ngModel)]="triggerType" (selectionChange)="triggerChange($event.value)">
                <mat-option *ngFor="let trigger of triggerItems" [value]="trigger.triggerId">
                    {{trigger.triggerName}}
                </mat-option>
            </mat-select>
        </mat-form-field>
        <span class="mat-form-error" *ngIf="triggerError">
            {{'GOALS.PLEASESELECTTRIGGER' | translate}}
        </span>
    </div>
    <div fxFlex>
        <mat-form-field class="full-width">
            <mat-select placeholder="{{ 'GOALS.WORKFLOW' | translate }}" [(ngModel)]="workFlowType"
                (selectionChange)="workflowChange($event.value)">
                <mat-option *ngFor="let workFlow of workFlowItems" [value]="workFlow">
                    {{workFlow.workflowName}}
                </mat-option>
            </mat-select>
        </mat-form-field>
    </div>
    <div fxFlex>
        <mat-form-field class="full-width">
            <input matInput [(ngModel)]="workFlowName" (blur)="checkWorkflowName()" type="text"
                placeholder="{{ 'GOALS.WORKFLOWNAME' | translate }}">
        </mat-form-field>
        <span class="mat-form-error" *ngIf="workFlowNameError">
            {{'GOALS.PLEASEENTERWORKFLOWNAME' | translate}}
        </span>
        <span class="mat-form-error" *ngIf="workFlowNameSizeError">
            {{'GOALS.WORKFLOWNAMEEXCEEDS' | translate}}
        </span>
    </div>
    <div fxFlex>
        <input #csvInput hidden="true" type="file" (change)="handleFileInput($event.target.files)" accept=".bpmn, .dmn"/>
        <button mat-flat-button color="primary" (click)="csvInput.click()"> <fa-icon class="mr-05" icon="upload"></fa-icon> {{ 'TESTMANAGEMENT.UPLOAD' | translate }}</button>
           
    

        <button class="ml-05" mat-button mat-raised-button color="primary" type="button" [disabled]="disableWorkFlow"
            [satPopoverAnchorFor]="overRideWorkflowTrigger" (click)="saveWorkflowTrigger()">
            <fa-icon class="mr-05" icon="save"></fa-icon> {{ 'TESTMANAGEMENT.SAVE' | translate }}
        </button>
    </div>
</div>

<div class="modeler p-05" style="position: relative;">
    <div id="canvas"></div>
    <div id="properties"></div>
</div>

<!--Edit workflow trigger-->
<sat-popover #overRideWorkflowTrigger hasBackdrop backdropClass="backdrop-color" verticalAlign="below"
    horizontalAlign="end">
    <mat-card class="p-0">
        <mat-card-title class="text-center mat-bg-primary">
            <div class="card-title-text p-05">{{'TESTMANAGEMENT.CONFIRMATION' | translate}}</div>
        </mat-card-title>
        <mat-card-content class="p-05">
            <div class="card-content mb-1 text-center">
                {{'GOALS.AREYOUSUREOVERRIDETHEWORKFLOWTRIGGER' | translate}}
            </div>
            <div class="text-center">
                <button class="mr-1" mat-button mat-raised-button color="primary" [disabled]="disableEditWorkflow"
                    (click)="overRideWorkflow()">
                    <fa-icon class="mr-05" icon="trash"></fa-icon> {{'ASSETS.YES' | translate}}
                </button>
                <button class="mr-1" mat-button mat-raised-button [disabled]="disableEditWorkflow"
                    (click)="preventOverRideWorkflow()">
                    <fa-icon class="mr-05" icon="times"></fa-icon> {{'GOALS.NOCREATEASNEWONE' | translate}}
                </button>
                <button mat-button mat-raised-button (click)="overRideWorkflowTrigger.close()">
                    <fa-icon class="mr-05" icon="times"></fa-icon> {{'TESTMANAGEMENT.CANCEL' | translate}}
                </button>
            </div>
        </mat-card-content>
    </mat-card>
</sat-popover>
<!--Edit workflow trigger-->

<style>
    #properties {
        position: absolute;
        top: 0;
        bottom: 0;
        right: 0;
        width: 260px;
        z-index: 10;
        border: 1px solid #ccc;
        overflow: auto;
    }
    #properties:empty {
        display: none;
    }
    #properties>.djs-properties-panel {
        padding-bottom: 70px;
        min-height: 100%;
    }
</style>